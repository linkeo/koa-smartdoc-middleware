<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Document</title><link rel="stylesheet" href="vue.0b05ff63.css"><link rel="stylesheet" href="src.25cd711b.css"></head><body class="sticky"> <main></main>  <script>window.getAppSpec=function(){return{type:"application",title:"选校帝API",name:"xxd-backend",description:"RESTful API service for xuanxiaodi.com web+app",notes:[],address:"",author:"linkang <linkang@innobuddy.com>",contact:"",version:"2.74.1",modules:[{type:"module",title:"测测你适合出国留学吗",name:"abroad-fitness-03e1a5",path:"/abroad_fitness",description:"",middlewares:[],notes:[],filename:"abroad_fitness",actions:[{type:"action",title:"获取问卷问题",name:"get-questions-8399dd",description:"",notes:[],route:{method:"GET",path:"/abroad_fitness/questions"},params:[],middlewares:[],filename:"abroad_fitness",funcname:"getQuestions"},{type:"action",title:"提交问卷答案",name:"post-answer-a1b232",description:"提交会产生一条记录；接口同时会返回答案数据",notes:[],route:{method:"POST",path:"/abroad_fitness/answer"},params:[{type:"string",name:"answers",description:"把所有题答案的key拼接成一个字符串，如：'ABCABCABC...'"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"abroad_fitness",funcname:"submitAnswer"},{type:"action",title:"获取问卷答案",name:"get-answers-id-94ef92",description:"",notes:[],route:{method:"GET",path:"/abroad_fitness/answers/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"abroad_fitness",funcname:"getAnswers"}]},{type:"module",title:"留学规划",name:"abroad-plan-1b7b50",path:"/abroad_plan",description:"",middlewares:[],notes:[],filename:"abroad_plan",actions:[{type:"action",title:"使用次数",name:"get-count-53fb8d",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/count"},params:[],middlewares:[],filename:"abroad_plan",funcname:"testCount"},{type:"action",title:"获得留学规划选项",name:"get-timelines-options-6488ff",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/timelines/options"},params:[{type:"string",name:"for",description:"= 'wap' (optional)"}],middlewares:[],filename:"abroad_plan",funcname:"getAbroadPlanOptions"},{type:"action",title:"直接查看留学规划",name:"get-timelines-first-time-9feddb",description:"",notes:["**每个uid只能以一种参数组合调用，改变参数则需要登录**"],route:{method:"GET",path:"/abroad_plan/timelines/first_time"},params:[{type:"string",name:"currentGradeId",description:""},{type:"string",name:"targetDegreeId",description:""}],middlewares:[],filename:"abroad_plan",funcname:"getSingleAbroadPlan"},{type:"action",title:"查看智能留学规划",name:"get-timelines-94886b",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/timelines"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"abroad_plan",funcname:"getAbroadPlan"},{type:"action",title:"提交并获取智能留学规划",name:"post-timelines-39035d",description:"",notes:[],route:{method:"POST",path:"/abroad_plan/timelines"},params:[{type:"string",name:"currentGradeId",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"scoreLanguage",description:"optional"},{type:"string",name:"score",description:"optional"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"abroad_plan",funcname:"postAbroadPlan"}]},{type:"module",title:"留学规划（人工）",name:"abroad-plan-manual-a04591",path:"/abroad_plan/manual",description:"",middlewares:[],notes:[],filename:"abroad_plan_manual",actions:[{type:"action",title:"使用次数",name:"get-count-ee24cd",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/manual/count"},params:[],middlewares:[],filename:"abroad_plan_manual",funcname:"testCount"},{type:"action",title:"获取选项数据",name:"get-options-a4bfa9",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/manual/options"},params:[],middlewares:[],filename:"abroad_plan_manual",funcname:"getOptions"},{type:"action",title:"获取高中选项数据",name:"get-highschool-options-e55432",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/manual/highschool/options"},params:[],middlewares:[],filename:"abroad_plan_manual",funcname:"getHighschoolOptions"},{type:"action",title:"提交并获取智能留学规划",name:"post-e84279",description:"",notes:["国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/abroad_plan/manual/"},params:[{type:"string",name:"targetCountryId",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"abroadYear",description:""},{type:"string",name:"name",description:""},{type:"string",name:"currentGradeId",description:""},{type:"string",name:"currentSchool",description:""},{type:"number",name:"score",description:""},{type:"string",name:"phone",description:"注册所需参数"},{type:"string",name:"countryCode",description:"注册所需参数，默认86"},{type:"string",name:"captcha",description:"注册所需参数"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册时额外的上下文（选填）（hmsr）"},{type:"string",name:"from",description:"注册时额外的上下文（选填）"},{type:"string",name:"note",description:"注册时额外的上下文（选填）（用户注册备注）"}],middlewares:[{name:"singlepass",args:""}],filename:"abroad_plan_manual",funcname:"postAbroadPlan"},{type:"action",title:"提交并获取高中智能留学规划",name:"post-highschool-9cced2",description:"",notes:["国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/abroad_plan/manual/highschool"},params:[{type:"string",name:"targetCountryId",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"abroadYear",description:""},{type:"string",name:"name",description:""},{type:"string",name:"currentGradeId",description:""},{type:"string",name:"currentSchool",description:""},{type:"number",name:"score",description:""},{type:"string",name:"phone",description:"注册所需参数"},{type:"string",name:"countryCode",description:"注册所需参数，默认86"},{type:"string",name:"captcha",description:"注册所需参数"},{type:"string",name:"nonce",description:""},{type:"string",name:"source",description:"注册时额外的上下文（选填）（hmsr）"},{type:"string",name:"from",description:"注册时额外的上下文（选填）"},{type:"string",name:"note",description:"注册时额外的上下文（选填）（用户注册备注）"}],middlewares:[{name:"singlepass",args:""}],filename:"abroad_plan_manual",funcname:"postHighschoolAbroadPlan"}]},{type:"module",title:"留学规划v2",name:"abroad-plan-v2-ecabae",path:"/abroad_plan/v2",description:"",middlewares:[],notes:[],filename:"abroad_plan_v2",actions:[{type:"action",title:"获取选项数据",name:"get-options-2a797e",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/v2/options"},params:[],middlewares:[],filename:"abroad_plan_v2",funcname:"getOptions"},{type:"action",title:"提交留学规划",name:"post-submit-76185d",description:"",notes:[],route:{method:"POST",path:"/abroad_plan/v2/submit"},params:[{type:"string",name:"targetCountryId",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"currentGradeId",description:""}],middlewares:[{name:"queue",args:"key=abroad.plan.v2.submit"},{name:"sessioncheck",args:""}],filename:"abroad_plan_v2",funcname:"submitAbroadPlan"},{type:"action",title:"获取留学规划结果",name:"get-answer-e8b294",description:"",notes:[],route:{method:"GET",path:"/abroad_plan/v2/answer"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"abroad_plan_v2",funcname:"getAnswer"}]},{type:"module",title:"留学服务",name:"abroad-service-f1b506",path:"/abroad_service",description:"",middlewares:[],notes:[],filename:"abroad_service",actions:[{type:"action",title:"获得留学服务基本信息",name:"get-general-679475",description:"",notes:[],route:{method:"GET",path:"/abroad_service/general"},params:[],middlewares:[],filename:"abroad_service",funcname:"general"},{type:"action",title:"获得学习中心列表",name:"get-centers-004f17",description:"",notes:[],route:{method:"GET",path:"/abroad_service/centers"},params:[{type:"number",name:"lat",description:"你的纬度"},{type:"number",name:"lng",description:"你的经度"}],middlewares:[],filename:"abroad_service",funcname:"centers"},{type:"action",title:"获得名师列表",name:"get-teachers-3ffaed",description:"",notes:[],route:{method:"GET",path:"/abroad_service/teachers"},params:[],middlewares:[],filename:"abroad_service",funcname:"teachers"},{type:"action",title:"获得申请计划列表",name:"get-plans-f95db9",description:"",notes:[],route:{method:"GET",path:"/abroad_service/plans"},params:[],middlewares:[],filename:"abroad_service",funcname:"plans"},{type:"action",title:"获得特色服务列表",name:"get-featured-b287bd",description:"",notes:[],route:{method:"GET",path:"/abroad_service/featured"},params:[],middlewares:[],filename:"abroad_service",funcname:"featured"},{type:"action",title:"获得特色服务列表",name:"get-oversea-93e490",description:"",notes:[],route:{method:"GET",path:"/abroad_service/oversea"},params:[],middlewares:[],filename:"abroad_service",funcname:"oversea"},{type:"action",title:"获得校园大使列表",name:"get-ambassadors-a945e6",description:"",notes:[],route:{method:"GET",path:"/abroad_service/ambassadors"},params:[],middlewares:[],filename:"abroad_service",funcname:"ambassadors"},{type:"action",title:"获得智课内部OFFER",name:"get-offers-a0220a",description:"",notes:[],route:{method:"GET",path:"/abroad_service/offers"},params:[{type:"boolean",name:"hasPhoto",description:"只获取有图片的offer"},{type:"string",name:"order",description:'"rank", "cnname", \'enname\''}],middlewares:[],filename:"abroad_service",funcname:"getInternalOffers"}]},{type:"module",title:"AB测试模块",name:"ab-test-a9e77f",path:"/abtest",description:"",middlewares:[],notes:[],filename:"abtest",actions:[{type:"action",title:"提交AB测试记录",name:"get-trace-272ee2",description:"",notes:[],route:{method:"GET",path:"/abtest/trace"},params:[{type:"string",name:"testSuite",description:"测试标题"},{type:"string",name:"testCase",description:"测试情况"},{type:"string",name:"action",description:"该情况下需要记录的行为"}],middlewares:[],filename:"abtest",funcname:"addTrace"}]},{type:"module",title:"活动库",name:"activity-project-b54335",path:"/activity/project",description:"",middlewares:[],notes:[],filename:"activity_project",actions:[{type:"action",title:"获取活动列表（V2）",name:"get-list-v2-289ee6",description:"",notes:[],route:{method:"GET",path:"/activity/project/list/v2"},params:[{type:"string",name:"keywords",description:""},{type:"number",name:"adeptGrade",description:""},{type:"number",name:"adeptMajor",description:""},{type:"number",name:"adeptType",description:""},{type:"number",name:"adeptMonth",description:"特殊值 'current' 代表当前（第一次请求列表可能需要提供）"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"activity_project",funcname:"listProjectsV2"},{type:"action",title:"获取活动列表",name:"get-list-c530af",description:"",notes:[],route:{method:"GET",path:"/activity/project/list"},params:[{type:"object",name:"page",description:""},{type:"object",name:"pageSize",description:""},{type:"object",name:"major",description:"按专业筛选（工科|商科|理科|文科|其他）"}],middlewares:[],filename:"activity_project",funcname:"listProjects"},{type:"action",title:"获取活动列表",name:"get-list-full-c26c7d",description:"",notes:[],route:{method:"GET",path:"/activity/project/list/full"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keywords",description:""},{type:"number",name:"adeptType",description:""},{type:"number",name:"adeptMonth",description:"特殊值 'current' 代表当前（第一次请求列表可能需要提供）"},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"activity_project",funcname:"listProjectsWithFullInfo"},{type:"action",title:"获取单个活动内容",name:"get-id-f403c1",description:"",notes:[],route:{method:"GET",path:"/activity/project/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"activity_project",funcname:"getProject"},{type:"action",title:"获取活动图片",name:"get-id-image-f4cfbd",description:"",notes:[],route:{method:"GET",path:"/activity/project/:id/image"},params:[{type:"number",name:"id",description:""},{type:"string",name:"type",description:"= 'introduction'"}],middlewares:[],filename:"activity_project",funcname:"getActivityImage"},{type:"action",title:"创建活动",name:"post-420c34",description:"",notes:[],route:{method:"POST",path:"/activity/project/"},params:[{type:"string",name:"name",description:""},{type:"string",name:"major",description:""},{type:"string",name:"quality",description:""},{type:"string",name:"review",description:""},{type:"string",name:"host",description:""},{type:"string",name:"price",description:""},{type:"string",name:"place",description:""},{type:"string",name:"registrationDeadline",description:""},{type:"string",name:"activityTime",description:""},{type:"string",name:"participantsLimit",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"mentors",description:""},{type:"string",name:"expectedOutcome",description:""},{type:"string",name:"note",description:""},{type:"Upload",name:"imageIntroduction",description:""},{type:"Array.<number>",name:"adeptGrades",description:""},{type:"Array.<number>",name:"adeptMajors",description:""},{type:"Array.<number>",name:"adeptTypes",description:""},{type:"Array.<number>",name:"adeptMonths",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=activity_project.create"}],filename:"activity_project",funcname:"createProject"},{type:"action",title:"获取活动编辑的选择数据",name:"get-options-7f0c5c",description:"",notes:[],route:{method:"GET",path:"/activity/project/options"},params:[],middlewares:[],filename:"activity_project",funcname:"getProjectOptions"},{type:"action",title:"更新活动内容",name:"put-id-951661",description:"",notes:[],route:{method:"PUT",path:"/activity/project/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"major",description:""},{type:"string",name:"quality",description:""},{type:"string",name:"review",description:""},{type:"string",name:"host",description:""},{type:"string",name:"price",description:""},{type:"string",name:"place",description:""},{type:"string",name:"registrationDeadline",description:""},{type:"string",name:"activityTime",description:""},{type:"string",name:"participantsLimit",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"mentors",description:""},{type:"string",name:"expectedOutcome",description:""},{type:"string",name:"note",description:""},{type:"Upload",name:"imageIntroduction",description:""},{type:"Array.<number>",name:"adeptGrades",description:""},{type:"Array.<number>",name:"adeptMajors",description:""},{type:"Array.<number>",name:"adeptTypes",description:""},{type:"Array.<number>",name:"adeptMonths",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=activity_project.update"}],filename:"activity_project",funcname:"updateProject"},{type:"action",title:"设置活动有效状态",name:"put-id-enabled-c6182c",description:"",notes:[],route:{method:"PUT",path:"/activity/project/:id/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"admincheck",args:"key=activity_project.set-enabled"}],filename:"activity_project",funcname:"setProjectEnabled"},{type:"action",title:"删除活动",name:"delete-id-4d3f9a",description:"",notes:[],route:{method:"DELETE",path:"/activity/project/:id"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=activity_project.delete"}],filename:"activity_project",funcname:"deleteProject"}]},{type:"module",title:"广告管理",name:"ad-13c7aa",path:"",description:"",middlewares:[],notes:[],filename:"ad",actions:[{type:"action",title:"获取单个广告",name:"get-ad-dd6acb",description:"",notes:[],route:{method:"GET",path:"/ad"},params:[{type:"string",name:"key",description:""},{type:"string",name:"platformId",description:""},{type:"string",name:"pageKey",description:""},{type:"string",name:"typeKey",description:""},{type:"number",name:"order",description:""},{type:"boolean",name:"needStatsticsData",description:""}],middlewares:[],filename:"ad",funcname:"getAd"},{type:"action",title:"获取单个广告",name:"get-ad-dd6acb",description:"",notes:[],route:{method:"GET",path:"/business/:key"},params:[{type:"string",name:"key",description:""},{type:"string",name:"platformId",description:""},{type:"string",name:"pageKey",description:""},{type:"string",name:"typeKey",description:""},{type:"number",name:"order",description:""},{type:"boolean",name:"needStatsticsData",description:""}],middlewares:[],filename:"ad",funcname:"getAd"},{type:"action",title:"获取广告列表",name:"get-ads-11de1c",description:"",notes:[],route:{method:"GET",path:"/ads"},params:[{type:"string",name:"platformId",description:""},{type:"string",name:"pageKey",description:""},{type:"string",name:"typeKey",description:""},{type:"boolean",name:"needStatsticsData",description:""}],middlewares:[],filename:"ad",funcname:"getAds"},{type:"action",title:"新建广告",name:"post-ad-3644a2",description:"",notes:[],route:{method:"POST",path:"/ad"},params:[{type:"string",name:"platformId",description:""},{type:"string",name:"pageKey",description:""},{type:"string",name:"typeKey",description:""},{type:"string",name:"name",description:""},{type:"Upload",name:"image",description:""},{type:"string",name:"adUrl",description:""},{type:"Date",name:"upTime",description:""},{type:"Date",name:"downTime",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=ad.create"}],filename:"ad",funcname:"createAd"},{type:"action",title:"编辑广告",name:"put-ad-id-a17f1d",description:"",notes:[],route:{method:"PUT",path:"/ad/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"Upload",name:"image",description:""},{type:"string",name:"adUrl",description:""},{type:"Date",name:"upTime",description:""},{type:"Date",name:"downTime",description:""}],middlewares:[{name:"admincheck",args:"key=ad.update"}],filename:"ad",funcname:"updateAd"},{type:"action",title:"移动广告",name:"post-ad-id-move-4e934e",description:"",notes:[],route:{method:"POST",path:"/ad/:id/move"},params:[{type:"number",name:"id",description:""},{type:'("up" | "down")',name:"direction",description:""}],middlewares:[{name:"admincheck",args:"key=ad.move"}],filename:"ad",funcname:"moveAd"},{type:"action",title:"删除广告",name:"delete-ad-id-eba244",description:"",notes:[],route:{method:"DELETE",path:"/ad/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=ad.delete"}],filename:"ad",funcname:"deleteAd"},{type:"action",title:"获得所有广告类型",name:"get-ad-types-2a48c3",description:"",notes:[],route:{method:"GET",path:"/ad_types"},params:[{type:"string",name:"platformId",description:""}],middlewares:[],filename:"ad",funcname:"getTypes"},{type:"action",title:"新建广告类型",name:"post-ad-type-f6b9b9",description:"",notes:[],route:{method:"POST",path:"/ad_type"},params:[{type:"string",name:"platformId",description:""},{type:"string",name:"key",description:""},{type:"string",name:"name",description:""},{type:"number",name:"width",description:""},{type:"number",name:"height",description:""},{type:"string",name:"description",description:""},{type:"string",name:"passphrase",description:"姚老板"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=ad_type.create"}],filename:"ad",funcname:"addType"},{type:"action",title:"添加APP开机广告",name:"post-ad-launch-ae71be",description:"",notes:[],route:{method:"POST",path:"/ad_launch"},params:[{type:"string",name:"name",description:"广告名称"},{type:"Array.<string>",name:"platform",description:"平台 ios android"},{type:"string",name:"startTime",description:"开机广告的开始时间 格式YYYY-MM-DD"},{type:"string",name:"endTime",description:"结束时间 格式YYYY-MM-DD"},{type:"string",name:"informEmail",description:"通知人邮箱 以逗号分隔"},{type:"Upload",name:"adImg",description:"广告图片（普通屏）"},{type:"Upload",name:"adFsImg",description:"广告图片（全面屏）"},{type:"string",name:"adUrl",description:"广告图片链接"},{type:"boolean",name:"enabled",description:"是否上线"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=ad_launch.create"}],filename:"ad",funcname:"createAdLaunch"},{type:"action",title:"获取APP开机广告管理列表",name:"get-ad-launch-list-be6e15",description:"",notes:[],route:{method:"GET",path:"/ad_launch/list"},params:[{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:"string",name:"name",description:"广告名称"},{type:"string",name:"userName",description:"用户昵称"},{type:"array",name:"platform",description:"平台"},{type:"Date",name:"minTime",description:"开始时间"},{type:"Date",name:"maxTime",description:"结束时间"},{type:"boolean",name:"enabled",description:"是否在线"}],middlewares:[{name:"admincheck",args:"key=ad_launch.list"}],filename:"ad",funcname:"getAdLaunchList"},{type:"action",title:"编辑APP开机广告",name:"put-ad-launch-id-bfeb5c",description:"",notes:[],route:{method:"PUT",path:"/ad_launch/:id"},params:[{type:"number",name:"id",description:"广告id"},{type:"string",name:"name",description:"广告名称"},{type:"Array.<string>",name:"platform",description:"平台 ios android"},{type:"string",name:"startTime",description:"开机广告的开始时间 格式YYYY-MM-DD"},{type:"string",name:"endTime",description:"结束时间 格式YYYY-MM-DD"},{type:"string",name:"informEmail",description:"通知人邮箱 以逗号分隔"},{type:"Upload",name:"adImg",description:"广告图片（普通屏）"},{type:"Upload",name:"adFsImg",description:"广告图片（全面屏）"},{type:"string",name:"adUrl",description:"广告链接（普通屏）"},{type:"boolean",name:"enabled",description:"是否上线"}],middlewares:[{name:"admincheck",args:"key=ad_launch.edit"}],filename:"ad",funcname:"updateAdLaunch"},{type:"action",title:"编辑APP开机广告deleted属性",name:"put-ad-launch-id-deleted-7bf7c6",description:"",notes:[],route:{method:"PUT",path:"/ad_launch/:id/deleted"},params:[{type:"number",name:"id",description:"广告id"},{type:"boolean",name:"deleted",description:"是否上线"}],middlewares:[{name:"admincheck",args:"key=ad_launch.delete"}],filename:"ad",funcname:"updateAdLaunchDeleted"},{type:"action",title:"获取app开机广告数据",name:"get-business-launch-7f462b",description:"",notes:[],route:{method:"GET",path:"/business/launch"},params:[],middlewares:[],filename:"ad",funcname:"getAdLaunch"},{type:"action",title:"跳转广告链接",name:"get-business-redirect-6b7180",description:"",notes:["文档以外的其他参数将追加到目标链接上"],route:{method:"GET",path:"/business/redirect"},params:[{type:"string",name:"type",description:"广告类型 默认:ad, 如果是APP开机广告:launch"},{type:"object",name:"id",description:"广告ID"}],middlewares:[],filename:"ad",funcname:"getAdLink"}]},{type:"module",title:"权限模块",name:"admin-eabc1c",path:"/admin",description:"",middlewares:[],notes:[],filename:"admin",actions:[{type:"action",title:"获得当前管理员的权限表",name:"get-permission-df45e7",description:"",notes:[],route:{method:"GET",path:"/admin/permission"},params:[],middlewares:[{name:"admincheck",args:"key=admin.permission.show&defaultValue=true"}],filename:"admin",funcname:"getPermission"},{type:"action",title:"获得后台用API列表",name:"get-api-7dc942",description:"",notes:[],route:{method:"GET",path:"/admin/api"},params:[],middlewares:[{name:"admincheck",args:"key=api.list&defaultValue=true"}],filename:"admin",funcname:"getApiList"},{type:"action",title:"获得后台目录结构",name:"get-menu-e91c85",description:"",notes:[],route:{method:"GET",path:"/admin/menu"},params:[],middlewares:[{name:"admincheck",args:"key=menu.get"}],filename:"admin",funcname:"getMenu"},{type:"action",title:"上传后台目录结构（覆盖）",name:"post-menu-f57a95",description:"",notes:[],route:{method:"POST",path:"/admin/menu"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=menu.update"}],filename:"admin",funcname:"uploadMenu"}]},{type:"module",title:"录取率管理",name:"admission-rate-f862c6",path:"",description:"",middlewares:[],notes:[],filename:"admission_rate",actions:[{type:"action",title:"测试次数",name:"get-admission-rate-test-count-e14dc0",description:"",notes:[],route:{method:"GET",path:"/admission_rate/test_count"},params:[],middlewares:[],filename:"admission_rate",funcname:"testCount"},{type:"action",title:"获得选项数据",name:"get-admission-rate-options-9aba05",description:"",notes:[],route:{method:"GET",path:"/admission_rate/options"},params:[],middlewares:[],filename:"admission_rate",funcname:"getOptions"},{type:"action",title:"获取录取率",name:"get-admission-rate-bcc629",description:"",notes:[],route:{method:"GET",path:"/admission_rate"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"admission_rate",funcname:"getAdmissionRate"},{type:"action",title:"获取录取率列表",name:"get-admission-rates-67c451",description:"",notes:[],route:{method:"GET",path:"/admission_rates"},params:[{type:"number",name:"adminId",description:"关联的管理员编号"},{type:"number",name:"userId",description:"用户编号"},{type:"number",name:"schoolId",description:"学校编号"},{type:"string",name:"phone",description:"手机号"},{type:"string",name:"name",description:"姓名"},{type:"string",name:"score",description:"学习成绩"},{type:"string",name:"sat",description:"sat成绩"},{type:"string",name:"toefl",description:"toefl成绩"},{type:"string",name:"ielts",description:"ielts成绩"},{type:"string",name:"act",description:"act成绩"},{type:"string",name:"gre",description:"gre成绩"},{type:"string",name:"gmat",description:"gmat成绩"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=admission_rate.list"}],filename:"admission_rate",funcname:"getAdmissionRates"},{type:"action",title:"新建录取率",name:"post-admission-rate-6709a7",description:"",notes:["国际号码兼容：不支持国际号码，仅支持国内手机号"],route:{method:"POST",path:"/admission_rate"},params:[{type:"String",name:"schoolId",description:"学校编号"},{type:"String",name:"projectId",description:"申请项目编号"},{type:"String",name:"gradeId",description:"年级编号"},{type:"String",name:"score",description:"学习成绩"},{type:"String",name:"sat",description:"SAT成绩"},{type:"String",name:"act",description:"act成绩"},{type:"Number",name:"toefl",description:"托福成绩"},{type:"Number",name:"ielts",description:"雅思成绩"},{type:"Number",name:"gre",description:"gre成绩"},{type:"Number",name:"gmat",description:"gmat成绩"},{type:"string",name:"name",description:"注册新用户填写的昵称（默认是打码的手机号）"},{type:"string",name:"phone",description:"注册新用户填写的手机号"},{type:"string",name:"captcha",description:"注册新用户填写的手机验证码"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册新用户填写的上下文信息"},{type:"string",name:"sourceAction",description:"注册新用户填写的上下文信息"},{type:"string",name:"referer",description:"注册新用户填写的上下文信息"},{type:"String",name:"code",description:""},{type:"String",name:"iv",description:""},{type:"String",name:"encryptedData",description:""},{type:"boolean",name:"baiduxz",description:"如果是百度熊账号授权，这个填true"},{type:"string",name:"accessToken",description:"百度熊掌号授权参数"},{type:"string",name:"openid",description:"百度熊掌号授权参数"}],middlewares:[{name:"singlepass",args:""}],filename:"admission_rate",funcname:"postAdmissionRate"},{type:"action",title:"发送百度熊掌号推送",name:"post-admission-rate-baiduxz-message-16dbab",description:"",notes:[],route:{method:"POST",path:"/admission_rate/baiduxz/message"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"admission_rate",funcname:"sendBaiduxzMessage"},{type:"action",title:"近期使用的用户流",name:"get-admission-rate-recent-da7880",description:"",notes:[],route:{method:"GET",path:"/admission_rate/recent"},params:[],middlewares:[],filename:"admission_rate",funcname:"getRecentFlow"},{type:"action",title:"给录取率测试写备注",name:"put-admission-rate-id-note-22b871",description:"",notes:[],route:{method:"PUT",path:"/admission_rate/:id/note"},params:[{type:"number",name:"id",description:""},{type:"string",name:"note",description:""}],middlewares:[{name:"admincheck",args:"key=admission_rate.note"}],filename:"admission_rate",funcname:"noteAdmissionRate"},{type:"action",title:"分配录取率测试",name:"put-admission-rates-assign-0c8660",description:"",notes:[],route:{method:"PUT",path:"/admission_rates/assign"},params:[{type:"number",name:"ids",description:"录取率测试条目ID，用英文逗号隔开"},{type:"number",name:"adminId",description:"管理员ID"}],middlewares:[{name:"admincheck",args:"key=admission_rate.assign"}],filename:"admission_rate",funcname:"assignAdmissionRate"},{type:"action",title:"获取折线图数据（30天）",name:"get-admission-rate-linechart-data-2c6c3e",description:"",notes:[],route:{method:"GET",path:"/admission_rate/linechart_data"},params:[],middlewares:[{name:"admincheck",args:"key=admission_rate.linechart"}],filename:"admission_rate",funcname:"lineChartData"}]},{type:"module",title:"录取率测试v2",name:"admission-rate-v2-f1d2e5",path:"/admission_rate/v2",description:"",middlewares:[],notes:[],filename:"admission_rate_v2",actions:[{type:"action",title:"测试次数",name:"get-test-count-f9d146",description:"",notes:[],route:{method:"GET",path:"/admission_rate/v2/test_count"},params:[],middlewares:[],filename:"admission_rate_v2",funcname:"testCount"},{type:"action",title:"近期测试的学校",name:"get-recent-schools-70604a",description:"",notes:[],route:{method:"GET",path:"/admission_rate/v2/recent/schools"},params:[],middlewares:[],filename:"admission_rate_v2",funcname:"recentMostTestedSchools"},{type:"action",title:"近期测试的用户",name:"get-recent-users-6ead7f",description:"",notes:[],route:{method:"GET",path:"/admission_rate/v2/recent/users"},params:[],middlewares:[],filename:"admission_rate_v2",funcname:"getRecentTesters"},{type:"action",title:"获取指定学校的测试表单",name:"get-school-form-647786",description:"",notes:["`preconditions` 是用于确定使用哪一套表单的选项\n- `preconditions.unconditional` 是必填项，一开始就需要填写\n- `preconditions.conditional` 是按条件填写的项，需要根据选项的值判断是否需要展示并填写（`when` 指定了出现条件）\n- `forms` 是表单列表，其中每一项的 `when` 指定了其出现条件\n- 表单中的 `screens` 代表表单的分屏\n- 分屏中的 `groups` 代表控件组\n- 每个控件组只需要选择一项来填写，控件组的 `skippable` 属性代表这一组控件是否可跳过（不填）\n- 控件组中的 `inputs` 代表具体控件，有两种类型（`type`）：`number` 和 `select`\n- 控件的标题为 `name`，字段为 `key`，头部说明为 `header`，底部说明为 `tips`\n- `number` 类型的控件只能填写数字，`min`、`max` 限定了数字的填写范围\n- `select` 类型的控件用于选择选项，`multiple` 代表是否可多选\n  - 如果 `select` 为单选，`options` 代表选项数据（`id` 为选项值, `name` 为显示名称）\n  - 如果 `select` 为多选，`options` 代表选项数据，`sections` 代表展示组\n    - `options` 中 `id` 为选项值, `name` 为显示名称，`group` 为互斥组\n    - 互斥组的互斥逻辑为：两个选项的 `group` 存在相交位（`a & b != 0`），则这两个选项互斥\n    - `sections` 代表展示组（展示组仅控制展示，不含选项逻辑关系），每个展示组之间需要间隔隔开\n    - `section` 中包括 `hasTitle`, `title`, `style` 字段，控制该组的展示样式（有无标题、选项样式）\n    - `section` 中包括 `options`，每一项为选项的 `id`，表示 `section` 中包含的选项"],route:{method:"GET",path:"/admission_rate/v2/school/form"},params:[{type:"number",name:"schoolId",description:""}],middlewares:[],filename:"admission_rate_v2",funcname:"getSchoolForm"},{type:"action",title:"检查表单数据（单屏）",name:"post-form-check-8bc59a",description:"",notes:["表单数据的键为表单项的 `key`"],route:{method:"POST",path:"/admission_rate/v2/form/check"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"degree",description:"可以放到values里边"},{type:"string",name:"direction",description:"可以放到values里边"},{type:"number",name:"screen",description:""},{type:"object",name:"values",description:""}],middlewares:[],filename:"admission_rate_v2",funcname:"checkScreen"},{type:"action",title:"提交表单数据",name:"post-form-submit-39a050",description:"",notes:["表单数据也直接丢到参数里\n- 表单数据的键为表单项的 `key`","国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/admission_rate/v2/form/submit"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"degree",description:"可以放到values里边"},{type:"string",name:"direction",description:"可以放到values里边"},{type:"object",name:"values",description:""},{type:"string",name:"name",description:"注册新用户填写的昵称（默认是打码的手机号）"},{type:"string",name:"phone",description:"注册新用户填写的手机号"},{type:"string",name:"countryCode",description:"注册所需参数，默认86"},{type:"string",name:"captcha",description:"注册新用户填写的手机验证码"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册新用户填写的上下文信息"},{type:"string",name:"sourceAction",description:"注册新用户填写的上下文信息"},{type:"string",name:"referer",description:"注册新用户填写的上下文信息"},{type:"String",name:"code",description:""},{type:"String",name:"iv",description:""},{type:"String",name:"encryptedData",description:""},{type:"boolean",name:"baiduxz",description:"如果是百度熊账号授权，这个填true"},{type:"string",name:"accessToken",description:"百度熊掌号授权参数"},{type:"string",name:"openid",description:"百度熊掌号授权参数"}],middlewares:[],filename:"admission_rate_v2",funcname:"submit"},{type:"action",title:"获取录取率测试结果",name:"get-result-dc20ad",description:"",notes:[],route:{method:"GET",path:"/admission_rate/v2/result"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"hasRecommendedConsultants",description:""}],middlewares:[],filename:"admission_rate_v2",funcname:"getResult"},{type:"action",title:"发送百度熊掌号推送",name:"post-baiduxz-message-687f36",description:"",notes:[],route:{method:"POST",path:"/admission_rate/v2/baiduxz/message"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"admission_rate_v2",funcname:"sendBaiduxzMessage"}]},{type:"module",title:"校友点评",name:"alumni-comment-4e525f",path:"/school/alumni/comment",description:"",middlewares:[],notes:[],filename:"alumni_comment",actions:[{type:"action",title:"获取校友点评列表",name:"get-list-c4fb65",description:"",notes:[],route:{method:"GET",path:"/school/alumni/comment/list"},params:[{type:"number",name:"schoolId",description:""}],middlewares:[],filename:"alumni_comment",funcname:"getList"}]},{type:"module",title:"安卓版本管理",name:"android-version-074146",path:"/android/version",description:"",middlewares:[],notes:[],filename:"android_version",actions:[{type:"action",title:"列出所有版本",name:"get-list-7a3383",description:"",notes:[],route:{method:"GET",path:"/android/version/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"android_version",funcname:"list"},{type:"action",title:"创建新版本",name:"post-version-c04f89",description:"",notes:[],route:{method:"POST",path:"/android/version/:version"},params:[{type:"string",name:"version",description:""},{type:"string",name:"description",description:""},{type:"string",name:"packageUrl",description:""},{type:"number",name:"packageSize",description:"in bytes"},{type:"boolean",name:"forceUpdate",description:""},{type:"boolean",name:"enabled",description:""},{type:"Array",name:"channels",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=android.version.create"}],filename:"android_version",funcname:"create"},{type:"action",title:"编辑版本信息",name:"put-version-cb538f",description:"",notes:[],route:{method:"PUT",path:"/android/version/:version"},params:[{type:"string",name:"version",description:""},{type:"string",name:"description",description:""},{type:"string",name:"packageUrl",description:""},{type:"string",name:"packageSize",description:""},{type:"boolean",name:"forceUpdate",description:""},{type:"boolean",name:"enabled",description:""},{type:"Array",name:"channels",description:""}],middlewares:[{name:"admincheck",args:"key=android.version.update"}],filename:"android_version",funcname:"update"},{type:"action",title:"上传版本安装包",name:"put-version-package-7b5fb2",description:"",notes:[],route:{method:"PUT",path:"/android/version/:version/package"},params:[{type:"string",name:"version",description:""},{type:"Upload",name:"package",description:""}],middlewares:[{name:"admincheck",args:"key=android.version.upload"}],filename:"android_version",funcname:"upload"},{type:"action",title:"上传百度专用安装包",name:"put-latest-package-baidu-857676",description:"",notes:[],route:{method:"PUT",path:"/android/version/latest/package/baidu"},params:[{type:"Upload",name:"package",description:""}],middlewares:[{name:"admincheck",args:"key=android.version.upload"}],filename:"android_version",funcname:"uploadBaiduPackage"},{type:"action",title:"检查版本",name:"get-version-check-81b434",description:"判断版本更新的逻辑如下：\n1. 有版本号大于参数的版本，则存在更新\n2. Major版本号发生改变、或有比参数版本新的强制更新版本，则强制更新到最新版本\n3. 参数版本比任何一个版本要大时，不存在更新，且返回最新版本为参数版本",notes:['成功的返回值示例如下：\n```\n{\n  "code": 0,\n  "data": {\n    "needUpdate": true,\n    "latestVersion": "1.1.4",\n    "forceUpdate": false,\n    "packageUrl": "http://example.packages.com/android/package/1.1.4.apk"\n  }\n}\n```'],route:{method:"GET",path:"/android/version/:version/check"},params:[{type:"string",name:"version",description:""}],middlewares:[],filename:"android_version",funcname:"check"},{type:"action",title:"安卓最新版本下载",name:"get-latest-7a7984",description:"",notes:[],route:{method:"GET",path:"/android/version/latest"},params:[],middlewares:[],filename:"android_version",funcname:"latestDownload"}]},{type:"module",title:"APP崩溃日志服务",name:"app-crash-log-f372f5",path:"/app/crashlog",description:"",middlewares:[],notes:[],filename:"app_crash_log",actions:[{type:"action",title:"添加崩溃日志",name:"post-c14da7",description:"",notes:[],route:{method:"POST",path:"/app/crashlog/"},params:[{type:"string",name:"body",description:""},{type:"Date",name:"crashTime",description:""}],middlewares:[],filename:"app_crash_log",funcname:"push"},{type:"action",title:"删除崩溃日志",name:"delete-id-f9e77a",description:"",notes:[],route:{method:"DELETE",path:"/app/crashlog/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"app_crash_log",funcname:"destory"},{type:"action",title:"获得崩溃日志内容",name:"get-id-download-8ba69f",description:"",notes:[],route:{method:"GET",path:"/app/crashlog/:id/download"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"app_crash_log",funcname:"download"},{type:"action",title:"获得崩溃日志列表",name:"get-list-5f63f2",description:"",notes:["国际号码兼容：不支持国际号码"],route:{method:"GET",path:"/app/crashlog/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"uid",description:""},{type:"string",name:"user",description:""},{type:"string",name:"ip",description:""},{type:"string",name:"platform",description:""},{type:"string",name:"version",description:""},{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"app_crash_log",funcname:"list"}]},{type:"module",title:"APP活动下载模块",name:"app-download-activity-c29c68",path:"/app/download/activity",description:"",middlewares:[],notes:[],filename:"app_download_activity",actions:[{type:"action",title:"创建市场活动APP下载条目",name:"post-4f5d5b",description:"",notes:[],route:{method:"POST",path:"/app/download/activity/"},params:[{type:"string",name:"activityName",description:""},{type:"string",name:"activityId",description:""},{type:"string",name:"pid",description:""},{type:"string",name:"androidPackageChannel",description:""},{type:"string",name:"androidPackageVersion",description:""},{type:"string",name:"androidPackageSize",description:""},{type:"string",name:"androidPackageUrl",description:""},{type:"string",name:"iosLink",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=app_download_activity.write"}],filename:"app_download_activity",funcname:"createActivity"},{type:"action",title:"上传安卓安装包",name:"post-package-986e1f",description:"",notes:[],route:{method:"POST",path:"/app/download/activity/package"},params:[{type:"string",name:"activityId",description:""},{type:"string",name:"androidPackageChannel",description:""},{type:"string",name:"androidPackageVersion",description:""},{type:"Upload",name:"androidPackageFile",description:""}],middlewares:[{name:"admincheck",args:"key=app_download_activity.write"}],filename:"app_download_activity",funcname:"uploadActivityPackage"},{type:"action",title:"编辑市场活动APP下载条目",name:"put-id-7b2775",description:"",notes:[],route:{method:"PUT",path:"/app/download/activity/:id"},params:[{type:"string",name:"id",description:""},{type:"string",name:"activityName",description:""},{type:"string",name:"activityId",description:""},{type:"string",name:"pid",description:""},{type:"string",name:"androidPackageChannel",description:""},{type:"string",name:"androidPackageVersion",description:""},{type:"string",name:"androidPackageSize",description:""},{type:"string",name:"androidPackageUrl",description:""},{type:"string",name:"iosLink",description:""}],middlewares:[{name:"admincheck",args:"key=app_download_activity.write"}],filename:"app_download_activity",funcname:"updateActivity"},{type:"action",title:"获得市场活动APP下载条目列表",name:"get-list-444b54",description:"",notes:[],route:{method:"GET",path:"/app/download/activity/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=app_download_activity.read"}],filename:"app_download_activity",funcname:"list"},{type:"action",title:"市场活动APP下载",name:"get-id-download-de4ca7",description:"",notes:[],route:{method:"GET",path:"/app/download/activity/:id/download"},params:[{type:"object",name:"id",description:""},{type:"object",name:"pid",description:""},{type:"object",name:"activityId",description:""}],middlewares:[],filename:"app_download_activity",funcname:"download"}]},{type:"module",title:"学校申请信息管理",name:"application-b91a07",path:"",description:"",middlewares:[],notes:[],filename:"application",actions:[{type:"action",title:"获取申请",name:"get-application-735689",description:"",notes:[],route:{method:"GET",path:"/application"},params:[{type:"number",name:"id",description:"编号"},{type:"number",name:"schoolId",description:""},{type:"number",name:"typeId",description:""},{type:"number",name:"majorId",description:""},{type:"boolean",name:"withConsultants",description:""},{type:"boolean",name:"withMajors",description:""},{type:"boolean",name:"thirdparty",description:""},{type:"string",name:"majorType",description:"'v2', 'hk', 'default'"}],middlewares:[],filename:"application",funcname:"getApplication"},{type:"action",title:"获取申请列表",name:"get-applications-9d2435",description:"",notes:[],route:{method:"GET",path:"/applications"},params:[{type:"string",name:"keyword",description:"关键词"},{type:"number",name:"typeId",description:"类型编号"},{type:"number",name:"majorId",description:"专业编号"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"application",funcname:"getApplications"},{type:"action",title:"新建申请",name:"post-application-e8535f",description:"",notes:[],route:{method:"POST",path:"/application"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=application.create"}],filename:"application",funcname:"postApplication"},{type:"action",title:"更新申请",name:"put-application-4e5bd5",description:"",notes:[],route:{method:"PUT",path:"/application"},params:[],middlewares:[{name:"admincheck",args:"key=application.update"}],filename:"application",funcname:"putApplication"},{type:"action",title:"删除申请",name:"delete-application-1f44db",description:"",notes:[],route:{method:"DELETE",path:"/application"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=application.delete"}],filename:"application",funcname:"deleteApplication"}]},{type:"module",title:"申请案例",name:"application-case-b96da5",path:"",description:"",middlewares:[],notes:[],filename:"application_case",actions:[{type:"action",title:"获得案例数量",name:"get-application-cases-count-b937b8",description:"",notes:[],route:{method:"GET",path:"/application_cases/count"},params:[{type:"number",name:"page",description:"分页"},{type:"string",name:"schoolKeyword",description:"按学校搜索"},{type:"string",name:"nameKeyword",description:"按姓名搜索"},{type:"number",name:"schoolId",description:"学校ID"},{type:"string",name:"countryId",description:"国家ID"},{type:"string",name:"degreeId",description:"年级ID"},{type:"string",name:"localRank",description:"国内排名"},{type:"boolean",name:"internal",description:"是否为智课出去的offer"},{type:"boolean",name:"hasGre",description:"有GRE成绩，下同"},{type:"boolean",name:"hasGmat",description:""},{type:"boolean",name:"hasToefl",description:""},{type:"boolean",name:"hasIelts",description:""},{type:"boolean",name:"hasSat",description:""},{type:"boolean",name:"hasCet6",description:""},{type:"boolean",name:"hasGpa",description:""},{type:"boolean",name:"hasAvatar",description:""},{type:"boolean",name:"hasLanguageScore",description:""},{type:"boolean",name:"hasStandardScore",description:""},{type:"boolean",name:"hasCaseReview",description:""},{type:"boolean",name:"respectCountry",description:"根据国家自动确定需要的考试成绩"}],middlewares:[],filename:"application_case",funcname:"countCases"},{type:"action",title:"查询案例",name:"get-application-cases-cc7247",description:"",notes:[],route:{method:"GET",path:"/application_cases"},params:[{type:"number",name:"page",description:"分页"},{type:"number",name:"pageSize",description:""},{type:"string",name:"schoolKeyword",description:"按学校搜索"},{type:"string",name:"nameKeyword",description:"按姓名搜索"},{type:"number",name:"schoolId",description:"学校ID"},{type:"string",name:"countryId",description:"国家ID"},{type:"string",name:"degreeId",description:"年级ID"},{type:"string",name:"localRank",description:"国内排名"},{type:"boolean",name:"internal",description:"是否为智课出去的offer"},{type:"boolean",name:"hasGre",description:"有GRE成绩，下同"},{type:"boolean",name:"hasGmat",description:""},{type:"boolean",name:"hasToefl",description:""},{type:"boolean",name:"hasIelts",description:""},{type:"boolean",name:"hasSat",description:""},{type:"boolean",name:"hasCet6",description:""},{type:"boolean",name:"hasGpa",description:""},{type:"boolean",name:"hasAvatar",description:""},{type:"boolean",name:"hasLanguageScore",description:""},{type:"boolean",name:"hasStandardScore",description:""},{type:"boolean",name:"hasCaseReview",description:""},{type:"boolean",name:"respectCountry",description:"根据国家自动确定需要的考试成绩"}],middlewares:[],filename:"application_case",funcname:"getCases"},{type:"action",title:"获得单个案例",name:"get-application-case-id-d29104",description:"",notes:[],route:{method:"GET",path:"/application_case/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"application_case",funcname:"getCase"},{type:"action",title:"创建案例",name:"post-application-case-8697c6",description:"",notes:[],route:{method:"POST",path:"/application_case"},params:[{type:"number",name:"schoolId",description:"申请学校ID（必填）"},{type:"string",name:"name",description:"申请人（必填）"},{type:"Upload",name:"avatar",description:"申请人头像"},{type:"string",name:"major",description:"申请专业名（必填）"},{type:"string",name:"degreeId",description:"申请年级（必填）"},{type:"number",name:"scoreToefl",description:""},{type:"number",name:"scoreIelts",description:""},{type:"number",name:"scoreGre",description:""},{type:"number",name:"scoreGmat",description:""},{type:"number",name:"scoreSat",description:""},{type:"number",name:"scoreCet6",description:""},{type:"number",name:"gpa",description:""},{type:"string",name:"majorBefore",description:"就读专业"},{type:"string",name:"schoolBefore",description:"就读学校（必填）"},{type:"string",name:"degreeBefore",description:"就读年级（必填）"},{type:"string",name:"offerYear",description:"申请就读年份"},{type:"string",name:"offerSemester",description:"申请就读学期"},{type:"Date",name:"offerTime",description:"OFFER发放时间"},{type:"string",name:"applicationReview",description:"申请点评"},{type:"string",name:"caseReview",description:"案例点评"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=application_case.create"}],filename:"application_case",funcname:"createCase"},{type:"action",title:"编辑案例",name:"put-application-case-id-6c172a",description:"",notes:[],route:{method:"PUT",path:"/application_case/:id"},params:[{type:"number",name:"id",description:"案例ID"},{type:"number",name:"schoolId",description:"申请学校ID"},{type:"string",name:"name",description:"申请人"},{type:"Upload",name:"avatar",description:"申请人头像"},{type:"string",name:"major",description:"申请专业名"},{type:"string",name:"degreeId",description:"申请年级"},{type:"number",name:"scoreToefl",description:""},{type:"number",name:"scoreIelts",description:""},{type:"number",name:"scoreGre",description:""},{type:"number",name:"scoreGmat",description:""},{type:"number",name:"scoreSat",description:""},{type:"number",name:"scoreCet6",description:""},{type:"number",name:"gpa",description:""},{type:"string",name:"majorBefore",description:"毕业专业"},{type:"string",name:"schoolBefore",description:"毕业学校"},{type:"string",name:"degreeBefore",description:"就读年级"},{type:"string",name:"offerYear",description:"申请就读年份"},{type:"string",name:"offerSemester",description:"申请就读学期"},{type:"Date",name:"offerTime",description:"OFFER发放时间"},{type:"string",name:"applicationReview",description:"申请点评"},{type:"string",name:"caseReview",description:"案例点评"}],middlewares:[{name:"admincheck",args:"key=application_case.update"}],filename:"application_case",funcname:"updateCase"}]},{type:"module",title:"文章管理",name:"article-af0d2e",path:"",description:"",middlewares:[],notes:[],filename:"article",actions:[{type:"action",title:"获取region，degree，stage的列表",name:"get-article-category-options-4dcd23",description:"",notes:[],route:{method:"GET",path:"/article/category/options"},params:[],middlewares:[{name:"admincheck",args:"key=article.options.list"}],filename:"article",funcname:"getArticleOptions"},{type:"action",title:"获取指定category的属性",name:"get-article-category-id-options-e50869",description:"",notes:[],route:{method:"GET",path:"/article/category/:id/options"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=article.options.list"}],filename:"article",funcname:"getArticleOptionsFromArticle"},{type:"action",title:"根据 regionId,degreeId,stageId获取category",name:"get-article-category-7a178b",description:"",notes:[],route:{method:"GET",path:"/article/category"},params:[{type:"string",name:"regionId",description:""},{type:"string",name:"degreeId",description:""},{type:"string",name:"stageId",description:""}],middlewares:[{name:"admincheck",args:"key=article.category.list"}],filename:"article",funcname:"getArticleCategory"},{type:"action",title:"",name:"get-article-categories-negative-cd198e",description:"",notes:[],route:{method:"GET",path:"/article/categories/negative"},params:[],middlewares:[{name:"admincheck",args:"key=article.data.categories.negative"}],filename:"article",funcname:"getArticleNegativeCategories"},{type:"action",title:"移动节点",name:"put-article-node-id-position-83b012",description:"",notes:[],route:{method:"PUT",path:"/article/node/:id/position"},params:[],middlewares:[{name:"admincheck",args:"key=article.node.move"}],filename:"article",funcname:"moveNode"},{type:"action",title:"删除节点",name:"delete-article-node-id-fbe494",description:"",notes:[],route:{method:"DELETE",path:"/article/node/:id"},params:[{type:"boolean",name:"force",description:"是否强制删除(在目标为非空列表时)"}],middlewares:[{name:"admincheck",args:"key=article.node.delete"}],filename:"article",funcname:"delNode"},{type:"action",title:"获得节点列表",name:"get-article-nodes-be598e",description:"",notes:[],route:{method:"GET",path:"/article/nodes"},params:[{type:"number",name:"categoryId",description:"目录节点categoryId"},{type:"number",name:"parentId",description:"目录节点prarentId"}],middlewares:[{name:"admincheck",args:"key=article.node.get"}],filename:"article",funcname:"getNodes"},{type:"action",title:"新增节点",name:"post-article-node-71b33b",description:"",notes:[],route:{method:"POST",path:"/article/node"},params:[{type:"number",name:"categoryId",description:"要新增节点的categoryId"},{type:"boolean",name:"isArticle",description:"要新增节点的isArticle"},{type:"string",name:"title",description:"要新增节点的title"},{type:"number",name:"articleId",description:"要新增节点的articleId"},{type:"number",name:"parentId",description:"要新增节点的parentId"}],middlewares:[{name:"admincheck",args:"key=article.node.add"}],filename:"article",funcname:"addNode"},{type:"action",title:"更新节点",name:"put-article-node-id-59697c",description:"",notes:[],route:{method:"PUT",path:"/article/node/:id"},params:[{type:"string",name:"title",description:""}],middlewares:[{name:"admincheck",args:"key=article.node.update"}],filename:"article",funcname:"updateNode"},{type:"action",title:"新增文章",name:"post-article-data-fb4f08",description:"",notes:[],route:{method:"POST",path:"/article/data"},params:[{type:"number",name:"categoryId",description:"要新增文章的categoryId"},{type:"string",name:"title",description:"要新增文章的title"},{type:"string",name:"sourceContent",description:"要新增文章的sourceContent"},{type:"string",name:"content",description:"要新增文章的content"}],middlewares:[{name:"admincheck",args:"key=article.data.add"}],filename:"article",funcname:"addArticle"},{type:"action",title:"更新文章",name:"put-article-data-id-6dfd2f",description:"",notes:[],route:{method:"PUT",path:"/article/data/:id"},params:[{type:"number",name:"id",description:"文章id"},{type:"number",name:"categoryId",description:"要修改文章的categoryId"},{type:"string",name:"title",description:"要修改文章的title"},{type:"string",name:"sourceContent",description:"要修改文章的sourceContent"},{type:"string",name:"content",description:"要修改文章的content"}],middlewares:[{name:"admincheck",args:"key=article.data.update"}],filename:"article",funcname:"updateArticle"},{type:"action",title:"删除文章",name:"delete-article-data-id-6e1882",description:"",notes:[],route:{method:"DELETE",path:"/article/data/:id"},params:[{type:"number",name:"id",description:"文章id"},{type:"boolean",name:"force",description:"是否强制删除(是否已经在tree中被使用)"}],middlewares:[{name:"admincheck",args:"key=article.data.delete"}],filename:"article",funcname:"delArticle"},{type:"action",title:"获得文章详情",name:"get-article-data-id-ac4498",description:"",notes:[],route:{method:"GET",path:"/article/data/:id"},params:[{type:"number",name:"id",description:"文章id"}],middlewares:[{name:"admincheck",args:"key=article.data.get"}],filename:"article",funcname:"getArticle"},{type:"action",title:"获得文章列表",name:"get-article-datas-465dd9",description:"",notes:[],route:{method:"GET",path:"/article/datas"},params:[{type:"number",name:"categoryId",description:"文章的categoryId"},{type:"boolean",name:"negative",description:"categoryId是否为negative"},{type:"string",name:"keyword",description:"文章的keyword"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"all",description:""}],middlewares:[{name:"admincheck",args:"key=article.data.list"}],filename:"article",funcname:"getArticleList"}]},{type:"module",title:"艺术专业排名模块",name:"arts-e71410",path:"/arts",description:"",middlewares:[],notes:[],filename:"arts",actions:[{type:"action",title:"获取艺术排名专业列表",name:"get-ranked-majors-cdd19a",description:"",notes:[],route:{method:"GET",path:"/arts/ranked/majors"},params:[{type:"string",name:"keyword",description:""}],middlewares:[],filename:"arts",funcname:"getMajors"},{type:"action",title:"获取艺术排行学校列表",name:"get-ranked-programs-0382e5",description:"",notes:["返回数据结构\n```\n{\n  majors: [{id, name, selected: boolean}],\n  countries: [{id, name, selected: boolean}],\n  degrees: [{id, name, selected: boolean}],\n  programs: [{...}],\n}\n```"],route:{method:"GET",path:"/arts/ranked/programs"},params:[{type:"string",name:"majorId",description:"专业id"},{type:"string",name:"degreeId",description:"默认 本科"},{type:"string",name:"countryId",description:"默认 美国"}],middlewares:[],filename:"arts",funcname:"getList"},{type:"action",title:"获取艺术排行学校列表（分页）",name:"get-ranked-programs-paged-cadce7",description:"",notes:["返回数据结构\n```\n{\n  majors: [{id, name, selected: boolean}],\n  countries: [{id, name, selected: boolean}],\n  degrees: [{id, name, selected: boolean}],\n  pagination: {count,page,pageSize},\n  programs: [{...}],\n}\n```"],route:{method:"GET",path:"/arts/ranked/programs/paged"},params:[{type:"string",name:"majorId",description:"专业id"},{type:"string",name:"degreeId",description:"默认 本科"},{type:"string",name:"countryId",description:"默认 美国"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"arts",funcname:"getPagedList"}]},{type:"module",title:"黑名单模块（支持学生和导师）",name:"blacklist-5ed411",path:"/blacklist",description:"",middlewares:[{name:"session3rd",args:""}],notes:["用户类型表\n\n| Type       | Value |\n| ---------- | ----- |\n| USER       | 1     |\n| CONSULTANT | 2     |"],filename:"blacklist",actions:[{type:"action",title:"加入/移出黑名单",name:"put-block-8268af",description:"",notes:[],route:{method:"PUT",path:"/blacklist/block"},params:[{type:"number",name:"userType",description:""},{type:"number",name:"userId",description:""},{type:"boolean",name:"block",description:""}],middlewares:[],filename:"blacklist",funcname:"setBlock"},{type:"action",title:"获取黑名单中的人",name:"get-list-e0931b",description:"",notes:[],route:{method:"GET",path:"/blacklist/list"},params:[{type:"number",name:"userType",description:""},{type:"number",name:"userId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"blacklist",funcname:"getBlacklist"}]},{type:"module",title:"用户注销",name:"cancellation-67923e",path:"/cancellation",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"cancellation",actions:[{type:"action",title:"检查是否可以注销",name:"get-checklist-91eeee",description:"",notes:[],route:{method:"GET",path:"/cancellation/checklist"},params:[],middlewares:[],filename:"cancellation",funcname:"checklist"},{type:"action",title:"提交注销申请",name:"post-submit-203845",description:"",notes:[],route:{method:"POST",path:"/cancellation/submit"},params:[{type:"number",name:"reasonId",description:"注销原因"},{type:"string",name:"reasonText",description:"具体原因"}],middlewares:[{name:"queue",args:"key=cancellation.submit"}],filename:"cancellation",funcname:"submit"},{type:"action",title:"撤回注销申请",name:"post-revoke-ddd1f7",description:"",notes:[],route:{method:"POST",path:"/cancellation/revoke"},params:[],middlewares:[{name:"queue",args:"key=cancellation.revoke"}],filename:"cancellation",funcname:"revoke"},{type:"action",title:"查询注销申请状态",name:"get-status-c14020",description:"",notes:[],route:{method:"GET",path:"/cancellation/status"},params:[],middlewares:[],filename:"cancellation",funcname:"getStatus"},{type:"action",title:"后台获取注销申请列表",name:"get-list-b5f682",description:"",notes:[],route:{method:"GET",path:"/cancellation/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:"可以按照 ID/姓名/手机号码搜索"},{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""},{type:"number",name:"reasonId",description:""}],middlewares:[{name:"admincheck",args:"key=cancellation.list"}],filename:"cancellation",funcname:"getList"},{type:"action",title:"获取注销申请选项数据",name:"get-options-db0430",description:"",notes:[],route:{method:"GET",path:"/cancellation/options"},params:[],middlewares:[],filename:"cancellation",funcname:"options"},{type:"action",title:"后台进行用户注销",name:"post-accept-e66b8b",description:"",notes:[],route:{method:"POST",path:"/cancellation/accept"},params:[{type:"number",name:"id",description:"注销申请的 ID"}],middlewares:[{name:"admincheck",args:"key=cancellation.accept"},{name:"queue",args:"key=cancellation.accept"}],filename:"cancellation",funcname:"accept"},{type:"action",title:"后台忽略注销申请",name:"post-reject-670376",description:"",notes:[],route:{method:"POST",path:"/cancellation/reject"},params:[{type:"number",name:"id",description:"注销申请的 ID"}],middlewares:[{name:"admincheck",args:"key=cancellation.reject"},{name:"queue",args:"key=cancellation.reject"}],filename:"cancellation",funcname:"reject"},{type:"action",title:"后台编辑备注",name:"put-note-3cc132",description:"",notes:[],route:{method:"PUT",path:"/cancellation/note"},params:[{type:"number",name:"id",description:"注销申请的 ID"},{type:"type",name:"adminNote",description:""}],middlewares:[{name:"admincheck",args:"key=cancellation.update.note"}],filename:"cancellation",funcname:"note"}]},{type:"module",title:"卡片模块",name:"card-e49aad",path:"/card",description:"",middlewares:[],notes:[],filename:"card",actions:[{type:"action",title:"用户获取约答卡",name:"post-appointment-0d0224",description:"",notes:[],route:{method:"POST",path:"/card/appointment"},params:[],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"card",funcname:"addAppointmentCard"},{type:"action",title:"使用约答卡",name:"post-appointment-use-d1932b",description:"",notes:[],route:{method:"POST",path:"/card/appointment/use"},params:[{type:"string",name:"cardId",description:"约答卡ID"},{type:"string",name:"appointmentDate",description:"'YYYY-MM-DD'"},{type:"string",name:"appointmentStartTime",description:"'HH:mm:ss'"},{type:"string",name:"appointmentEndTime",description:"'HH:mm:ss'"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"card",funcname:"useAppointmentCard"},{type:"action",title:"获得约答卡使用信息",name:"get-appointment-usage-377f39",description:"",notes:[],route:{method:"GET",path:"/card/appointment/usage"},params:[{type:"string",name:"cardId",description:"约答卡ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"card",funcname:"getAppointmentCardUsage"}]},{type:"module",title:"就业库模块",name:"career-b39cc1",path:"/career",description:"",middlewares:[],notes:[],filename:"career",actions:[{type:"action",title:"获取\b职位列表",name:"get-list-117663",description:"",notes:[],route:{method:"GET",path:"/career/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"type",description:"ENGINEERING BUSINESS"}],middlewares:[],filename:"career",funcname:"getJobInfos"},{type:"action",title:"获取\b职位详情",name:"get-id-a85def",description:"",notes:[],route:{method:"GET",path:"/career/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"career",funcname:"getJobInfo"},{type:"action",title:"获取\b排名分类列表",name:"get-rank-category-list-cf78fd",description:"",notes:[],route:{method:"GET",path:"/career/rank/category/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"career",funcname:"getJobCategoryInfos"},{type:"action",title:"根据排名类型获取\b排名分页列表",name:"get-rank-id-info-a16a32",description:"",notes:[],route:{method:"GET",path:"/career/rank/:id/info"},params:[{type:"number",name:"id",description:"排名分类ID"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"career",funcname:"getJobRankInfos"},{type:"action",title:"获取\b排名分类列表（后台管理）",name:"get-rank-category-list-datas-ffe9a4",description:"",notes:[],route:{method:"GET",path:"/career/rank/category/list/datas"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=career.rank.category.list"}],filename:"career",funcname:"getJobCategoryList"},{type:"action",title:"添加指定排名类型（后台管理）",name:"post-rank-category-a79d4e",description:"",notes:[],route:{method:"POST",path:"/career/rank/category"},params:[{type:"string",name:"chineseName",description:"中文名称"},{type:"string",name:"englishName",description:"英文名称"}],middlewares:[{name:"admincheck",args:"key=career.rank.category.create"},{name:"singlepass",args:""}],filename:"career",funcname:"addJobRankCategory"},{type:"action",title:"更新指定排名类型（后台管理）",name:"put-rank-category-id-15b26d",description:"",notes:[],route:{method:"PUT",path:"/career/rank/category/:id"},params:[{type:"number",name:"id",description:"排名类型ID"},{type:"string",name:"chineseName",description:"中文名称"},{type:"string",name:"englishName",description:"英文名称"}],middlewares:[{name:"admincheck",args:"key=career.rank.category.update"},{name:"singlepass",args:""}],filename:"career",funcname:"updateJobRankCategory"},{type:"action",title:"删除指定排名类型（后台管理）",name:"delete-rank-category-id-d0df91",description:"",notes:[],route:{method:"DELETE",path:"/career/rank/category/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=career.rank.category.delete"},{name:"singlepass",args:""}],filename:"career",funcname:"deleteJobRankCategoryItem"},{type:"action",title:"添加指定排名类型的职位（后台管理）",name:"post-rank-id-info-9b3bc1",description:"",notes:[],route:{method:"POST",path:"/career/rank/:id/info"},params:[{type:"number",name:"id",description:"排名类型"},{type:"string",name:"chineseName",description:"中文名称"},{type:"string",name:"englishName",description:"英文名称"}],middlewares:[{name:"admincheck",args:"key=career.rank.create"},{name:"singlepass",args:""}],filename:"career",funcname:"addJobRankInfo"},{type:"action",title:"更新指定排名类型的职位（后台管理）",name:"put-rank-info-id-52d9ad",description:"",notes:[],route:{method:"PUT",path:"/career/rank/info/:id"},params:[{type:"number",name:"id",description:"排名详情ID"},{type:"string",name:"chineseName",description:"中文名称"},{type:"string",name:"englishName",description:"英文名称"}],middlewares:[{name:"admincheck",args:"key=career.rank.update"},{name:"singlepass",args:""}],filename:"career",funcname:"updateJobRankInfo"},{type:"action",title:"删除指定排名职位（后台管理）",name:"delete-rank-info-id-84d847",description:"",notes:[],route:{method:"DELETE",path:"/career/rank/info/:id"},params:[{type:"number",name:"id",description:"排名数据ID"}],middlewares:[{name:"admincheck",args:"key=career.rank.delete"},{name:"singlepass",args:""}],filename:"career",funcname:"deleteJobRankItem"},{type:"action",title:"获取职位列表（后台管理）",name:"get-list-datas-f46aac",description:"",notes:[],route:{method:"GET",path:"/career/list/datas"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"type",description:"ENGINEERING - BUSINESS"}],middlewares:[{name:"admincheck",args:"key=career.list"}],filename:"career",funcname:"getJobList"},{type:"action",title:"移动职位",name:"post-id-move-direction-28fef7",description:"",notes:[],route:{method:"POST",path:"/career/:id/move/:direction"},params:[{type:"number",name:"id",description:""},{type:"string",name:"direction",description:"up | down"}],middlewares:[{name:"admincheck",args:"key=career.move"},{name:"singlepass",args:""}],filename:"career",funcname:"moveColumn"},{type:"action",title:"添加职位（后台管理）",name:"post-f6d354",description:"",notes:[],route:{method:"POST",path:"/career/"},params:[{type:"string",name:"chineseName",description:"中文名称 必传"},{type:"string",name:"englishName",description:"英文名称 必传"},{type:"string",name:"type",description:"所属大类 必传-ENGINEERING-BUSINESS"},{type:"string",name:"introduction",description:"职业简介"},{type:"string",name:"requirements",description:"专业背景要求"},{type:"string",name:"averageSalary",description:"2016 平均薪资"},{type:"number",name:"statYear",description:"统计年 2016"},{type:"number",name:"unemploymentRate",description:"失业率 百分比，示例值：0.8（80%）"},{type:"number",name:"numberOfJobs",description:"新增岗位人数"},{type:"number",name:"growthRate",description:"就业增长率 百分比，示例值：0.8（80%）"},{type:"Upload",name:"salaryDistrImage",description:"薪酬分布图表"},{type:"Upload",name:"salaryTrendImage",description:"薪酬趋势图表"},{type:"Upload",name:"salaryBestCitiesImage",description:"薪酬最高的城市"},{type:"Upload",name:"salaryBestStatesImage",description:"薪酬最高的州"},{type:"Upload",name:"satisfactionOfWorkImage",description:"工作满意度图片"},{type:"number",name:"satisfactionOfSalary",description:"工资满意度"},{type:"number",name:"satisfactionOfJobMarket",description:"就业市场满意度"},{type:"number",name:"satisfactionOfFutureGrowth",description:"未来成长满意度"},{type:"number",name:"satisfactionOfStress",description:"工作压力满意度"},{type:"number",name:"satisfactionOfWorkLifeBalance",description:"工作生活平衡满意度"}],middlewares:[{name:"admincheck",args:"key=career.create"},{name:"singlepass",args:""}],filename:"career",funcname:"addJobInfo"},{type:"action",title:"更新职位（后台管理）",name:"put-id-15a408",description:"",notes:[],route:{method:"PUT",path:"/career/:id"},params:[{type:"string",name:"chineseName",description:"中文名称"},{type:"string",name:"englishName",description:"英文名称"},{type:"string",name:"type",description:"所属大类 ENGINEERING-BUSINESS"},{type:"string",name:"introduction",description:"职业简介"},{type:"string",name:"requirements",description:"专业背景要求"},{type:"string",name:"averageSalary",description:"2016 平均薪资"},{type:"number",name:"statYear",description:"统计年 2016"},{type:"number",name:"unemploymentRate",description:"失业率 百分比，示例值：0.8（80%）"},{type:"number",name:"numberOfJobs",description:"新增岗位人数"},{type:"number",name:"growthRate",description:"就业增长率"},{type:"Upload",name:"salaryDistrImage",description:"薪酬分布图表"},{type:"Upload",name:"salaryTrendImage",description:"薪酬趋势图表"},{type:"Upload",name:"salaryBestCitiesImage",description:"薪酬最高的城市"},{type:"Upload",name:"salaryBestStatesImage",description:"薪酬最高的州"},{type:"Upload",name:"satisfactionOfWorkImage",description:"工作满意度图片"},{type:"number",name:"satisfactionOfSalary",description:"工资满意度"},{type:"number",name:"satisfactionOfJobMarket",description:"就业市场满意度"},{type:"number",name:"satisfactionOfFutureGrowth",description:"未来成长满意度"},{type:"number",name:"satisfactionOfStress",description:"工作压力满意度"},{type:"number",name:"satisfactionOfWorkLifeBalance",description:"工作生活平衡满意度"}],middlewares:[{name:"admincheck",args:"key=career.update"},{name:"singlepass",args:""}],filename:"career",funcname:"updateJobInfo"},{type:"action",title:"删除职位（后台管理）",name:"delete-id-6187cd",description:"",notes:[],route:{method:"DELETE",path:"/career/:id"},params:[{type:"number",name:"id",description:"职位ID"}],middlewares:[{name:"admincheck",args:"key=career.delete"},{name:"singlepass",args:""}],filename:"career",funcname:"deleteJobItem"}]},{type:"module",title:"国内专业",name:"chinese-major-4899ab",path:"",description:"",middlewares:[],notes:[],filename:"chinese_major",actions:[{type:"action",title:"",name:"get-chmajors-3058d2",description:"",notes:[],route:{method:"GET",path:"/chmajors"},params:[],middlewares:[],filename:"chinese_major",funcname:"listMajor"},{type:"action",title:"",name:"get-chmajor-id-de2aac",description:"",notes:[],route:{method:"GET",path:"/chmajor/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"chinese_major",funcname:"getMajor"}]},{type:"module",title:"CIS库模块",name:"cis-8454f8",path:"/cis",description:"",middlewares:[],notes:[],filename:"cis",actions:[{type:"action",title:"获取某学校的所有项目",name:"get-project-list-school-2eb3ca",description:"",notes:[],route:{method:"GET",path:"/cis/project/list/school"},params:[{type:"number",name:"schoolId",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"cis",funcname:"getProjectListFromSchoolId"},{type:"action",title:"获取按学校分组的所有项目",name:"get-project-list-df81fe",description:"",notes:[],route:{method:"GET",path:"/cis/project/list"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"cis",funcname:"getProjectList"},{type:"action",title:"获取单个项目",name:"get-project-item-fdad90",description:"",notes:[],route:{method:"GET",path:"/cis/project/item"},params:[{type:"boolean",name:"refresh",description:""},{type:"number",name:"id",description:""}],middlewares:[],filename:"cis",funcname:"getProject"},{type:"action",title:"获取CIS介绍数据",name:"get-introduction-d2b5aa",description:"",notes:[],route:{method:"GET",path:"/cis/introduction"},params:[],middlewares:[],filename:"cis",funcname:"getIntroduction"}]},{type:"module",title:"用户收藏",name:"collect-b67cc8",path:"",description:"",middlewares:[],notes:["### 收藏目标的类型\n\n- `video` 视频\n- `news` 资讯\n- `questionPost` 问答\n- `school-introduction` 学校简介\n- `school-undergraduate-application` 本科生申请\n- `school-graduate-application` 研究生申请\n- `school-sia-info` 艺术类信息\n- `major-lib-major` 专业库专业\n- `major-lib-program` 专业库项目\n- `highschool` 高中院校\n- `columnNews` 专栏文章\n- `offer` Offer案例\n- `feed` 动态\n- `consultant-story` 案例故事\n- `cis-project` CIS项目\n- `serviceStory` 故事\n- `guidebook` 攻略"],filename:"collect",actions:[{type:"action",title:"检查是否收藏",name:"get-collection-type-id-faeb99",description:"",notes:[],route:{method:"GET",path:"/collection/:type/:id"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"number",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"collect",funcname:"isCollected"},{type:"action",title:"收藏",name:"post-collection-type-id-eef498",description:"",notes:[],route:{method:"POST",path:"/collection/:type/:id"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"string",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"collect",funcname:"collect"},{type:"action",title:"取消收藏",name:"delete-collection-type-id-18577a",description:"",notes:[],route:{method:"DELETE",path:"/collection/:type/:id"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"string",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"collect",funcname:"discard"},{type:"action",title:"获得收藏列表",name:"get-collection-type-a8c108",description:"",notes:[],route:{method:"GET",path:"/collection/:type"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"collect",funcname:"getList"},{type:"action",title:"获得收藏列表",name:"get-collection-composite-9edbd2",description:"",notes:[],route:{method:"GET",path:"/collection/composite"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"collect",funcname:"getCompositeList"},{type:"action",title:"查询收藏次数",name:"get-collection-type-id-count-ae221d",description:"",notes:[],route:{method:"GET",path:"/collection/:type/:id/count"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"number",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"collect",funcname:"getFavoriteCount"}]},{type:"module",title:"专栏模块",name:"column-news-fdd24c",path:"/column",description:"",middlewares:[],notes:[],filename:"column_news",actions:[{type:"action",title:"创建专栏文章",name:"post-news-798128",description:"",notes:[],route:{method:"POST",path:"/column/news"},params:[{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:""},{type:"Upload",name:"coverImage",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<string>",name:"newTags",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=column_news.create"}],filename:"column_news",funcname:"createNews"},{type:"action",title:"更新专栏文章",name:"put-news-id-40fc0f",description:"",notes:[],route:{method:"PUT",path:"/column/news/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:""},{type:"Upload",name:"coverImage",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<string>",name:"newTags",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"admincheck",args:"key=column_news.update"}],filename:"column_news",funcname:"updateNews"},{type:"action",title:"删除专栏文章",name:"delete-news-id-362453",description:"",notes:[],route:{method:"DELETE",path:"/column/news/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=column_news.delete"}],filename:"column_news",funcname:"deleteNews"},{type:"action",title:"恢复专栏文章",name:"post-news-id-recover-134267",description:"",notes:[],route:{method:"POST",path:"/column/news/:id/recover"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=column_news.recover"}],filename:"column_news",funcname:"recoverNews"},{type:"action",title:"匹配标签",name:"post-news-match-tags-460160",description:"",notes:[],route:{method:"POST",path:"/column/news/match_tags"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=column_news.match_tags"}],filename:"column_news",funcname:"matchTags"},{type:"action",title:"匹配标签",name:"post-news-match-tags-460160",description:"",notes:[],route:{method:"GET",path:"/column/news/:id/match_tags"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=column_news.match_tags"}],filename:"column_news",funcname:"matchTags"},{type:"action",title:"匹配标签",name:"post-news-match-tags-460160",description:"",notes:[],route:{method:"POST",path:"/column/news/:id/match_tags"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=column_news.match_tags"}],filename:"column_news",funcname:"matchTags"},{type:"action",title:"后台获取专栏文章列表 (可以包括未发布和已删除的)",name:"get-news-all-e91eea",description:"",notes:[],route:{method:"GET",path:"/column/news/all"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"enabled",description:"[客户端必传true]"},{type:"boolean",name:"deleted",description:"[客户端必传false]"},{type:"boolean",name:"hasCover",description:"是否只要带图片的专栏文章"},{type:"string",name:"order",description:"= hottest|newest|shuffled|static|random|editorial"},{type:"number",name:"schoolId",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<number>",name:"overlapTagIds",description:""},{type:"Array.<number>",name:"ignoreNewsIds",description:""},{type:"Date",name:"minUpdateTime",description:""},{type:"Date",name:"maxUpdateTime",description:""},{type:"boolean",name:"isExport",description:""}],middlewares:[{name:"admincheck",args:"news.list"}],filename:"column_news",funcname:"getNewsListByAdmin"},{type:"action",title:"获取专栏文章列表",name:"get-news-eab0a8",description:"",notes:[],route:{method:"GET",path:"/column/news"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"enabled",description:"[客户端必传true]"},{type:"boolean",name:"deleted",description:"[客户端必传false]"},{type:"boolean",name:"hasCover",description:"是否只要带图片的专栏文章"},{type:"string",name:"order",description:"= hottest|newest|shuffled|static|random|editorial"},{type:"number",name:"schoolId",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<number>",name:"overlapTagIds",description:""},{type:"Array.<number>",name:"ignoreNewsIds",description:""},{type:"Date",name:"minUpdateTime",description:""},{type:"Date",name:"maxUpdateTime",description:""},{type:"boolean",name:"isExport",description:""}],middlewares:[],filename:"column_news",funcname:"getNewsList"},{type:"action",title:"获得最热门专栏文章列表",name:"get-news-hottest-c7d806",description:"",notes:["参数和获取专栏文章列表一致，会自动覆盖 order 参数为 hottest"],route:{method:"GET",path:"/column/news/hottest"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"enabled",description:""},{type:"boolean",name:"deleted",description:"(default as false)"},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<number>",name:"overlapTagIds",description:""},{type:"Array.<number>",name:"ignoreNewsIds",description:""}],middlewares:[],filename:"column_news",funcname:"getHotNewsList"},{type:"action",title:"获取专栏文章",name:"get-news-id-30f1bf",description:"",notes:[],route:{method:"GET",path:"/column/news/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"column_news",funcname:"getNews"},{type:"action",title:"评论专栏文章",name:"post-news-id-comments-c5b75f",description:"",notes:[],route:{method:"POST",path:"/column/news/:id/comments"},params:[{type:"number",name:"id",description:"专栏ID"},{type:"number",name:"replyTo",description:"回复的那条**评论**的ID"},{type:"string",name:"content",description:""}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"column_news",funcname:"comment"},{type:"action",title:"获得专栏文章的评论",name:"get-news-id-comments-49642d",description:"",notes:[],route:{method:"GET",path:"/column/news/:id/comments"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"column_news",funcname:"getComments"}]},{type:"module",title:"对外合作接口",name:"coop-a0b837",path:"/coop",description:"",middlewares:[{name:"coop",args:""}],notes:[],filename:"coop",actions:[{type:"action",title:"对接测试",name:"get-test-c18b1e",description:"",notes:[],route:{method:"GET",path:"/coop/test"},params:[],middlewares:[],filename:"coop",funcname:"test"},{type:"action",title:"跳转到学校页面",name:"get-h5-school-a4c3bb",description:"",notes:[],route:{method:"GET",path:"/coop/h5/school"},params:[{type:"number",name:"schoolId",description:""},{type:"boolean",name:"redirect",description:""}],middlewares:[],filename:"coop",funcname:"jumpToSchoolIndex"},{type:"action",title:"跳转到高中页面",name:"get-h5-highschool-22ecf7",description:"",notes:[],route:{method:"GET",path:"/coop/h5/highschool"},params:[{type:"number",name:"highschoolId",description:""},{type:"boolean",name:"redirect",description:""}],middlewares:[],filename:"coop",funcname:"jumpToHighschoolIndex"},{type:"action",title:"跳转到录取率测试页",name:"get-h5-tool-admission-rate-53941e",description:"",notes:[],route:{method:"GET",path:"/coop/h5/tool/admission_rate"},params:[{type:"number",name:"schoolId",description:""},{type:"boolean",name:"redirect",description:""}],middlewares:[],filename:"coop",funcname:"jumpToAdmissionRate"},{type:"action",title:"跳转到智能选校页",name:"get-h5-tool-match-school-ac1f4a",description:"",notes:[],route:{method:"GET",path:"/coop/h5/tool/match_school"},params:[{type:"boolean",name:"redirect",description:""}],middlewares:[],filename:"coop",funcname:"jumpToMatchSchool"},{type:"action",title:"获取排行榜大全",name:"get-data-rankings-68e326",description:"",notes:[],route:{method:"GET",path:"/coop/data/rankings"},params:[],middlewares:[],filename:"coop",funcname:"getRankingsIndex"},{type:"action",title:"获取大学排行榜学校列表",name:"get-data-rankings-schools-7ba6ab",description:"",notes:[],route:{method:"GET",path:"/coop/data/rankings/schools"},params:[{type:"number",name:"rankingId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"coop",funcname:"getRankingSchoolList"},{type:"action",title:"获取排行榜介绍信息",name:"get-data-rankings-info-839e47",description:"",notes:[],route:{method:"GET",path:"/coop/data/rankings/info"},params:[],middlewares:[],filename:"coop",funcname:"getRankingInfo"},{type:"action",title:"获取高中排行榜学校列表",name:"get-data-rankings-highschools-f7a751",description:"",notes:[],route:{method:"GET",path:"/coop/data/rankings/highschools"},params:[{type:"number",name:"rankingId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"coop",funcname:"getRankingHighschoolList"},{type:"action",title:"获取资讯列表筛选项数据",name:"get-data-news-list-filters-d1fd11",description:"",notes:[],route:{method:"GET",path:"/coop/data/news/list/filters"},params:[],middlewares:[],filename:"coop",funcname:"getNewsListFilters"},{type:"action",title:"获取资讯列表",name:"get-data-news-list-0c99dc",description:"",notes:[],route:{method:"GET",path:"/coop/data/news/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"categoryId",description:""},{type:"string",name:"regionId",description:""}],middlewares:[],filename:"coop",funcname:"getNewsList"},{type:"action",title:"获取资讯详情",name:"get-data-news-item-300061",description:"",notes:[],route:{method:"GET",path:"/coop/data/news/item"},params:[{type:"number",name:"newsId",description:""}],middlewares:[],filename:"coop",funcname:"getNewsItem"},{type:"action",title:"获取活动库列表筛选项",name:"get-data-activities-list-filters-b5703c",description:"",notes:[],route:{method:"GET",path:"/coop/data/activities/list/filters"},params:[],middlewares:[],filename:"coop",funcname:"getActivityListOptions"},{type:"action",title:"获取活动库列表数据",name:"get-data-activities-list-512069",description:"",notes:[],route:{method:"GET",path:"/coop/data/activities/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"adeptGrade",description:""},{type:"number",name:"adeptMajor",description:""},{type:"number",name:"adeptType",description:""},{type:"number",name:"adeptMonth",description:""}],middlewares:[],filename:"coop",funcname:"getActivityList"},{type:"action",title:"获取活动库项目数据",name:"get-data-activities-item-a934ae",description:"",notes:[],route:{method:"GET",path:"/coop/data/activities/item"},params:[{type:"number",name:"activityId",description:""}],middlewares:[],filename:"coop",funcname:"getActivityItem"},{type:"action",title:"预约咨询活动详情",name:"post-action-activities-appoint-099c3c",description:"",notes:["国际号码兼容：不支持国际号码"],route:{method:"POST",path:"/coop/action/activities/appoint"},params:[{type:"number",name:"activityId",description:"预约活动ID"},{type:"string",name:"contactName",description:"预约人姓名"},{type:"string",name:"contactPhone",description:"预约人手机号"},{type:"string",name:"cityName",description:"所在城市名称"}],middlewares:[],filename:"coop",funcname:"appointActivity"},{type:"action",title:"获取大学列表",name:"get-data-school-list-7ecb73",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/list"},params:[{type:"string",name:"country",description:""},{type:"string",name:"ranking",description:""},{type:"string",name:"toefl",description:""},{type:"string",name:"ielts",description:""},{type:"string",name:"fee",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"coop",funcname:"getSchoolList"},{type:"action",title:"获取大学列表筛选项",name:"get-data-school-list-filters-993c68",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/list/filters"},params:[],middlewares:[],filename:"coop",funcname:"getSchoolListFilters"},{type:"action",title:"获取单个大学数据",name:"get-data-school-item-f11a4d",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/item"},params:[{type:"number",name:"schoolId",description:""}],middlewares:[],filename:"coop",funcname:"getSchool"},{type:"action",title:"获取大学的Offer列表",name:"get-data-school-offer-list-97e2b2",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/offer/list"},params:[{type:"number",name:"schoolId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"coop",funcname:"getSchoolOfferList"},{type:"action",title:"获取大学的Offer详情",name:"get-data-school-offer-item-527366",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/offer/item"},params:[{type:"type",name:"offerId",description:""}],middlewares:[],filename:"coop",funcname:"getSchoolOfferItem"},{type:"action",title:"获取大学专业列表",name:"get-data-school-major-list-5897e7",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/major/list"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"degree",description:"专业类型：本科专业（`undergraduate`），研究生专业（`graduate`）"},{type:"string",name:"categoryName",description:"专业分类（筛选项）"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"coop",funcname:"getSchoolMajorList"},{type:"action",title:"获取大学专业列表筛选项",name:"get-data-school-major-list-filters-486249",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/major/list/filters"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"degree",description:"专业类型：本科专业（`undergraduate`），研究生专业（`graduate`）"}],middlewares:[],filename:"coop",funcname:"getSchoolMajorListFilters"},{type:"action",title:"获取大学专业详情",name:"get-data-school-major-item-42e9b3",description:"",notes:[],route:{method:"GET",path:"/coop/data/school/major/item"},params:[{type:"number",name:"majorId",description:"专业ID"}],middlewares:[],filename:"coop",funcname:"getSchoolMajorItem"},{type:"action",title:"获取单个高中数据",name:"get-data-highschool-item-b6a818",description:"",notes:[],route:{method:"GET",path:"/coop/data/highschool/item"},params:[{type:"type",name:"highschoolId",description:""}],middlewares:[],filename:"coop",funcname:"getHighschool"}]},{type:"module",title:"中行合作接口（XML）",name:"coop-boc-c6caca",path:"/coop-boc",description:"",middlewares:[],notes:[],filename:"coop_boc",actions:[{type:"action",title:"中行合作接口入口",name:"post-call-c1e133",description:"",notes:[],route:{method:"POST",path:"/coop-boc/call"},params:[],middlewares:[{name:"boc",args:""}],filename:"coop_boc",funcname:"entranceV1"}]},{type:"module",title:"用户纠错",name:"correction-9b432b",path:"",description:"",middlewares:[],notes:[],filename:"correction",actions:[{type:"action",title:"发送纠错信息",name:"post-correction-c39b87",description:"",notes:[],route:{method:"POST",path:"/correction"},params:[{type:"string",name:"schoolId",description:"学校ID"},{type:"string",name:"section",description:"纠错板块名称"},{type:"string",name:"content",description:"用户填写的内容"}],middlewares:[{name:"singlepass",args:""}],filename:"correction",funcname:"postSchoolCorrection"},{type:"action",title:"获得纠错信息列表",name:"get-corrections-0835e7",description:"",notes:[],route:{method:"GET",path:"/corrections"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"correction",funcname:"getSchoolCorrectionList"},{type:"action",title:"标记解决纠错信息",name:"put-correction-id-resolve-cb3ce4",description:"",notes:[],route:{method:"PUT",path:"/correction/:id/resolve"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"correction",funcname:"resolveSchoolCorrection"}]},{type:"module",title:"课程服务",name:"course-f4dca0",path:"/course",description:"",middlewares:[],notes:[],filename:"course",actions:[{type:"action",title:"关闭推荐课程（一门）",name:"delete-recommended-productId-058a68",description:"",notes:[],route:{method:"DELETE",path:"/course/recommended/:productId"},params:[{type:"number",name:"productId",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"course",funcname:"dismissRecommendedCourse"},{type:"action",title:"",name:"get-recommended-one-64e35d",description:"",notes:[],route:{method:"GET",path:"/course/recommended/one"},params:[],middlewares:[],filename:"course",funcname:"getRecommendedCourse"},{type:"action",title:"获得课程列表",name:"get-list-9efc7b",description:"",notes:[],route:{method:"GET",path:"/course/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:'("default" | "newest" | "oldest")',name:"order",description:""}],middlewares:[],filename:"course",funcname:"getCourseList"},{type:"action",title:"获得课程分组信息",name:"get-groups-fe21a4",description:"",notes:[],route:{method:"GET",path:"/course/groups"},params:[],middlewares:[],filename:"course",funcname:"getCourseListGroups"},{type:"action",title:"获得课程列表",name:"get-list-grouped-3e0104",description:"",notes:[],route:{method:"GET",path:"/course/list/grouped"},params:[],middlewares:[],filename:"course",funcname:"getCourseListInGroups"},{type:"action",title:"获得置顶的课程",name:"get-top-c21851",description:"",notes:[],route:{method:"GET",path:"/course/top"},params:[],middlewares:[],filename:"course",funcname:"getTopCourses"},{type:"action",title:"设置课程置顶",name:"post-top-id-4b5f0e",description:"",notes:[],route:{method:"POST",path:"/course/top/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""},{name:"singlepass",args:""}],filename:"course",funcname:"setTopCourses"},{type:"action",title:"取消课程置顶",name:"delete-top-id-c1e1fa",description:"",notes:[],route:{method:"DELETE",path:"/course/top/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""},{name:"singlepass",args:""}],filename:"course",funcname:"unsetTopCourses"},{type:"action",title:"获得课程简要信息",name:"get-productId-brief-0c7f86",description:"",notes:[],route:{method:"GET",path:"/course/:productId/brief"},params:[{type:"number",name:"productId",description:""}],middlewares:[],filename:"course",funcname:"getCourseBrief"},{type:"action",title:"获得课程简介",name:"get-productId-introduction-1870bd",description:"",notes:[],route:{method:"GET",path:"/course/:productId/introduction"},params:[{type:"number",name:"productId",description:""}],middlewares:[],filename:"course",funcname:"getCourseIntroduction"},{type:"action",title:"获得课程大纲",name:"get-productId-outline-073e7f",description:"",notes:["`progress` 范围是 0-100\n- `duration` 单位是毫秒"],route:{method:"GET",path:"/course/:productId/outline"},params:[{type:"number",name:"productId",description:""}],middlewares:[],filename:"course",funcname:"getCourseOutline"},{type:"action",title:"获得课程评价",name:"get-productId-comments-0e0abb",description:"",notes:["返回值除了pagination, data还多一项meta，包含列表页需要的其他信息\n\nmeta.commented: boolean, 当前用户是否已评价"],route:{method:"GET",path:"/course/:productId/comments"},params:[{type:"number",name:"productId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"course",funcname:"getCourseComments"},{type:"action",title:"评论课程",name:"post-productId-comment-d3600a",description:"",notes:[],route:{method:"POST",path:"/course/:productId/comment"},params:[{type:"number",name:"productId",description:""},{type:"number",name:"rate",description:"0-5"},{type:"string",name:"comment",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"course",funcname:"postCourseComment"},{type:"action",title:"开始播放课程",name:"get-play-e11a61",description:"",notes:["如果是免费课程，则无需考虑是否购买"],route:{method:"GET",path:"/course/play"},params:[{type:"number",name:"productId",description:"course里会带有这个数据"},{type:"number",name:"sectionId",description:"也就是原来的sliceId，不传就播放第一个"}],middlewares:[],filename:"course",funcname:"playCourse"},{type:"action",title:"记录播放进度",name:"put-play-fd9611",description:"",notes:[],route:{method:"PUT",path:"/course/play"},params:[{type:"number",name:"productId",description:"课程商品ID course里会带有这个数据"},{type:"number",name:"sectionId",description:"课程小节ID 可对应到视频，也就是原来的sliceId，不传就播放第一个"},{type:"number",name:"playTime",description:"播放时间（就是当前播放到的时间，单位：毫秒）"},{type:"number",name:"playDuration",description:"播放时长（就是从开始播放开始过了多久，单位：毫秒，**这个字段是直接累加的，客户端每次调用此接口后需要重新开始计时**）"},{type:"Date",name:"playStartTime",description:"播放开始时间（就是视频开始时间，需要JSON支持的格式：ISO 8601格式、或UNIX毫秒数）"}],middlewares:[],filename:"course",funcname:"recordPlayProgress"},{type:"action",title:"获取课程分页列表",name:"get-list-private-4b91ca",description:"",notes:[],route:{method:"GET",path:"/course/list/private"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"course",funcname:"getCoursePrivateList"},{type:"action",title:"添加课程",name:"post-ec7c7b",description:"",notes:[],route:{method:"POST",path:"/course/"},params:[{type:"number",name:"productId",description:"商品id"},{type:"number",name:"visitCount",description:"观看数量"},{type:"string",name:"name",description:"课程标题"},{type:"string",name:"group",description:"课程分类"},{type:"string",name:"introduction",description:"课程简介"},{type:"string",name:"provider",description:"提供方"},{type:"string",name:"coverUrl",description:"图片的链接"},{type:"Upload",name:"cover",description:"上传图片的文件数据"},{type:"string",name:"targetUser",description:"适用人群"},{type:"json",name:"teachers",description:'教师信息［｛"name":"","title":"","introduction":"","avatar":"","avatarUrl":""｝］'},{type:"Upload",name:"teacherAvatar",description:"[i] 教师头像的文件信息，i:是参数teachers的数组下标"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=course.create"}],filename:"course",funcname:"createCourse"},{type:"action",title:"上/下线课程",name:"put-id-enabled-a499bc",description:"",notes:[],route:{method:"PUT",path:"/course/:id/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"admincheck",args:"key=course.enable"}],filename:"course",funcname:"putCourseEnabled"},{type:"action",title:"编辑课程",name:"put-id-c59adc",description:"",notes:[],route:{method:"PUT",path:"/course/:id"},params:[{type:"number",name:"id",description:"商品id"},{type:"number",name:"visitCount",description:"观看数量"},{type:"string",name:"name",description:"课程标题"},{type:"string",name:"group",description:"课程分组"},{type:"string",name:"introduction",description:"课程简介"},{type:"string",name:"provider",description:"提供方"},{type:"string",name:"coverUrl",description:"图片的链接"},{type:"Upload",name:"cover",description:"上传图片的文件数据"},{type:"string",name:"targetUser",description:"适用人群"},{type:"json",name:"teachers",description:'教师信息［｛"name":"","title":"","introduction":"","avatar":"","avatarUrl":""｝］'},{type:"Upload",name:"teacherAvatar",description:"[i] 教师头像的文件信息，i:是参数teachers的数组下标"}],middlewares:[{name:"admincheck",args:"key=course.edit"}],filename:"course",funcname:"editCourse"},{type:"action",title:"获取课程播放时长统计分页列表",name:"get-list-play-statistics-a052e9",description:"",notes:[],route:{method:"GET",path:"/course/list/play_statistics"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"productId",description:""},{type:"string",name:"courseName",description:""},{type:"string",name:"userName",description:""},{type:"string",name:"sort",description:"排序-updateTime按最近观看时间倒序,totalPlayTime-按总观看时长"},{type:"Date",name:"minUpdateTime",description:"最小创建时间"},{type:"Date",name:"maxUpdateTime",description:"最大创建时间"}],middlewares:[{name:"admincheck",args:"key=course.statistics.list"}],filename:"course",funcname:"getTimeStatisticsList"},{type:"action",title:"获取课程播放渠道曲线图表信息(30天之内的)",name:"get-linechart-data-af2a22",description:"",notes:[],route:{method:"GET",path:"/course/linechart_data"},params:[],middlewares:[{name:"admincheck",args:"key=course.chart"}],filename:"course",funcname:"getCourseLineChartData"},{type:"action",title:"获取课程播放统计数据折线图数据(30天之内的)",name:"get-linechart-statistics-data-0a78f9",description:"",notes:[],route:{method:"GET",path:"/course/linechart_statistics_data"},params:[],middlewares:[{name:"admincheck",args:"key=course.statistics.chart"}],filename:"course",funcname:"getCourseLineChartStatisticsData"}]},{type:"module",title:"课程模块（新）",name:"course-v2-5ab73e",path:"/courses/v2",description:"",middlewares:[],notes:["订单状态表\n\n| NAME             | VALUE | DESC          |\n| ---------------- | ----- | ------------- |\n| PAID             | 1     | 已支付        |\n| SUBMITTED        | 2     | 已提交,待支付 |\n| CANCELLED        | 3     | 已取消        |\n| CREATED          | 4     | 已创建,待提交 |\n| OFFLINE_APPROVAL | 5     | 线下订单核准  |\n| MULTIPLE_PAY     | 6     | 分次支付      |\n| REFUNDED         | 7     | 已退款        |\n| OBSOLETED        | 8     | 已作废        |\n| PARTLY_REFUNDED  | 9     | 部分退款      |"],filename:"course_v2",actions:[{type:"action",title:"获取课程分类列表",name:"get-exams-8a3f42",description:"",notes:[],route:{method:"GET",path:"/courses/v2/exams"},params:[],middlewares:[],filename:"course_v2",funcname:"getExams"},{type:"action",title:"搜索课程",name:"get-list-search-8b6ece",description:"",notes:[],route:{method:"GET",path:"/courses/v2/list/search"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"course_v2",funcname:"search"},{type:"action",title:"获取随机课程",name:"get-items-random-cached-caa57b",description:"",notes:[],route:{method:"GET",path:"/courses/v2/items/random/cached"},params:[{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"course_v2",funcname:"getCachedRandomItems"},{type:"action",title:"获取置顶课程",name:"get-item-head-be746c",description:"",notes:[],route:{method:"GET",path:"/courses/v2/item/head"},params:[{type:"string",name:"exam",description:""}],middlewares:[],filename:"course_v2",funcname:"getHeadItem"},{type:"action",title:"获取特定考试的课程列表",name:"get-list-exam-95d3a5",description:"",notes:[],route:{method:"GET",path:"/courses/v2/list/exam"},params:[{type:"string",name:"exam",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"course_v2",funcname:"getListByExam"},{type:"action",title:"我的课程列表",name:"get-line-mine-8eacda",description:"",notes:[],route:{method:"GET",path:"/courses/v2/line/mine"},params:[],middlewares:[{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"getMyProducts"},{type:"action",title:"获取单个课程（商品）详情",name:"get-item-b45a78",description:"",notes:["服务包状态\n\n| NAME      | VALUE | DESC       |\n| --------- | ----- | ---------- |\n| NOT_START | 1     | 未开始学习 |\n| USING     | 2     | 已开始学习 |\n| EXPIRED   | 3     | 已过期     |\n| TRYOUT    | 4     | 试用状态   |"],route:{method:"GET",path:"/courses/v2/item"},params:[{type:"string",name:"productId",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"course_v2",funcname:"getProductItem"},{type:"action",title:"对单个课程下单",name:"post-order-bf849d",description:"创建订单并直接提交订单（也就是无法使用券卡了）",notes:['返回数据\n```json\n{\n  "orderId": "...", // 订单ID\n}\n```'],route:{method:"POST",path:"/courses/v2/order"},params:[{type:"string",name:"productId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"createProductOrder"},{type:"action",title:"获取未完成订单列表",name:"get-order-list-incomplete-afea55",description:"",notes:[],route:{method:"GET",path:"/courses/v2/order/list/incomplete"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"course_v2",funcname:"getIncompleteOrderList"},{type:"action",title:"获取全部订单列表",name:"get-order-list-0c99b2",description:"",notes:['返回数据\n```json\n[\n  {\n    "order": {...}, // 订单数据\n    "product": {...}, // 商品数据\n    "iapSerial": "...", // 提交订单的时候的流水号，iOS提交支付结果时需要用到（仅当iOS请求/请求过该接口时存在）\n    "appStore": {...} // iOS支付需要用到的数据，仅通过iOS请求可以得到\n  },\n  ...\n]\n```'],route:{method:"GET",path:"/courses/v2/order/list"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"course_v2",funcname:"getOrderList"},{type:"action",title:"获取订单详情",name:"get-order-cb9e44",description:"",notes:['返回数据\n```json\n{\n  "order": {...}, // 订单数据\n  "product": {...}, // 商品数据\n  "iapSerial": "...", // 提交订单的时候的流水号，iOS提交支付结果时需要用到（仅当iOS请求/请求过该接口时存在）\n  "appStore": {...} // iOS支付需要用到的数据，仅通过iOS请求可以得到\n}\n```'],route:{method:"GET",path:"/courses/v2/order"},params:[{type:"number",name:"orderId",description:""},{type:"boolean",name:"check",description:"立即查询和订单相关的所有支付的状态，然后获取订单数据（应当就是最新状态的订单了），如果支付完成后调用了查询单次支付结果的接口，则不需要使用此参数"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"getOrderInfo"},{type:"action",title:"WEB支付订单",name:"post-order-pay-web-62e284",description:"",notes:[],route:{method:"POST",path:"/courses/v2/order/pay/web"},params:[{type:"string",name:"orderId",description:""},{type:"string",name:"bankType",description:"one of 'weixin', 'alipay', 'unionpay'"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"payOrderFromWeb"},{type:"action",title:"安卓支付订单",name:"post-order-pay-android-e137e8",description:"",notes:[],route:{method:"POST",path:"/courses/v2/order/pay/android"},params:[{type:"string",name:"orderId",description:""},{type:"string",name:"bankType",description:"one of 'weixin', 'alipay'"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"payOrderFromAndroid"},{type:"action",title:"iOS支付订单",name:"post-order-pay-ios-70533a",description:"",notes:['返回数据\n```json\n{\n  "succeed": boolean // 成功的情况下会先自动刷新订单状态再返回\n}\n```'],route:{method:"POST",path:"/courses/v2/order/pay/ios"},params:[{type:"string",name:"orderId",description:""},{type:"string",name:"serial",description:""},{type:"string",name:"transactionId",description:""},{type:"string",name:"bundleId",description:""},{type:"string",name:"receipt",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"payOrderFromIOS"},{type:"action",title:"通知订单支付结果（非客户端）",name:"post-order-notify-d37ac3",description:"",notes:[],route:{method:"POST",path:"/courses/v2/order/notify"},params:[{type:"string",name:"tower",description:""},{type:"string",name:"notifyId",description:""},{type:"string",name:"orderId",description:""},{type:"number",name:"type",description:""}],middlewares:[],filename:"course_v2",funcname:"notifyOrderResult"},{type:"action",title:"查询单次支付结果",name:"get-order-payment-query-26958b",description:"",notes:['返回数据\n\n```json\n{\n  "status": "StatusEnum"\n}\n```\n\n支付状态表\n\n| Key      | Desc         |\n| -------- | ------------ |\n| success  | 支付成功     |\n| cancel   | 支付已取消   |\n| notpay   | 支付未完成   |\n| abnormal | 支付状态异常 |'],route:{method:"GET",path:"/courses/v2/order/payment/query"},params:[{type:"string",name:"orderId",description:""},{type:"string",name:"serial",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:"token=latest"}],filename:"course_v2",funcname:"queryPayment"},{type:"action",title:"支付宝回调接口（非客户端）",name:"get-order-notify-alipay-0ee49f",description:"",notes:[],route:{method:"GET",path:"/courses/v2/order/notify/alipay"},params:[{type:"type",name:"out_trade_no",description:""}],middlewares:[],filename:"course_v2",funcname:"alipayCallback"},{type:"action",title:"开始播放课程",name:"get-play-3b13f1",description:"",notes:["如果是免费课程，则无需考虑是否购买"],route:{method:"GET",path:"/courses/v2/play"},params:[{type:"number",name:"productId",description:"必传"},{type:"number",name:"sectionId",description:"必传"}],middlewares:[],filename:"course_v2",funcname:"playCourse"},{type:"action",title:"记录播放进度",name:"put-play-8c312b",description:"",notes:[],route:{method:"PUT",path:"/courses/v2/play"},params:[{type:"number",name:"productId",description:"课程商品ID course里会带有这个数据"},{type:"number",name:"sectionId",description:"课程小节ID 可对应到视频，也就是原来的sliceId，不传就播放第一个"},{type:"number",name:"playTime",description:"播放时间（就是当前播放到的时间，单位：毫秒）"},{type:"number",name:"playDuration",description:"播放时长（就是从开始播放开始过了多久，单位：毫秒，**这个字段是服务端累加的，客户端每次调用此接口后需要重新开始计时**）"},{type:"Date",name:"playStartTime",description:"播放开始时间（就是视频开始时间，需要JSON支持的格式：ISO 8601格式、或UNIX毫秒数）"}],middlewares:[{name:"sessioncheck",args:""}],filename:"course_v2",funcname:"recordPlayProgress"}]},{type:"module",title:"学校院系管理",name:"department-eb6a87",path:"",description:"",middlewares:[],notes:[],filename:"department",actions:[{type:"action",title:"获取院系",name:"get-department-aa0054",description:"",notes:[],route:{method:"GET",path:"/department"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"department",funcname:"getDepartment"},{type:"action",title:"获取院系列表",name:"get-departments-0e4f42",description:"",notes:[],route:{method:"GET",path:"/departments"},params:[{type:"string",name:"keyword",description:"关键词"},{type:"number",name:"schoolId",description:"学校编号"},{type:"number",name:"name",description:"院系中文名"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"department",funcname:"getDepartments"},{type:"action",title:"新建院系",name:"post-department-02cef8",description:"",notes:[],route:{method:"POST",path:"/department"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=department.create"}],filename:"department",funcname:"postDepartment"},{type:"action",title:"更新院系",name:"put-department-72393f",description:"",notes:[],route:{method:"PUT",path:"/department"},params:[],middlewares:[{name:"admincheck",args:"key=department.update"}],filename:"department",funcname:"putDepartment"},{type:"action",title:"删除院系",name:"delete-department-3d9e5e",description:"",notes:[],route:{method:"DELETE",path:"/department"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=department.delete"}],filename:"department",funcname:"deleteDepartment"}]},{type:"module",title:"语培考试时间/地点查询",name:"exam-date-place-96e9ce",path:"/exam",description:"",middlewares:[],notes:[],filename:"exam_date_place",actions:[{type:"action",title:"获取考试地点",name:"get-places-7c5c1c",description:"根据考试和省份获取考试地点，按城市分组（前端可实现按城市筛选浏览）。",notes:["选项数据均以 `{ id: string, name: string }` 的形式提供，其中 `id` 一般用于接口和对比，`name` 一般用于展示。"],route:{method:"GET",path:"/exam/places"},params:[{type:"string",name:"exam",description:"考试类型（默认值根据用户属性决定）"},{type:"string",name:"province",description:"省份筛选（默认值根据地理位置决定)"},{type:"string",name:"city",description:"城市筛选（默认值根据地理位置决定)"}],middlewares:[],filename:"exam_date_place",funcname:"getPlace"},{type:"action",title:"获取考试时间",name:"get-dates-bac58c",description:"根据考试查询考试时间。",notes:[],route:{method:"GET",path:"/exam/dates"},params:[{type:"string",name:"exam",description:"（默认值根据用户属性决定）"}],middlewares:[],filename:"exam_date_place",funcname:"getSchedule"}]},{type:"module",title:"出国考试时间表",name:"exam-schedule-881fab",path:"/exam_schedule",description:"",middlewares:[],notes:[],filename:"exam_schedule",actions:[{type:"action",title:"获得出国考试时间表",name:"get-9aa446",description:"",notes:[],route:{method:"GET",path:"/exam_schedule/"},params:[{type:"boolean",name:"plain",description:"不获取用户数据"}],middlewares:[],filename:"exam_schedule",funcname:"getSchedule"},{type:"action",title:"查看我的考试计划",name:"get-mine-e7c9a5",description:"",notes:[],route:{method:"GET",path:"/exam_schedule/mine"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"exam_schedule",funcname:"getMySchedule"},{type:"action",title:"查看我当前的考试计划",name:"get-mine-current-c218d5",description:"",notes:[],route:{method:"GET",path:"/exam_schedule/mine/current"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"exam_schedule",funcname:"getMyCurrentSchedule"},{type:"action",title:"查看全局数据",name:"get-overall-stat-2ee582",description:"",notes:[],route:{method:"GET",path:"/exam_schedule/overall/stat"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"exam_schedule",funcname:"getOverallStat"},{type:"action",title:"打卡",name:"post-id-checkin-5da75d",description:"",notes:[],route:{method:"POST",path:"/exam_schedule/:id/checkin"},params:[{type:"number",name:"id",description:"考试事件ID（时间表里的ID）"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"exam_schedule",funcname:"checkin"},{type:"action",title:"添加我的考试计划",name:"post-mine-id-6137e6",description:"",notes:[],route:{method:"POST",path:"/exam_schedule/mine/:id"},params:[{type:"number",name:"id",description:"考试事件ID（时间表里的ID）"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"exam_schedule",funcname:"addMySchedule"},{type:"action",title:"添加我的考试计划",name:"delete-mine-id-7d2a15",description:"",notes:[],route:{method:"DELETE",path:"/exam_schedule/mine/:id"},params:[{type:"number",name:"id",description:"考试ID（时间表里的ID）"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"exam_schedule",funcname:"removeMySchedule"},{type:"action",title:"查看参加某次考试的用户列表",name:"get-id-examinee-5f4164",description:"",notes:[],route:{method:"GET",path:"/exam_schedule/:id/examinee"},params:[{type:"number",name:"id",description:"考试ID（时间表里的ID）"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"exam_schedule",funcname:"getExaminee"}]},{type:"module",title:"示例模块",name:"example-c88f05",path:"/example",description:"",middlewares:[],notes:[],filename:"example",actions:[{type:"action",title:"获取当前时间（示例）",name:"get-now-2139c1",description:"",notes:[],route:{method:"GET",path:"/example/now"},params:[{type:"string",name:"format",description:""}],middlewares:[],filename:"example",funcname:"now"}]},{type:"module",title:"FAQ模块（旧，签证专用）",name:"faq-5410ad",path:"/faq",description:"",middlewares:[],notes:[],filename:"faq",actions:[{type:"action",title:"获得FAQ列表",name:"get-type-a853ab",description:"",notes:["[`/faq/visa/au`](../faq/visa/au)\n- [`/faq/visa/ca`](../faq/visa/ca)\n- [`/faq/visa/hk`](../faq/visa/hk)\n- [`/faq/visa/uk`](../faq/visa/uk)\n- [`/faq/visa/us`](../faq/visa/us)"],route:{method:"GET",path:"/faq/:type"},params:[{type:"string",name:"type",description:""}],middlewares:[],filename:"faq",funcname:"getFaq"},{type:"action",title:"增加FAQ条目",name:"post-e48c40",description:"",notes:[],route:{method:"POST",path:"/faq/"},params:[{type:"string",name:"type",description:""},{type:"string",name:"question",description:""},{type:"string",name:"answer",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=faq.create"}],filename:"faq",funcname:"createFaq"},{type:"action",title:"更新FAQ条目",name:"put-id-3eea8a",description:"",notes:[],route:{method:"PUT",path:"/faq/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"question",description:""},{type:"string",name:"answer",description:""}],middlewares:[{name:"admincheck",args:"key=faq.update"}],filename:"faq",funcname:"updateFaq"},{type:"action",title:"移动FAQ条目",name:"post-id-move-27e59e",description:"",notes:[],route:{method:"POST",path:"/faq/:id/move"},params:[{type:"number",name:"id",description:""},{type:"string",name:"type",description:""},{type:"number",name:"index",description:""}],middlewares:[{name:"admincheck",args:"key=faq.move"}],filename:"faq",funcname:"moveFaq"},{type:"action",title:"删除FAQ条目",name:"delete-id-99d4e0",description:"",notes:[],route:{method:"DELETE",path:"/faq/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.delete"}],filename:"faq",funcname:"deleteFaq"}]},{type:"module",title:"FAQ模块（新）",name:"faq-v2-30e728",path:"/faq/v2",description:"",middlewares:[],notes:[],filename:"faq_v2",actions:[{type:"action",title:"获取FAQ列表筛选项（后台）",name:"get-list-admin-filters-4aaa32",description:"",notes:[],route:{method:"GET",path:"/faq/v2/list/_admin/filters"},params:[],middlewares:[{name:"admincheck",args:"key=faq.list"}],filename:"faq_v2",funcname:"getAdminListFilters"},{type:"action",title:"获取FAQ列表（后台）",name:"get-list-admin-5da378",description:"",notes:[],route:{method:"GET",path:"/faq/v2/list/_admin"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"categoryId",description:""},{type:"number",name:"creatorId",description:""},{type:"string",name:"submitStatus",description:""},{type:"string",name:"baiduStatus",description:""},{type:"Date",name:"createdAfter",description:""},{type:"Date",name:"createdBefore",description:""},{type:"boolean",name:"forExport",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=faq.list"}],filename:"faq_v2",funcname:"getAdminList"},{type:"action",title:"获取FAQ索引",name:"get-index-30bf39",description:"",notes:[],route:{method:"GET",path:"/faq/v2/index"},params:[],middlewares:[],filename:"faq_v2",funcname:"getIndex"},{type:"action",title:"获取FAQ条目",name:"get-item-id-8bd054",description:"",notes:[],route:{method:"GET",path:"/faq/v2/item/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"faq_v2",funcname:"getItem"},{type:"action",title:"获得FAQ分类列表",name:"get-category-list-f0f8c9",description:"",notes:[],route:{method:"GET",path:"/faq/v2/category/list"},params:[],middlewares:[{name:"admincheck",args:"key=faq.category.list"}],filename:"faq_v2",funcname:"getCategoryList"},{type:"action",title:"新建FAQ分类",name:"post-category-58c655",description:"",notes:[],route:{method:"POST",path:"/faq/v2/category"},params:[{type:"string",name:"name",description:""}],middlewares:[{name:"admincheck",args:"key=faq.category.create"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"addCategory"},{type:"action",title:"删除FAQ分类",name:"delete-category-id-550911",description:"",notes:[],route:{method:"DELETE",path:"/faq/v2/category/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.category.delete"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"deleteCategory"},{type:"action",title:"编辑FAQ分类",name:"put-category-id-19aa90",description:"",notes:[],route:{method:"PUT",path:"/faq/v2/category/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""}],middlewares:[{name:"admincheck",args:"key=faq.category.update"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"editCategory"},{type:"action",title:"移动FAQ分类顺序",name:"post-category-id-move-direction-e2363c",description:"",notes:[],route:{method:"POST",path:"/faq/v2/category/:id/move/:direction"},params:[{type:"number",name:"id",description:""},{type:"string",name:"direction",description:"up | down"}],middlewares:[{name:"admincheck",args:"key=faq.category.move"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"moveCategory"},{type:"action",title:"创建FAQ条目",name:"post-item-f093c9",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item"},params:[{type:"number",name:"categoryId",description:""},{type:"number",name:"authorId",description:""},{type:"string",name:"question",description:""},{type:"string",name:"answerText",description:""},{type:"string",name:"answerHtml",description:""},{type:"string",name:"summary",description:"30-120字"},{type:"Upload",name:"answerVoice",description:""},{type:"string",name:"videoUrl",description:"请提供文件完整URL"},{type:"number",name:"videoDuration",description:"秒数"},{type:"string",name:"videoScale",description:""},{type:"string",name:"headline",description:""},{type:"string",name:"relatedQuestionIds",description:"英文逗号隔开"},{type:"Array.<number>",name:"netdiskFileIds",description:""}],middlewares:[{name:"admincheck",args:"key=faq.create"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"createItem"},{type:"action",title:"手动提交多条FAQ条目",name:"post-item-multi-submit-1c72ee",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item/multi/submit"},params:[{type:"Array.<number>",name:"ids",description:""}],middlewares:[{name:"admincheck",args:"key=faq.submit"}],filename:"faq_v2",funcname:"submitMultipleItems"},{type:"action",title:"手动下线多条FAQ条目",name:"post-item-multi-revoke-2ab7d5",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item/multi/revoke"},params:[{type:"Array.<number>",name:"ids",description:""}],middlewares:[{name:"admincheck",args:"key=faq.revoke"}],filename:"faq_v2",funcname:"revokeMultipleItems"},{type:"action",title:"手动提交FAQ条目",name:"post-item-id-submit-a57968",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item/:id/submit"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.submit"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"submitItem"},{type:"action",title:"手动下线FAQ条目",name:"post-item-id-revoke-34a8f5",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item/:id/revoke"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.revoke"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"revokeItem"},{type:"action",title:"手动提交FAQ视频",name:"post-item-id-video-submit-181544",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item/:id/video/submit"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.submit"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"submitItemVideo"},{type:"action",title:"编辑FAQ条目",name:"put-item-id-ddc314",description:"",notes:[],route:{method:"PUT",path:"/faq/v2/item/:id"},params:[{type:"number",name:"id",description:""},{type:"number",name:"authorId",description:""},{type:"number",name:"categoryId",description:""},{type:"string",name:"question",description:""},{type:"string",name:"headline",description:""},{type:"string",name:"answerText",description:""},{type:"string",name:"answerHtml",description:""},{type:"string",name:"summary",description:"30-120字"},{type:"Upload",name:"answerVoice",description:"（传空字符串消除掉数据）"},{type:"string",name:"videoUrl",description:"请提供文件完整URL（传空字符串消除掉数据）"},{type:"number",name:"videoDuration",description:"秒数"},{type:"string",name:"videoScale",description:""},{type:"string",name:"relatedQuestionIds",description:"英文逗号隔开"},{type:"Array.<number>",name:"netdiskFileIds",description:""}],middlewares:[{name:"admincheck",args:"key=faq.update&opt=faq.update-pro"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"updateItem"},{type:"action",title:"批量更新FAQ百度相关数据",name:"put-item-multi-baidu-10a3d9",description:"",notes:[],route:{method:"PUT",path:"/faq/v2/item/multi/baidu"},params:[{type:"Array.<object>",name:"data",description:"json:[{id: number, baiduStatus: string, baiduNote: string}]"}],middlewares:[],filename:"faq_v2",funcname:"bulkSetBaiduData"},{type:"action",title:"移动FAQ条目顺序",name:"post-item-id-move-direction-d1f11d",description:"",notes:[],route:{method:"POST",path:"/faq/v2/item/:id/move/:direction"},params:[{type:"number",name:"id",description:""},{type:"string",name:"direction",description:"up | down"}],middlewares:[{name:"admincheck",args:"key=faq.move"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"moveItem"},{type:"action",title:"删除FAQ条目",name:"delete-item-id-d4f1e7",description:"",notes:[],route:{method:"DELETE",path:"/faq/v2/item/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.delete"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"deleteItem"},{type:"action",title:"获得作者列表",name:"get-author-list-14d54f",description:"",notes:[],route:{method:"GET",path:"/faq/v2/author/list"},params:[],middlewares:[{name:"admincheck",args:""}],filename:"faq_v2",funcname:"getAuthorList"},{type:"action",title:"添加作者",name:"post-author-f6920f",description:"",notes:[],route:{method:"POST",path:"/faq/v2/author"},params:[{type:"string",name:"name",description:""},{type:"string",name:"title",description:""},{type:"Upload",name:"avatar",description:""},{type:"string",name:"organization",description:""}],middlewares:[{name:"admincheck",args:"key=faq.author"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"createAuthor"},{type:"action",title:"编辑作者",name:"put-author-id-b4205b",description:"",notes:[],route:{method:"PUT",path:"/faq/v2/author/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"title",description:""},{type:"Upload",name:"avatar",description:""},{type:"string",name:"organization",description:""}],middlewares:[{name:"admincheck",args:"key=faq.author"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"updateAuthor"},{type:"action",title:"删除作者",name:"delete-author-id-bfe151",description:"",notes:[],route:{method:"DELETE",path:"/faq/v2/author/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=faq.author"},{name:"singlepass",args:""}],filename:"faq_v2",funcname:"deleteAuthor"}]},{type:"module",title:"动态模块",name:"feed-dc32fb",path:"/feed",description:"",middlewares:[{name:"session3rd",args:""}],notes:["用户类型表\n\n| Type       | Value |\n| ---------- | ----- |\n| USER       | 1     |\n| CONSULTANT | 2     |"],filename:"feed",actions:[{type:"action",title:"获取最新动态列表",name:"get-list-b121b5",description:"",notes:["可能会得到关注类动态，区分方法为：\n\n- `type='feed'`，为普通动态\n- `type='follow'`，为关注类动态"],route:{method:"GET",path:"/feed/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"fromId",description:"分页参数，第一页不需要，后边每一页传给我可以达到不出现重复项的效果（可以在`pagination`中找到）"},{type:"string",name:"prevFromId",description:"刷新第一页的时候，把上一次的fromId给我"}],middlewares:[],filename:"feed",funcname:"getLatestFeeds"},{type:"action",title:"获取关注动态列表",name:"get-list-followed-cb103d",description:"",notes:["可能会得到关注类动态，区分方法为：\n\n- `type='feed'`，为普通动态\n- `type='follow'`，为关注类动态"],route:{method:"GET",path:"/feed/list/followed"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"fromId",description:"分页参数，第一页不需要，后边每一页传给我可以达到不出现重复项的效果（可以在`pagination`中找到）"},{type:"string",name:"prevFromId",description:"刷新第一页的时候，把上一次的fromId给我"}],middlewares:[],filename:"feed",funcname:"getFolloweesFeeds"},{type:"action",title:"获取我的动态列表",name:"get-list-mine-ac60a3",description:"",notes:[],route:{method:"GET",path:"/feed/list/mine"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"feed",funcname:"getMyFeeds"},{type:"action",title:"获取某人的动态列表",name:"get-list-ones-10ce0c",description:"",notes:[],route:{method:"GET",path:"/feed/list/ones"},params:[{type:"number",name:"userType",description:""},{type:"number",name:"userId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"feed",funcname:"getOnesFeeds"},{type:"action",title:"获取话题下的动态列表",name:"get-list-topic-bb1049",description:"",notes:[],route:{method:"GET",path:"/feed/list/topic"},params:[{type:"number",name:"topicId",description:""},{type:"string",name:"order",description:"default | hottest"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"feed",funcname:"getTopicFeeds"},{type:"action",title:"获取动态详情",name:"get-5bf3c3",description:"",notes:[],route:{method:"GET",path:"/feed/"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"feed",funcname:"getFeed"},{type:"action",title:"获取动态评论",name:"get-comments-e2cd37",description:"",notes:[],route:{method:"GET",path:"/feed/comments"},params:[{type:"number",name:"feedId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"style",description:"'flat' | 'nested' 默认是 'flat'，即不按楼中楼查询"}],middlewares:[],filename:"feed",funcname:"getComments"},{type:"action",title:"获取层内评论",name:"get-comments-nested-b7262f",description:"",notes:[],route:{method:"GET",path:"/feed/comments/nested"},params:[{type:"number",name:"rootCommentId",description:""},{type:"number",name:"feedId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"feed",funcname:"getNestedComments"},{type:"action",title:"发布动态",name:"post-05abde",description:"",notes:[],route:{method:"POST",path:"/feed/"},params:[{type:"string",name:"content",description:"文字内容"},{type:"Array.<{text: string, type: string, id: number}>",name:"textSpans",description:"文字分段内容"},{type:"Array.<string>",name:"imageUrls",description:"图片地址列表，最多支持9张"},{type:"string",name:"imageWatermark",description:'"small-watermark" | "large-watermark"'},{type:"number",name:"firstImageWidth",description:"第一张图片宽度"},{type:"number",name:"firstImageHeight",description:"第一张图片高度"},{type:"string",name:"linkUrl",description:"链接地址"},{type:"string",name:"linkTitle",description:"链接标题"},{type:"string",name:"linkThumbnailUrl",description:"链接缩略图"},{type:"string",name:"videoUrl",description:"视频地址"},{type:"string",name:"videoThumbnailUrl",description:"视频预览图地址"},{type:"number",name:"videoDuration",description:"视频时长（秒）"},{type:"number",name:"videoToken",description:"视频检测成功的TOKEN"},{type:"number",name:"topicId",description:"话题ID"}],middlewares:[{name:"singlepass",args:""}],filename:"feed",funcname:"postFeed"},{type:"action",title:"删除动态",name:"delete-124902",description:"",notes:[],route:{method:"DELETE",path:"/feed/"},params:[{type:"number",name:"feedId",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"feed",funcname:"deleteFeed"},{type:"action",title:"发布评论",name:"post-comment-dc8398",description:"",notes:[],route:{method:"POST",path:"/feed/comment"},params:[{type:"number",name:"feedId",description:""},{type:"number",name:"content",description:""},{type:"number",name:"atCommentId",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"feed",funcname:"postComment"},{type:"action",title:"删除评论",name:"delete-comment-1c600b",description:"",notes:[],route:{method:"DELETE",path:"/feed/comment"},params:[{type:"number",name:"commendId",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"feed",funcname:"deleteComment"},{type:"action",title:"后台发布动态",name:"post-admin-51af3e",description:"",notes:[],route:{method:"POST",path:"/feed/admin"},params:[{type:"number",name:"authorType",description:"发布者身份"},{type:"number",name:"authorId",description:"发布者ID"},{type:"string",name:"content",description:"文字内容"},{type:"Array.<string>",name:"imageUrls",description:"图片地址列表，最多支持9张"},{type:"number",name:"firstImageWidth",description:"第一张图片宽度"},{type:"number",name:"firstImageHeight",description:"第一张图片高度"},{type:"string",name:"linkUrl",description:"链接地址"},{type:"string",name:"linkTitle",description:"链接标题"},{type:"string",name:"linkThumbnailUrl",description:"链接缩略图"},{type:"string",name:"videoUrl",description:"视频地址"},{type:"string",name:"videoThumbnailUrl",description:"视频预览图地址"},{type:"number",name:"videoDuration",description:"视频时长（秒）"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.fake.post"}],filename:"feed",funcname:"postFeedFromAdmin"},{type:"action",title:"后台删除动态",name:"delete-admin-219ea9",description:"",notes:[],route:{method:"DELETE",path:"/feed/admin"},params:[{type:"number",name:"feedId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.fake.delete"}],filename:"feed",funcname:"deleteFeedFromAdmin"},{type:"action",title:"后台设置置顶动态",name:"put-pin-6481ef",description:"",notes:[],route:{method:"PUT",path:"/feed/pin"},params:[{type:"number",name:"feedId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.pin"}],filename:"feed",funcname:"pinFeedFromAdmin"},{type:"action",title:"后台取消置顶动态",name:"delete-pin-0c2d9f",description:"",notes:[],route:{method:"DELETE",path:"/feed/pin"},params:[{type:"number",name:"feedId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.unpin"}],filename:"feed",funcname:"unpinFeedFromAdmin"},{type:"action",title:"后台获得动态列表（所有）",name:"get-admin-list-79d59d",description:"",notes:[],route:{method:"GET",path:"/feed/admin/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"topicId",description:""},{type:"Date",name:"createTimeFrom",description:""},{type:"Date",name:"createTimeTo",description:""},{type:"string",name:"order",description:"'default' 发布时间倒序, 'hottest' 热度倒序"}],middlewares:[{name:"admincheck",args:"key=feed.list"}],filename:"feed",funcname:"getListForAdmin"},{type:"action",title:"后台获得动态评论列表",name:"get-admin-comment-list-c9d57d",description:"",notes:[],route:{method:"GET",path:"/feed/admin/comment/list"},params:[{type:"Date",name:"createTimeFrom",description:""},{type:"Date",name:"createTimeTo",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=feed.list"}],filename:"feed",funcname:"getCommentListForAdmin"},{type:"action",title:"后台配置动态话题",name:"put-topic-admin-b738c9",description:"",notes:[],route:{method:"PUT",path:"/feed/topic/admin"},params:[{type:"number",name:"feedId",description:""},{type:"number",name:"topicId",description:""}],middlewares:[{name:"admincheck",args:"key=feed.set-topic"}],filename:"feed",funcname:"setTopicByAdmin"},{type:"action",title:"后台获得动态列表（马甲资讯）",name:"get-list-admin-6db02f",description:"",notes:[],route:{method:"GET",path:"/feed/list/admin"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"authorType",description:""},{type:"number",name:"authorId",description:""},{type:"boolean",name:"adminTodo",description:"待处理/已处理"}],middlewares:[{name:"admincheck",args:"key=feed.fake.list"}],filename:"feed",funcname:"getFakeListForAdmin"},{type:"action",title:"后台获取动态评论",name:"get-comments-admin-3a336c",description:"",notes:[],route:{method:"GET",path:"/feed/comments/admin"},params:[{type:"number",name:"feedId",description:""}],middlewares:[{name:"admincheck",args:"key=feed.fake.comment.list"}],filename:"feed",funcname:"getCommentsForAdmin"},{type:"action",title:"后台发布评论",name:"post-comment-admin-769cd3",description:"",notes:["只能在后台发布的动态下发评论，自动以动态发布者身份发评论"],route:{method:"POST",path:"/feed/comment/admin"},params:[{type:"number",name:"feedId",description:""},{type:"number",name:"content",description:""},{type:"number",name:"atCommentId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.fake.comment.post"}],filename:"feed",funcname:"postCommentByAdmin"},{type:"action",title:"后台删除评论",name:"delete-comment-admin-6701c4",description:"",notes:[],route:{method:"DELETE",path:"/feed/comment/admin"},params:[{type:"number",name:"commendId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.comment.delete"}],filename:"feed",funcname:"deleteCommentByAdmin"},{type:"action",title:"后台设置是否待处理",name:"put-adminTodo-cac879",description:"",notes:[],route:{method:"PUT",path:"/feed/adminTodo"},params:[{type:"number",name:"feedId",description:""},{type:"boolean",name:"adminTodo",description:"false=已处理，true=待处理"}],middlewares:[{name:"admincheck",args:"key=feed.fake.set-todo"}],filename:"feed",funcname:"setAdminTodo"},{type:"action",title:"获取后台发布者列表",name:"get-authors-admin-f4849b",description:"",notes:[],route:{method:"GET",path:"/feed/authors/admin"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=feed.fake.author.list"}],filename:"feed",funcname:"getAdminAuthors"},{type:"action",title:"动态数据查询",name:"get-stat-bb67be",description:"",notes:[],route:{method:"GET",path:"/feed/stat"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[],filename:"feed",funcname:"getStat"}]},{type:"module",title:"动态举报模块",name:"feed-inform-765e1e",path:"/feed/inform",description:"",middlewares:[{name:"session3rd",args:""}],notes:["举报对象类型表\n\n| NAME         | VALUE | DESC     |\n| ------------ | ----- | -------- |\n| FEED         | 1     | 动态     |\n| FEED_COMMENT | 2     | 动态评论 |","举报状态表\n\n| NAME     | VALUE | DESC   |\n| -------- | ----- | ------ |\n| PENDING  | 0     | 待处理 |\n| RESOLVED | 1     | 已封禁 |\n| REJECTED | 2     | 已忽略 |"],filename:"feed_inform",actions:[{type:"action",title:"提交举报",name:"post-96bb73",description:"",notes:[],route:{method:"POST",path:"/feed/inform/"},params:[{type:"number",name:"type",description:""},{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"feed_inform",funcname:"postInform"},{type:"action",title:"获取举报列表",name:"get-list-473823",description:"",notes:[],route:{method:"GET",path:"/feed/inform/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=feed.inform.list"}],filename:"feed_inform",funcname:"getInforms"},{type:"action",title:"处理举报",name:"post-resolve-756e3b",description:"",notes:["会同时以相同的方式处理对相同对象的举报"],route:{method:"POST",path:"/feed/inform/resolve"},params:[{type:"number",name:"id",description:"举报条目ID"},{type:"boolean",name:"resolve",description:"解决/忽略"}],middlewares:[{name:"admincheck",args:"key=feed.inform.resolve"}],filename:"feed_inform",funcname:"resolveInform"}]},{type:"module",title:"动态消息",name:"feed-notification-882633",path:"/feed/notification",description:"",middlewares:[{name:"session3rd",args:""}],notes:["动态消息类型\n\n| NAME               | VALUE | DESC           |\n| ------------------ | ----- | -------------- |\n| FOLLOW_YOU         | 1     | 关注了你       |\n| LIKE_YOUR_FEED     | 2     | 赞了你的动态   |\n| COMMENT_YOUR_FEED  | 3     | 评论了你的动态 |\n| REPLY_YOUR_COMMENT | 4     | 回复了你的评论 |\n| LIKE_YOUR_COMMENT  | 5     | 赞了你的评论   |","动态消息内容类型\n\n| NAME         | VALUE | DESC     |\n| ------------ | ----- | -------- |\n| FEED         | 1     | 动态     |\n| FEED_COMMENT | 2     | 动态评论 |"],filename:"feed_notification",actions:[{type:"action",title:"获取消息列表",name:"get-list-1452fe",description:"",notes:["获取第一页数据时，同时会提供消息未读数量以及最后一条系统消息"],route:{method:"GET",path:"/feed/notification/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:"true = 不标记已读"}],middlewares:[],filename:"feed_notification",funcname:"getList"}]},{type:"module",title:"动态话题模块",name:"feed-topic-dcffe5",path:"/feed/topic",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"feed_topic",actions:[{type:"action",title:"获取话题数据",name:"get-b95967",description:"",notes:[],route:{method:"GET",path:"/feed/topic/"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"feed_topic",funcname:"getTopic"},{type:"action",title:"关注/取消关注话题",name:"put-follow-a22e7c",description:"",notes:[],route:{method:"PUT",path:"/feed/topic/follow"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"follow",description:""}],middlewares:[],filename:"feed_topic",funcname:"followTopic"},{type:"action",title:"获取话题列表",name:"get-list-0e909e",description:"",notes:[],route:{method:"GET",path:"/feed/topic/list"},params:[{type:"string",name:"order",description:"default | hottest"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"feed_topic",funcname:"getTopicList"},{type:"action",title:"获取话题分类结构",name:"get-hierarchy-6f362c",description:"",notes:[],route:{method:"GET",path:"/feed/topic/hierarchy"},params:[{type:"boolean",name:"needIntroduction",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.list"}],filename:"feed_topic",funcname:"getTopicHierarchy"},{type:"action",title:"创建话题",name:"post-57f98e",description:"",notes:[],route:{method:"POST",path:"/feed/topic/"},params:[{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"number",name:"categoryId",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.edit"}],filename:"feed_topic",funcname:"createTopic"},{type:"action",title:"修改话题",name:"put-a47af7",description:"",notes:[],route:{method:"PUT",path:"/feed/topic/"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"number",name:"categoryId",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.edit"}],filename:"feed_topic",funcname:"updateTopic"},{type:"action",title:"删除话题",name:"delete-1d2b9b",description:"",notes:[],route:{method:"DELETE",path:"/feed/topic/"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.edit"}],filename:"feed_topic",funcname:"deleteTopic"},{type:"action",title:"创建话题分类",name:"post-category-548b4b",description:"",notes:[],route:{method:"POST",path:"/feed/topic/category"},params:[{type:"string",name:"name",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.category.edit"}],filename:"feed_topic",funcname:"createTopicCategory"},{type:"action",title:"修改话题分类",name:"put-category-dd98c0",description:"",notes:[],route:{method:"PUT",path:"/feed/topic/category"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.category.edit"}],filename:"feed_topic",funcname:"updateTopicCategory"},{type:"action",title:"删除话题分类",name:"delete-category-105bf6",description:"",notes:[],route:{method:"DELETE",path:"/feed/topic/category"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=feed.topic.category.edit"}],filename:"feed_topic",funcname:"deleteTopicCategory"},{type:"action",title:"获取话题分类列表",name:"get-category-list-35129b",description:"",notes:[],route:{method:"GET",path:"/feed/topic/category/list"},params:[],middlewares:[{name:"admincheck",args:"key=feed.topic.category.list"}],filename:"feed_topic",funcname:"getTopicCategories"}]},{type:"module",title:"用户反馈",name:"feedback-b1b8b5",path:"",description:"",middlewares:[],notes:[],filename:"feedback",actions:[{type:"action",title:"创建反馈",name:"post-feedback-e6264f",description:"",notes:[],route:{method:"POST",path:"/feedback"},params:[{type:"string",name:"content",description:""},{type:"string",name:"contact",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"feedback",funcname:"createFeedback"},{type:"action",title:"获取反馈列表",name:"get-feedbacks-723ed4",description:"",notes:[],route:{method:"GET",path:"/feedbacks"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""}],middlewares:[{name:"admincheck",args:"key=feedback.list"}],filename:"feedback",funcname:"getFeedbacks"},{type:"action",title:"备注",name:"put-feedback-id-note-7a2b58",description:"",notes:[],route:{method:"PUT",path:"/feedback/:id/note"},params:[{type:"number",name:"id",description:""},{type:"string",name:"note",description:""}],middlewares:[{name:"admincheck",args:"key=feedback.note"}],filename:"feedback",funcname:"noteFeedback"}]},{type:"module",title:"问答（抓取）",name:"fetch-qa-7d60d9",path:"",description:"",middlewares:[],notes:[],filename:"fetchqa",actions:[{type:"action",title:"获取问答详情",name:"get-fetchqa-id-679909",description:"",notes:[],route:{method:"GET",path:"/fetchqa/:id"},params:[{type:"number",name:"id",description:"问答编号"}],middlewares:[{name:"admincheck",args:""}],filename:"fetchqa",funcname:"getQuestion"},{type:"action",title:"获取问答列表",name:"get-fetchqas-4d59f2",description:"",notes:[],route:{method:"GET",path:"/fetchqas"},params:[{type:"number",name:"id",description:"问答编号"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:"查询关键字"}],middlewares:[{name:"admincheck",args:""}],filename:"fetchqa",funcname:"getQuestions"},{type:"action",title:"删除问答",name:"delete-fetchqa-id-dbe569",description:"",notes:[],route:{method:"DELETE",path:"/fetchqa/:id"},params:[{type:"number",name:"id",description:"问答编号"}],middlewares:[{name:"admincheck",args:""}],filename:"fetchqa",funcname:"deleteQuestion"},{type:"action",title:"更新问答",name:"put-fetchqa-id-e51ed0",description:"",notes:[],route:{method:"PUT",path:"/fetchqa/:id"},params:[{type:"number",name:"id",description:"问答编号"},{type:"string",name:"status",description:"问答状态"},{type:"string",name:"remark",description:"问答备注"},{type:"string",name:"bestcomment",description:"修改最佳答案的字符串"}],middlewares:[{name:"admincheck",args:""}],filename:"fetchqa",funcname:"updateQuestion"}]},{type:"module",title:"金融专业研究生项目",name:"finance-program-4eb919",path:"/financeProgram",description:"",middlewares:[],notes:[],filename:"finance_program",actions:[{type:"action",title:"获取金融专业研究生项目列表",name:"get-list-c9a7ce",description:"",notes:["这接口不分页"],route:{method:"GET",path:"/financeProgram/list"},params:[],middlewares:[],filename:"finance_program",funcname:"getList"},{type:"action",title:"获取金融专业研究生项目详情",name:"get-id-93b0eb",description:"如果超出未解锁用户的限制，则结果中会给出`questionnaireRequired: true`，并且附带问卷数据。",notes:[],route:{method:"GET",path:"/financeProgram/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"finance_program",funcname:"getItem"},{type:"action",title:"回答问卷",name:"post-questionnaire-answer-dfbea6",description:"提交成功后，会给出`gotoProgramId`，是继续查看的项目的ID",notes:['问卷答案请`JSON.stringify`后提交，内容格式为：\n```json\n[\n  { "index": 1, "answer": "..." },\n  { "index": 2, "answer": "..." },\n  ...\n]\n```\n多选题用逗号拼接即可。'],route:{method:"POST",path:"/financeProgram/questionnaire/answer"},params:[{type:"number",name:"programId",description:"完成问卷后，需要查看的项目ID"},{type:"string",name:"answers",description:"问卷答案"}],middlewares:[{name:"singlepass",args:""}],filename:"finance_program",funcname:"submitQuestionnaire"}]},{type:"module",title:"关注模块（旧，已弃用）",name:"follow-126f2d",path:"/follow",description:"",middlewares:[],notes:[],filename:"follow",actions:[{type:"action",title:"关注用户",name:"post-user-userId-dfd144",description:"",notes:[],route:{method:"POST",path:"/follow/user/:userId"},params:[{type:"number",name:"userId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"follow",funcname:"follow"},{type:"action",title:"取消关注用户",name:"delete-user-userId-e7b800",description:"",notes:[],route:{method:"DELETE",path:"/follow/user/:userId"},params:[{type:"number",name:"userId",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"follow",funcname:"unfollow"},{type:"action",title:"获得关注用户列表",name:"get-users-d77593",description:"",notes:[],route:{method:"GET",path:"/follow/users"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"follow",funcname:"getFollowedUsers"}]},{type:"module",title:"关注模块（支持学生和导师）",name:"follow-v2-04db9c",path:"/follow/v2",description:"",middlewares:[{name:"session3rd",args:""}],notes:["用户类型表\n\n| Type       | Value |\n| ---------- | ----- |\n| USER       | 1     |\n| CONSULTANT | 2     |"],filename:"follow_v2",actions:[{type:"action",title:"关注/取消关注",name:"put-follow-f1ba23",description:"",notes:[],route:{method:"PUT",path:"/follow/v2/follow"},params:[{type:"number",name:"userType",description:""},{type:"number",name:"userId",description:""},{type:"boolean",name:"follow",description:""}],middlewares:[],filename:"follow_v2",funcname:"setFollow"},{type:"action",title:"获取关注用户的人",name:"get-user-followers-8d4b55",description:"",notes:[],route:{method:"GET",path:"/follow/v2/user/followers"},params:[{type:"number",name:"userType",description:""},{type:"number",name:"userId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"follow_v2",funcname:"getFollowersOfUser"},{type:"action",title:"获取用户关注的人",name:"get-user-followees-d9d219",description:"",notes:[],route:{method:"GET",path:"/follow/v2/user/followees"},params:[{type:"number",name:"userType",description:""},{type:"number",name:"userId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"follow_v2",funcname:"getFolloweesOfUser"}]},{type:"module",title:"广告位页面管理",name:"ad-page-dd5b96",path:"",description:"",middlewares:[],notes:[],filename:"frontend_page",actions:[{type:"action",title:"获取页面列表",name:"get-frontend-pages-7ba6ef",description:"",notes:[],route:{method:"GET",path:"/frontend_pages"},params:[{type:"string",name:"platformId",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"frontend_page",funcname:"getPages"},{type:"action",title:"新建页面",name:"post-frontend-page-b1a743",description:"",notes:[],route:{method:"POST",path:"/frontend_page"},params:[{type:"string",name:"platformId",description:""},{type:"string",name:"key",description:""},{type:"string",name:"name",description:""},{type:"string",name:"description",description:""},{type:"string",name:"passphrase",description:"肥罗"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=frontend_page.create"}],filename:"frontend_page",funcname:"createPage"}]},{type:"module",title:"攻略指南模块",name:"guidebook-75c2cb",path:"/guidebook",description:"",middlewares:[],notes:[],filename:"guidebook",actions:[{type:"action",title:"后台获取所有节点",name:"get-admin-tree-25a750",description:"",notes:[],route:{method:"GET",path:"/guidebook/admin/tree"},params:[],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"getAllNodes"},{type:"action",title:"创建节点",name:"post-admin-node-502158",description:"",notes:[],route:{method:"POST",path:"/guidebook/admin/node"},params:[{type:"number",name:"parentId",description:""},{type:"string",name:"name",description:""},{type:"number",name:"type",description:""},{type:"number",name:"articleId",description:""},{type:"number",name:"order",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"createNode"},{type:"action",title:"编辑节点",name:"put-admin-node-95d3c1",description:"",notes:[],route:{method:"PUT",path:"/guidebook/admin/node"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"updateNode"},{type:"action",title:"移动节点",name:"put-admin-node-position-0819a7",description:"",notes:[],route:{method:"PUT",path:"/guidebook/admin/node/position"},params:[{type:"number",name:"id",description:""},{type:"number",name:"parentId",description:""},{type:"number",name:"order",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"moveNode"},{type:"action",title:"删除节点",name:"delete-admin-node-b14eb1",description:"",notes:[],route:{method:"DELETE",path:"/guidebook/admin/node"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"deleteNode"},{type:"action",title:"后台获取文章列表",name:"get-admin-article-list-131673",description:"",notes:[],route:{method:"GET",path:"/guidebook/admin/article/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keywords",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"getAdminArticleList"},{type:"action",title:"后台获取文章详情",name:"get-admin-article-item-cad75d",description:"",notes:[],route:{method:"GET",path:"/guidebook/admin/article/item"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"getAdminArticleItem"},{type:"action",title:"后台创建文章",name:"post-admin-article-aa0ead",description:"",notes:[],route:{method:"POST",path:"/guidebook/admin/article"},params:[{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"createArticle"},{type:"action",title:"后台修改文章",name:"put-admin-article-458364",description:"",notes:[],route:{method:"PUT",path:"/guidebook/admin/article"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"updateArticle"},{type:"action",title:"后台删除文章",name:"delete-admin-article-59962d",description:"",notes:[],route:{method:"DELETE",path:"/guidebook/admin/article"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=guidebook.admin&name=攻略指南管理"}],filename:"guidebook",funcname:"deleteArticle"},{type:"action",title:"前台获取文章详情",name:"get-article-item-960db9",description:"",notes:[],route:{method:"GET",path:"/guidebook/article/item"},params:[{type:"number",name:"id",description:"节点ID"},{type:"boolean",name:"silent",description:"不增加访问次数"}],middlewares:[],filename:"guidebook",funcname:"getArticle"},{type:"action",title:"前台获取文章目录树",name:"get-article-tree-fe517f",description:"",notes:[],route:{method:"GET",path:"/guidebook/article/tree"},params:[{type:"number",name:"id",description:"根节点ID"},{type:"number",name:"currentId",description:"当前节点ID（内部参数）"}],middlewares:[],filename:"guidebook",funcname:"getTree"}]},{type:"module",title:"高中数据",name:"highschool-69befe",path:"/highschool",description:"",middlewares:[],notes:[],filename:"highschool",actions:[{type:"action",title:"获取高中列表选项",name:"get-list-options-6cd9f6",description:"",notes:[],route:{method:"GET",path:"/highschool/list/options"},params:[],middlewares:[],filename:"highschool",funcname:"getListOptions"},{type:"action",title:"获取高中列表选项（APP用）",name:"get-list-options-app-e9e873",description:"",notes:[],route:{method:"GET",path:"/highschool/list/options/app"},params:[],middlewares:[],filename:"highschool",funcname:"getAppListOptions"},{type:"action",title:"获取高中列表",name:"get-list-hottest-4af29b",description:"",notes:[],route:{method:"GET",path:"/highschool/list/hottest"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"countryId",description:""},{type:"string",name:"sexualTypeId",description:""},{type:"string",name:"boarderTypeId",description:""},{type:"string",name:"locationTypeId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"highschool",funcname:"getHottestList"},{type:"action",title:"获取高中列表",name:"get-list-28a819",description:"",notes:[],route:{method:"GET",path:"/highschool/list"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"countryId",description:""},{type:"string",name:"sexualTypeId",description:""},{type:"string",name:"boarderTypeId",description:""},{type:"string",name:"locationTypeId",description:""},{type:"string",name:"feeRange",description:"格式：A-B，单位：万，A、B可有一方不填。有效值如：'-20', '20-25', '25-'"},{type:"string",name:"rankCategoryId",description:""},{type:"string",name:"rankRange",description:"给出最大可见的排名即可，如 TOP100 就是 '100'"},{type:"Array.<number>",name:"ids",description:"内部参数"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"highschool",funcname:"getList"},{type:"action",title:"获取高中数据",name:"get-id-21d93d",description:"",notes:[],route:{method:"GET",path:"/highschool/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"highschool",funcname:"getOne"}]},{type:"module",title:"高中排名",name:"highschool-46fa72",path:"/highschool",description:"",middlewares:[],notes:[],filename:"highschool_rank",actions:[{type:"action",title:"获取排名列表",name:"get-ranks-c82084",description:"",notes:[],route:{method:"GET",path:"/highschool/ranks"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"highschool_rank",funcname:"getRankList"},{type:"action",title:"获取指定排名学校列表",name:"get-rank-categoryId-schools-2664e2",description:"",notes:[],route:{method:"GET",path:"/highschool/rank/:categoryId/schools"},params:[{type:"number",name:"categoryId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"highschool_rank",funcname:"getList"}]},{type:"module",title:"国际学校前台接口",name:"module-2a9821",path:"/intschool",description:"",middlewares:[],notes:[],filename:"int_school",actions:[{type:"action",title:"获取国际学校列表",name:"get-list-49b48a",description:"",notes:[],route:{method:"GET",path:"/intschool/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"provinceId",description:""},{type:"string",name:"cityId",description:""},{type:"number",name:"courseSystemId",description:"课程体系"},{type:"Array.<number>",name:"departmentIds",description:"开设年级"},{type:"Array.<string>",name:"typeIds",description:"办学性质"},{type:"Array.<number>",name:"feeTuitionIds",description:"学费范围"},{type:"Array.<number>",name:"targetRegionIds",description:"目标国家"},{type:"Array.<number>",name:"boarderTypeIds",description:"住校类型"},{type:"Array.<number>",name:"ids",description:"内部参数"}],middlewares:[],filename:"int_school",funcname:"getSchoolList"},{type:"action",title:"获取国际学校详情",name:"get-item-89b0b1",description:"",notes:[],route:{method:"GET",path:"/intschool/item"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"int_school",funcname:"getSchoolItem"},{type:"action",title:"获取国际学校招生项目列表",name:"get-program-list-8882bf",description:"",notes:[],route:{method:"GET",path:"/intschool/program/list"},params:[{type:"number",name:"intSchoolId",description:""}],middlewares:[],filename:"int_school",funcname:"getProgramList"},{type:"action",title:"获取国际学校招生项目详情",name:"get-program-item-f55679",description:"",notes:[],route:{method:"GET",path:"/intschool/program/item"},params:[{type:"number",name:"id",description:"招生项目ID"},{type:"string",name:"previewCode",description:""}],middlewares:[],filename:"int_school",funcname:"getProgramItem"},{type:"action",title:"获取国际学校动态列表",name:"get-feed-list-bfbc4b",description:"",notes:[],route:{method:"GET",path:"/intschool/feed/list"},params:[{type:"number",name:"intSchoolId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"fromId",description:"分页参数，第一页不需要，后边每一页传给我可以达到不出现重复项的效果（可以在`pagination`中找到）"},{type:"string",name:"prevFromId",description:"刷新第一页的时候，把上一次的fromId给我"}],middlewares:[],filename:"int_school",funcname:"getFeedList"},{type:"action",title:"获取国际学校常见问题",name:"get-faq-9db606",description:"",notes:[],route:{method:"GET",path:"/intschool/faq"},params:[{type:"number",name:"intSchoolId",description:""}],middlewares:[],filename:"int_school",funcname:"getFrequentQuestions"},{type:"action",title:"获取国际学校师资力量列表",name:"get-teacher-list-4aff9e",description:"",notes:[],route:{method:"GET",path:"/intschool/teacher/list"},params:[{type:"number",name:"intSchoolId",description:""}],middlewares:[],filename:"int_school",funcname:"getTeacherList"},{type:"action",title:"获取国际学校点评列表",name:"get-comment-list-913bdc",description:"",notes:[],route:{method:"GET",path:"/intschool/comment/list"},params:[{type:"number",name:"intSchoolId",description:""}],middlewares:[],filename:"int_school",funcname:"getCommentList"},{type:"action",title:"获取国际学校优秀毕业生列表",name:"get-student-list-5d79a1",description:"",notes:[],route:{method:"GET",path:"/intschool/student/list"},params:[{type:"number",name:"intSchoolId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"int_school",funcname:"getStudentList"},{type:"action",title:"获取国际学校优秀毕业生详情",name:"get-student-item-aa28f1",description:"",notes:[],route:{method:"GET",path:"/intschool/student/item"},params:[{type:"number",name:"id",description:""},{type:"string",name:"previewCode",description:""}],middlewares:[],filename:"int_school",funcname:"getStudentItem"},{type:"action",title:"获取国际学校社团列表",name:"get-community-list-946167",description:"",notes:[],route:{method:"GET",path:"/intschool/community/list"},params:[{type:"number",name:"intSchoolId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"int_school",funcname:"getCommunityList"},{type:"action",title:"获取国际学校社团详情",name:"get-community-item-960f55",description:"",notes:[],route:{method:"GET",path:"/intschool/community/item"},params:[{type:"number",name:"id",description:""},{type:"string",name:"previewCode",description:""}],middlewares:[],filename:"int_school",funcname:"getCommunityItem"},{type:"action",title:"获取国际学校文章详情",name:"get-article-item-ac7952",description:"",notes:[],route:{method:"GET",path:"/intschool/article/item"},params:[{type:"number",name:"id",description:""},{type:"string",name:"previewCode",description:""}],middlewares:[],filename:"int_school",funcname:"getArticleItem"},{type:"action",title:"获取国际学校的照片与视频",name:"get-gallery-6a4aec",description:"",notes:[],route:{method:"GET",path:"/intschool/gallery"},params:[{type:"number",name:"intSchoolId",description:""}],middlewares:[],filename:"int_school",funcname:"getSchoolGallery"},{type:"action",title:"获取开放日列表",name:"get-openday-list-140f12",description:"",notes:[],route:{method:"GET",path:"/intschool/openday/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"Date",name:"startTime",description:""},{type:"string",name:"provinceId",description:""},{type:"string",name:"cityId",description:""}],middlewares:[],filename:"int_school",funcname:"getOpendayList"}]},{type:"module",title:"国际学校后台接口",name:"module-3aa364",path:"/intschool/admin",description:"",middlewares:[{name:"admincheck",args:""}],notes:[],filename:"int_school_admin",actions:[{type:"action",title:"获取国际学校列表",name:"get-list-1e2685",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"inCoop",description:"是否合作"},{type:"boolean",name:"enabled",description:"是否上线"},{type:"number",name:"pending",description:"学校是否待审核"},{type:"number",name:"reviewStatus",description:"学校基础数据审核状态"}],middlewares:[],filename:"int_school_admin",funcname:"getSchoolList"},{type:"action",title:"获取国际学校详情",name:"get-item-899243",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/item"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"int_school_admin",funcname:"getSchoolInfo"},{type:"action",title:"获取国际学校详情相关选项",name:"get-item-options-6be9a4",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/item/options"},params:[],middlewares:[],filename:"int_school_admin",funcname:"getSchoolInfoOptions"},{type:"action",title:"新增国际学校",name:"post-item-bc5d51",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/item"},params:[{type:"string",name:"chineseName",description:""},{type:"string",name:"englishName",description:""},{type:"string",name:"typeId",description:"学校类型（公立/私立）"},{type:"string",name:"provinceId",description:""},{type:"string",name:"cityId",description:""},{type:"string",name:"coverUrl",description:""},{type:"number",name:"coverWidth",description:""},{type:"number",name:"coverHeight",description:""},{type:"string",name:"logo",description:""},{type:"string",name:"website",description:""},{type:"number",name:"establishmentYear",description:""},{type:"string",name:"address",description:"详细地址"},{type:"string",name:"area",description:"占地面积"},{type:"boolean",name:"acceptForeign",description:"是否接收外籍学生"},{type:"string",name:"introduction",description:"HTML学校简介"},{type:"Array.<{title: string, description: string, image: string}>",name:"advantages",description:"学校优势"},{type:"Array.<{title: string, description: string, image: string}>",name:"honors",description:"荣誉资质"},{type:"number",name:"totalStudentCount",description:"学生总数"},{type:"string",name:"foreignTeacherRatio",description:"外教比"},{type:"string",name:"facultyStudentRatio",description:"师生比"},{type:"number",name:"graduatedSessionCount",description:"毕业届数"},{type:"number",name:"graduateAdmissionRate",description:"成功申请率"},{type:"number",name:"graduateAdmissionRateTop100",description:"世界TOP100录取率"},{type:"Array.<{countryId: string, ratio: number}>",name:"graduateAdmissionCountries",description:""},{type:"Array.<{schoolId: number, school: {id: number, chineseName: string}, count: number}>",name:"graduateAdmissionSchools",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createSchool"},{type:"action",title:"修改国际学校详情",name:"put-item-721188",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/item"},params:[{type:"number",name:"id",description:""},{type:"string",name:"chineseName",description:""},{type:"string",name:"englishName",description:""},{type:"string",name:"typeId",description:"学校类型（公立/私立）"},{type:"string",name:"provinceId",description:""},{type:"string",name:"cityId",description:""},{type:"string",name:"coverUrl",description:""},{type:"number",name:"coverWidth",description:""},{type:"number",name:"coverHeight",description:""},{type:"string",name:"logo",description:""},{type:"string",name:"website",description:""},{type:"number",name:"establishmentYear",description:""},{type:"string",name:"address",description:"详细地址"},{type:"string",name:"area",description:"占地面积"},{type:"boolean",name:"acceptForeign",description:"是否接收外籍学生"},{type:"string",name:"introduction",description:"HTML学校简介"},{type:"Array.<{title: string, description: string, image: string}>",name:"advantages",description:"学校优势"},{type:"Array.<{title: string, description: string, image: string}>",name:"honors",description:"荣誉资质"},{type:"number",name:"totalStudentCount",description:"学生总数"},{type:"string",name:"foreignTeacherRatio",description:"外教比"},{type:"string",name:"facultyStudentRatio",description:"师生比"},{type:"number",name:"graduatedSessionCount",description:"毕业届数"},{type:"number",name:"graduateAdmissionRate",description:"成功申请率"},{type:"number",name:"graduateAdmissionRateTop100",description:"世界TOP100录取率"},{type:"Array.<{countryId: string, ratio: number}>",name:"graduateAdmissionCountries",description:""},{type:"Array.<{schoolId: number, school: {id: number, chineseName: string}, count: number}>",name:"graduateAdmissionSchools",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateSchool"},{type:"action",title:"提交国际学校详情审核请求",name:"post-item-submit-9b202a",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/item/submit"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"int_school_admin",funcname:"submitSchool"},{type:"action",title:"提交国际学校详情审核结果",name:"post-item-review-adca0a",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/item/review"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewSchool"},{type:"action",title:"设置国际学校上下线",name:"put-item-enabled-d41e88",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/item/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setSchoolEnabled"},{type:"action",title:"修改国际学校合作信息",name:"put-item-bindings-deb084",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/item/bindings"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"inCoop",description:""},{type:"number",name:"consultantId",description:""},{type:"number",name:"adminId",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateSchoolBindings"},{type:"action",title:"获取可绑定管理员列表",name:"get-item-bindings-admins-6258b1",description:"获取拥有国际学校绑定编辑权限且不是系统管理员的管理员列表",notes:[],route:{method:"GET",path:"/intschool/admin/item/bindings/admins"},params:[],middlewares:[],filename:"int_school_admin",funcname:"getSchoolBindingAdmins"},{type:"action",title:"设置国际学校顺序",name:"put-item-order-aa81e1",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/item/order"},params:[{type:"number",name:"id",description:""},{type:"number",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setSchoolOrder"},{type:"action",title:"获取国际学校点评列表",name:"get-comment-list-df52c9",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/comment/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getCommentList"},{type:"action",title:"添加国际学校点评",name:"post-comment-5044c3",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/comment"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"string",name:"category",description:"点评分类（可能要用选的）"},{type:"string",name:"content",description:"点评内容"}],middlewares:[],filename:"int_school_admin",funcname:"createComment"},{type:"action",title:"修改国际学校点评",name:"put-comment-11b6fb",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/comment"},params:[{type:"number",name:"id",description:"点评ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"string",name:"category",description:"点评分类（可能要用选的）"},{type:"string",name:"content",description:"点评内容"}],middlewares:[],filename:"int_school_admin",funcname:"updateComment"},{type:"action",title:"提交国际学校点评审核",name:"post-comment-submit-95a307",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/comment/submit"},params:[{type:"Array.<number>",name:"ids",description:"点评ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitComment"},{type:"action",title:"审核国际学校点评",name:"post-comment-review-43aca3",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/comment/review"},params:[{type:"Array.<number>",name:"ids",description:"点评ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewComment"},{type:"action",title:"上下线国际学校点评",name:"put-comment-enabled-29e3c4",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/comment/enabled"},params:[{type:"number",name:"id",description:"点评ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setCommentEnabled"},{type:"action",title:"调整国际学校点评顺序",name:"put-comment-order-b9c844",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/comment/order"},params:[{type:"number",name:"id",description:"点评ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setCommentOrder"},{type:"action",title:"删除国际学校点评",name:"delete-comment-08d626",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/comment"},params:[{type:"number",name:"id",description:"点评ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteComment"},{type:"action",title:"获取国际学校优秀毕业生列表",name:"get-student-list-77884e",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/student/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getStudentList"},{type:"action",title:"获取国际学校优秀毕业生详情",name:"get-student-b5a1ee",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/student"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getStudentItem"},{type:"action",title:"创建国际学校优秀毕业生",name:"post-student-1ad185",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/student"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"coverUrl",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createStudent"},{type:"action",title:"编辑国际学校优秀毕业生",name:"put-student-c0795c",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/student"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"coverUrl",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateStudent"},{type:"action",title:"提交审核国际学校优秀毕业生",name:"post-student-submit-d81d03",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/student/submit"},params:[{type:"Array.<number>",name:"ids",description:"优秀毕业生ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitStudent"},{type:"action",title:"审核国际学校优秀毕业生",name:"post-student-review-2700b6",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/student/review"},params:[{type:"Array.<number>",name:"ids",description:"优秀毕业生ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewStudent"},{type:"action",title:"上下线国际学校优秀毕业生",name:"put-student-enabled-ae5c2e",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/student/enabled"},params:[{type:"number",name:"id",description:"优秀毕业生ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setStudentEnabled"},{type:"action",title:"调整国际学校优秀毕业生顺序",name:"put-student-order-1b30c5",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/student/order"},params:[{type:"number",name:"id",description:"优秀毕业生ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setStudentOrder"},{type:"action",title:"删除国际学校优秀毕业生",name:"delete-student-604c5b",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/student"},params:[{type:"number",name:"id",description:"优秀毕业生ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteStudent"},{type:"action",title:"获取国际学校社团列表",name:"get-community-list-1afbdd",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/community/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getCommunityList"},{type:"action",title:"获取国际学校社团详情",name:"get-community-f43f3d",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/community"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getCommunityItem"},{type:"action",title:"创建国际学校社团",name:"post-community-17ee99",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/community"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"coverUrl",description:""},{type:"string",name:"name",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createCommunity"},{type:"action",title:"编辑国际学校社团",name:"put-community-5a0dd7",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/community"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"coverUrl",description:""},{type:"string",name:"name",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateCommunity"},{type:"action",title:"提交审核国际学校社团",name:"post-community-submit-04180e",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/community/submit"},params:[{type:"Array.<number>",name:"ids",description:"社团ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitCommunity"},{type:"action",title:"审核国际学校社团",name:"post-community-review-6a0480",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/community/review"},params:[{type:"Array.<number>",name:"ids",description:"社团ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewCommunity"},{type:"action",title:"上下线国际学校社团",name:"put-community-enabled-1a71bf",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/community/enabled"},params:[{type:"number",name:"id",description:"社团ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setCommunityEnabled"},{type:"action",title:"调整国际学校社团顺序",name:"put-community-order-2e49fd",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/community/order"},params:[{type:"number",name:"id",description:"社团ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setCommunityOrder"},{type:"action",title:"删除国际学校社团",name:"delete-community-e7a932",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/community"},params:[{type:"number",name:"id",description:"社团ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteCommunity"},{type:"action",title:"获取国际学校招生项目列表",name:"get-program-list-06a240",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/program/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getProgramList"},{type:"action",title:"获取国际学校招生项目详情",name:"get-program-c30132",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/program"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getProgramItem"},{type:"action",title:"获取国际学校招生项目选项",name:"get-program-options-48cd86",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/program/options"},params:[],middlewares:[],filename:"int_school_admin",funcname:"getProgramOptions"},{type:"action",title:"创建国际学校招生项目",name:"post-program-22db19",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/program"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"name",description:""},{type:"string",name:"coverUrl",description:""},{type:"number",name:"departmentId",description:""},{type:"string",name:"enrollmentTarget",description:""},{type:"string",name:"enrollmentRequirement",description:""},{type:"string",name:"enrollmentTime",description:""},{type:"Array.<number>",name:"courseSystemIds",description:""},{type:"number",name:"boarderTypeId",description:""},{type:"Array.<number>",name:"targetRegionIds",description:""},{type:"Array.<string>",name:"advantages",description:""},{type:"number",name:"feeTuitionId",description:""},{type:"string",name:"feeApplication",description:""},{type:"string",name:"feeAccommodation",description:""},{type:"string",name:"feeOther",description:""},{type:"string",name:"admissionBrochure",description:""},{type:"string",name:"entranceTime",description:""},{type:"string",name:"classSize",description:""},{type:"string",name:"teachingForm",description:""},{type:"boolean",name:"acceptTransfer",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createProgram"},{type:"action",title:"编辑国际学校招生项目",name:"put-program-798f0c",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/program"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"name",description:""},{type:"string",name:"coverUrl",description:""},{type:"number",name:"departmentId",description:""},{type:"string",name:"enrollmentTarget",description:""},{type:"string",name:"enrollmentRequirement",description:""},{type:"string",name:"enrollmentTime",description:""},{type:"Array.<number>",name:"courseSystemIds",description:""},{type:"number",name:"boarderTypeId",description:""},{type:"Array.<number>",name:"targetRegionIds",description:""},{type:"Array.<string>",name:"advantages",description:""},{type:"number",name:"feeTuitionId",description:""},{type:"string",name:"feeApplication",description:""},{type:"string",name:"feeAccommodation",description:""},{type:"string",name:"feeOther",description:""},{type:"string",name:"admissionBrochure",description:""},{type:"string",name:"entranceTime",description:""},{type:"string",name:"classSize",description:""},{type:"string",name:"teachingForm",description:""},{type:"boolean",name:"acceptTransfer",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateProgram"},{type:"action",title:"提交审核国际学校招生项目",name:"post-program-submit-1988a7",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/program/submit"},params:[{type:"Array.<number>",name:"ids",description:"招生项目ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitProgram"},{type:"action",title:"审核国际学校招生项目",name:"post-program-review-fbac34",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/program/review"},params:[{type:"Array.<number>",name:"ids",description:"招生项目ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewProgram"},{type:"action",title:"上下线国际学校招生项目",name:"put-program-enabled-7569c3",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/program/enabled"},params:[{type:"number",name:"id",description:"招生项目ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setProgramEnabled"},{type:"action",title:"调整国际学校招生项目顺序",name:"put-program-order-57b2dd",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/program/order"},params:[{type:"number",name:"id",description:"招生项目ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setProgramOrder"},{type:"action",title:"删除国际学校招生项目",name:"delete-program-353935",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/program"},params:[{type:"number",name:"id",description:"招生项目ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteProgram"},{type:"action",title:"获取国际学校师资力量列表",name:"get-teacher-list-454060",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/teacher/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getTeacherList"},{type:"action",title:"创建国际学校师资力量",name:"post-teacher-f738bb",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/teacher"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"avatarUrl",description:""},{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createTeacher"},{type:"action",title:"编辑国际学校师资力量",name:"put-teacher-b1b49c",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/teacher"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"avatarUrl",description:""},{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateTeacher"},{type:"action",title:"提交审核国际学校师资力量",name:"post-teacher-submit-595261",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/teacher/submit"},params:[{type:"Array.<number>",name:"ids",description:"师资力量ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitTeacher"},{type:"action",title:"审核国际学校师资力量",name:"post-teacher-review-db53d2",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/teacher/review"},params:[{type:"Array.<number>",name:"ids",description:"师资力量ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewTeacher"},{type:"action",title:"上下线国际学校师资力量",name:"put-teacher-enabled-859096",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/teacher/enabled"},params:[{type:"number",name:"id",description:"师资力量ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setTeacherEnabled"},{type:"action",title:"调整国际学校师资力量顺序",name:"put-teacher-order-f48d48",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/teacher/order"},params:[{type:"number",name:"id",description:"师资力量ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setTeacherOrder"},{type:"action",title:"删除国际学校师资力量",name:"delete-teacher-a89e96",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/teacher"},params:[{type:"number",name:"id",description:"师资力量ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteTeacher"},{type:"action",title:"获取国际学校文章列表",name:"get-article-list-762d16",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/article/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getArticleList"},{type:"action",title:"获取国际学校文章详情",name:"get-article-0f5767",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/article"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getArticleItem"},{type:"action",title:"创建国际学校文章",name:"post-article-f8b7f0",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/article"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"coverUrl",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createArticle"},{type:"action",title:"编辑国际学校文章",name:"put-article-595ef7",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/article"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"coverUrl",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateArticle"},{type:"action",title:"提交审核国际学校文章",name:"post-article-submit-c2e87f",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/article/submit"},params:[{type:"Array.<number>",name:"ids",description:"文章ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitArticle"},{type:"action",title:"审核国际学校文章",name:"post-article-review-fbef37",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/article/review"},params:[{type:"Array.<number>",name:"ids",description:"文章ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewArticle"},{type:"action",title:"上下线国际学校文章",name:"put-article-enabled-c1f5cb",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/article/enabled"},params:[{type:"number",name:"id",description:"文章ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setArticleEnabled"},{type:"action",title:"调整国际学校文章顺序",name:"put-article-order-4f3700",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/article/order"},params:[{type:"number",name:"id",description:"文章ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setArticleOrder"},{type:"action",title:"删除国际学校文章",name:"delete-article-baabec",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/article"},params:[{type:"number",name:"id",description:"文章ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteArticle"},{type:"action",title:"获取国际学校常见问题列表",name:"get-faq-list-2d32a9",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/faq/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getFrequentQuestionList"},{type:"action",title:"创建国际学校常见问题",name:"post-faq-a3366a",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/faq"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"question",description:""},{type:"string",name:"answer",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createFrequentQuestion"},{type:"action",title:"编辑国际学校常见问题",name:"put-faq-96be69",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/faq"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"question",description:""},{type:"string",name:"answer",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateFrequentQuestion"},{type:"action",title:"提交审核国际学校常见问题",name:"post-faq-submit-75604f",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/faq/submit"},params:[{type:"Array.<number>",name:"ids",description:"常见问题ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitFrequentQuestion"},{type:"action",title:"审核国际学校常见问题",name:"post-faq-review-5117a3",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/faq/review"},params:[{type:"Array.<number>",name:"ids",description:"常见问题ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewFrequentQuestion"},{type:"action",title:"上下线国际学校常见问题",name:"put-faq-enabled-2ff485",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/faq/enabled"},params:[{type:"number",name:"id",description:"常见问题ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setFrequentQuestionEnabled"},{type:"action",title:"调整国际学校常见问题顺序",name:"put-faq-order-63987d",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/faq/order"},params:[{type:"number",name:"id",description:"常见问题ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setFrequentQuestionOrder"},{type:"action",title:"删除国际学校常见问题",name:"delete-faq-8ee69d",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/faq"},params:[{type:"number",name:"id",description:"常见问题ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteFrequentQuestion"},{type:"action",title:"获取国际学校开放日列表",name:"get-openday-list-dbfcc1",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/openday/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getOpenDayList"},{type:"action",title:"获取国际学校开放日选项",name:"get-openday-options-50e942",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/openday/options"},params:[],middlewares:[],filename:"int_school_admin",funcname:"getOpenDayOptions"},{type:"action",title:"创建国际学校开放日",name:"post-openday-073500",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/openday"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"date",description:""},{type:"string",name:"time",description:""},{type:"Array.<number>",name:"tags",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createOpenDay"},{type:"action",title:"编辑国际学校开放日",name:"put-openday-64f258",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/openday"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"date",description:""},{type:"string",name:"time",description:""},{type:"Array.<number>",name:"tags",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updateOpenDay"},{type:"action",title:"提交审核国际学校开放日",name:"post-openday-submit-3ab111",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/openday/submit"},params:[{type:"Array.<number>",name:"ids",description:"开放日ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitOpenDay"},{type:"action",title:"审核国际学校开放日",name:"post-openday-review-74aaf6",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/openday/review"},params:[{type:"Array.<number>",name:"ids",description:"开放日ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewOpenDay"},{type:"action",title:"上下线国际学校开放日",name:"put-openday-enabled-0d163a",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/openday/enabled"},params:[{type:"number",name:"id",description:"开放日ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setOpenDayEnabled"},{type:"action",title:"调整国际学校开放日顺序",name:"put-openday-order-27fa79",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/openday/order"},params:[{type:"number",name:"id",description:"开放日ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setOpenDayOrder"},{type:"action",title:"删除国际学校开放日",name:"delete-openday-1dea56",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/openday"},params:[{type:"number",name:"id",description:"开放日ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deleteOpenDay"},{type:"action",title:"获取国际学校图片列表",name:"get-photo-list-256736",description:"",notes:[],route:{method:"GET",path:"/intschool/admin/photo/list"},params:[{type:"number",name:"intSchoolId",description:"国际学校ID（必填）"}],middlewares:[],filename:"int_school_admin",funcname:"getPhotoList"},{type:"action",title:"创建国际学校图片",name:"post-photo-5c2482",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/photo"},params:[{type:"number",name:"intSchoolId",description:""},{type:"string",name:"imageUrl",description:""},{type:"number",name:"width",description:""},{type:"number",name:"height",description:""},{type:"string",name:"text",description:""}],middlewares:[],filename:"int_school_admin",funcname:"createPhoto"},{type:"action",title:"编辑国际学校图片",name:"put-photo-bac184",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/photo"},params:[{type:"number",name:"id",description:""},{type:"number",name:"intSchoolId",description:""},{type:"string",name:"imageUrl",description:""},{type:"number",name:"width",description:""},{type:"number",name:"height",description:""},{type:"string",name:"text",description:""}],middlewares:[],filename:"int_school_admin",funcname:"updatePhoto"},{type:"action",title:"提交审核国际学校图片",name:"post-photo-submit-03b1d4",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/photo/submit"},params:[{type:"Array.<number>",name:"ids",description:"图片ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"submitPhoto"},{type:"action",title:"审核国际学校图片",name:"post-photo-review-518062",description:"",notes:[],route:{method:"POST",path:"/intschool/admin/photo/review"},params:[{type:"Array.<number>",name:"ids",description:"图片ID数组"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"accept",description:""}],middlewares:[],filename:"int_school_admin",funcname:"reviewPhoto"},{type:"action",title:"上下线国际学校图片",name:"put-photo-enabled-ecb1a2",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/photo/enabled"},params:[{type:"number",name:"id",description:"图片ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setPhotoEnabled"},{type:"action",title:"调整国际学校图片顺序",name:"put-photo-order-5d59a2",description:"",notes:[],route:{method:"PUT",path:"/intschool/admin/photo/order"},params:[{type:"number",name:"id",description:"图片ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"},{type:"boolean",name:"order",description:""}],middlewares:[],filename:"int_school_admin",funcname:"setPhotoOrder"},{type:"action",title:"删除国际学校图片",name:"delete-photo-d5512a",description:"",notes:[],route:{method:"DELETE",path:"/intschool/admin/photo"},params:[{type:"number",name:"id",description:"图片ID"},{type:"number",name:"intSchoolId",description:"国际学校ID"}],middlewares:[],filename:"int_school_admin",funcname:"deletePhoto"}]},{type:"module",title:"国际学校",name:"international-school-58796a",path:"/international/school",description:"",middlewares:[],notes:[],filename:"international_school",actions:[{type:"action",title:"获取国际学校列表",name:"get-list-50e4ac",description:"",notes:[],route:{method:"GET",path:"/international/school/list"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"provinceId",description:""},{type:"string",name:"degree",description:""},{type:"string",name:"feeRange",description:""},{type:"string",name:"courseSystem",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"international_school",funcname:"getSchoolList"},{type:"action",title:"获得学校首页数据",name:"get-id-index-adf6a5",description:"",notes:[],route:{method:"GET",path:"/international/school/:id/index"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"international_school",funcname:"getSchoolIndex"},{type:"action",title:"获得学校介绍",name:"get-id-introduction-3215f0",description:"",notes:[],route:{method:"GET",path:"/international/school/:id/introduction"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"international_school",funcname:"getSchoolIntroduction"},{type:"action",title:"获得学校课程列表",name:"get-id-courses-34b8cf",description:"",notes:[],route:{method:"GET",path:"/international/school/:id/courses"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"international_school",funcname:"getSchoolCourses"},{type:"action",title:"获得学校课程",name:"get-id-courses-courseId-234c54",description:"",notes:[],route:{method:"GET",path:"/international/school/:id/courses/:courseId"},params:[{type:"number",name:"id",description:""},{type:"number",name:"courseId",description:""}],middlewares:[],filename:"international_school",funcname:"getSchoolCourse"},{type:"action",title:"获得学校教师列表",name:"get-id-teachers-7f805f",description:"",notes:[],route:{method:"GET",path:"/international/school/:id/teachers"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"international_school",funcname:"getSchoolTeachers"}]},{type:"module",title:"iOS版本管理",name:"ios-version-673d4c",path:"/ios/version",description:"",middlewares:[],notes:[],filename:"ios_version",actions:[{type:"action",title:"检查iOS版本是否有更新",name:"get-check-version-827068",description:"",notes:[],route:{method:"GET",path:"/ios/version/check/:version"},params:[{type:"string",name:"version",description:"当前版本好"},{type:"boolean",name:"online",description:"立即检查AppStore中的版本（而不是缓存版本）"}],middlewares:[],filename:"ios_version",funcname:"checkVersion"}]},{type:"module",title:"招聘内容",name:"jobs-996652",path:"/jobs",description:"",middlewares:[],notes:[],filename:"jobs",actions:[{type:"action",title:"添加笼统的富文本格式的工作内容",name:"post-import-pagestyle-1c3411",description:"",notes:[],route:{method:"POST",path:"/jobs/import_pagestyle"},params:[{type:"string",name:"title",description:""},{type:"string",name:"href",description:""},{type:"Date",name:"publishDate",description:""},{type:"string",name:"deadline",description:""},{type:"string",name:"province",description:""},{type:"string",name:"city",description:""},{type:"string",name:"recruitNum",description:""},{type:"string",name:"content",description:""},{type:"Array.<number>",name:"belong",description:""}],middlewares:[{name:"admincheck",args:"key=jobs.create"}],filename:"jobs",funcname:"postJobsPageStyle"},{type:"action",title:"添加学校的内容信息",name:"post-import-school-8ffd34",description:"",notes:[],route:{method:"POST",path:"/jobs/import_school"},params:[{type:"string",name:"name",description:""},{type:"string",name:"pic",description:""},{type:"string",name:"introduction",description:""}],middlewares:[{name:"admincheck",args:"key=jobs.create"}],filename:"jobs",funcname:"postJobsSchoolInfos"},{type:"action",title:"获取包含学校logo的内容信息",name:"get-schools-f9e645",description:"",notes:[],route:{method:"GET",path:"/jobs/schools"},params:[{type:"number",name:"size",description:"想要获取的学校的个数，不指定默认20个"}],middlewares:[],filename:"jobs",funcname:"getJobsSchoolInfos"},{type:"action",title:"获取单个学校的内容信息包含对应的工作列表",name:"get-school-job-lists-2003ed",description:"",notes:[],route:{method:"GET",path:"/jobs/school_job_lists"},params:[{type:"number",name:"id",description:"学校的名称内容"}],middlewares:[],filename:"jobs",funcname:"getJobsSchoolInfoWithLists"},{type:"action",title:"获取指定id的招聘启事内容",name:"get-pagestyle-id-21ca47",description:"",notes:[],route:{method:"GET",path:"/jobs/pagestyle/:id"},params:[{type:"number",name:"id",description:"招聘启事的id值"}],middlewares:[],filename:"jobs",funcname:"getJobsSchoolInfo"},{type:"action",title:"获取笼统的富文本格式的工作内容",name:"get-pagestyle-ab9010",description:"",notes:[],route:{method:"GET",path:"/jobs/pagestyle"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"province",description:""},{type:"string",name:"tag",description:""}],middlewares:[],filename:"jobs",funcname:"getJobsPageStyle"},{type:"action",title:"添加较为详尽的结构化的工作内容",name:"post-import-detailstyle-60b2c6",description:"",notes:[],route:{method:"POST",path:"/jobs/import_detailstyle"},params:[{type:"string",name:"name",description:""},{type:"string",name:"logo",description:""},{type:"string",name:"province",description:""},{type:"string",name:"homepage",description:""},{type:"string",name:"scale",description:""},{type:"string",name:"nature",description:""},{type:"string",name:"industry",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"title",description:""},{type:"string",name:"jobHref",description:""},{type:"string",name:"content",description:""},{type:"string",name:"companyHref",description:""},{type:"Array.<string>",name:"contact",description:""},{type:"string",name:"baseInfos",description:""},{type:"Array.<string>",name:"benefits",description:""},{type:"string",name:"salary",description:""},{type:"Date",name:"publishDate",description:""}],middlewares:[{name:"admincheck",args:"key=jobs.create"}],filename:"jobs",funcname:"postJobsDetailStyle"},{type:"action",title:"获取较为详尽的结构化的工作内容",name:"get-detailstyle-f78451",description:"",notes:[],route:{method:"GET",path:"/jobs/detailstyle"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"province",description:""}],middlewares:[],filename:"jobs",funcname:"getJobsDetailStyle"},{type:"action",title:"获取指定的较为详尽的结构化的工作内容",name:"get-detailstyle-id-a9dc13",description:"",notes:[],route:{method:"GET",path:"/jobs/detailstyle/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"jobs",funcname:"getJobDetailStyle"},{type:"action",title:"获取指定公司所有的职位列表，直接返回所有职位的信息内容。",name:"get-company-jobs-6a9a92",description:"",notes:[],route:{method:"GET",path:"/jobs/company/jobs"},params:[{type:"string",name:"companyId",description:"想要获取的公司的companyId值，是个hash字符串"}],middlewares:[],filename:"jobs",funcname:"getJobsCompanyInfoWithList"},{type:"action",title:"获取公司含有logo的公司列表",name:"get-company-68709d",description:"",notes:[],route:{method:"GET",path:"/jobs/company"},params:[{type:"number",name:"size",description:"想要获取的公司的个数，不指定默认20个"}],middlewares:[],filename:"jobs",funcname:"getJobsCompanyInfos"}]},{type:"module",title:"通用点赞模块",name:"like-9ef5a1",path:"",description:"这个模块可以用于多种数据的点赞逻辑",middlewares:[],notes:["点赞目标的类型\n\n- `news` - 资讯\n- `user` - 用户\n- `questionPost` - 问题\n- `questionComment` - 问题回答/追问\n- `columnNews` - 专栏\n- `userIdea` - （已下线）\n- `video` - 视频\n- `feed` - 动态\n- `feedComment` - 动态评论\n- `serviceStory` - 方案故事"],filename:"like",actions:[{type:"action",title:"检查是否点赞",name:"get-favorite-type-id-0a13fe",description:"",notes:[],route:{method:"GET",path:"/favorite/:type/:id"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"like",funcname:"isFavorite"},{type:"action",title:"查询点赞次数",name:"get-favorite-type-id-count-700204",description:"",notes:[],route:{method:"GET",path:"/favorite/:type/:id/count"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"like",funcname:"getFavoriteCount"},{type:"action",title:"点赞",name:"post-favorite-type-id-df895e",description:"",notes:[],route:{method:"POST",path:"/favorite/:type/:id"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"like",funcname:"like"},{type:"action",title:"取消点赞",name:"delete-favorite-type-id-5099c8",description:"",notes:[],route:{method:"DELETE",path:"/favorite/:type/:id"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"sessioncheck",args:""}],filename:"like",funcname:"dislike"},{type:"action",title:"获得点赞列表",name:"get-favorite-type-6569d5",description:"",notes:[],route:{method:"GET",path:"/favorite/:type"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"like",funcname:"getList"}]},{type:"module",title:"常量管理",name:"lov-0c6602",path:"",description:"",middlewares:[],notes:[],filename:"lov",actions:[{type:"action",title:"获取LOV",name:"get-lov-207732",description:"",notes:[],route:{method:"GET",path:"/lov"},params:[{type:"string",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=lov.get"}],filename:"lov",funcname:"getLov"},{type:"action",title:"获取LOV值",name:"get-lov-type-id-value-afab2b",description:"",notes:["获得世界专业排名数据: `GET /lov/data/DATA_WORLD_MAJOR_RANKINGS/value`\n- 获得美国专业排名数据: `GET /lov/data/DATA_USA_MAJOR_RANKINGS/value`\n- 获得留学国家选项数据: `GET /lov/data/DATA_TARGET_COUNTRY/value`\n- 获得留学目标选项数据: `GET /lov/data/DATA_TARGET_DEGREE/value`"],route:{method:"GET",path:"/lov/:type/:id/value"},params:[{type:"string",name:"id",description:"编号"},{type:"string",name:"type",description:"类型"}],middlewares:[],filename:"lov",funcname:"getValue"},{type:"action",title:"获取LOV值列表",name:"get-lovs-ade83e",description:"",notes:[],route:{method:"GET",path:"/lovs"},params:[{type:"string",name:"type",description:"类别"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"lov",funcname:"getLovs"},{type:"action",title:"获取LOV值类型列表",name:"get-lov-types-d8758c",description:"",notes:[],route:{method:"GET",path:"/lov/types"},params:[],middlewares:[],filename:"lov",funcname:"getLovTypes"},{type:"action",title:"获取筛选值列表",name:"get-options-3a08ce",description:"",notes:[],route:{method:"GET",path:"/options"},params:[{type:"string",name:"type",description:"类别"},{type:"number",name:"parent",description:"上级键"}],middlewares:[],filename:"lov",funcname:"getOptions"},{type:"action",title:"新建LOV",name:"post-lov-74eeb9",description:"",notes:[],route:{method:"POST",path:"/lov"},params:[{type:"string",name:"id",description:"键编号"},{type:"string",name:"type",description:"类型"},{type:"string",name:"value",description:"值"},{type:"number",name:"parentId",description:"上级编号"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=lov.create"}],filename:"lov",funcname:"postLov"},{type:"action",title:"更新LOV值",name:"put-lov-14916f",description:"",notes:[],route:{method:"PUT",path:"/lov"},params:[{type:"number",name:"id",description:"编号"},{type:"string",name:"value",description:"值"},{type:"nunmber",name:"order",description:"顺序"},{type:"number",name:"parentId",description:"上级编号"}],middlewares:[{name:"admincheck",args:"key=lov.update"}],filename:"lov",funcname:"putLov"},{type:"action",title:"删除LOV值",name:"delete-lov-ed1d18",description:"",notes:[],route:{method:"DELETE",path:"/lov"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=lov.delete"}],filename:"lov",funcname:"deleteLov"}]},{type:"module",title:"邮件模板管理",name:"mail-template-267446",path:"",description:"",middlewares:[],notes:[],filename:"mail_template",actions:[{type:"action",title:"创建模版",name:"post-mail-template-e55be4",description:"",notes:[],route:{method:"POST",path:"/mail_template"},params:[{type:"string",name:"title",description:""},{type:"string",name:"subject",description:""},{type:"string",name:"content",description:""},{type:"string",name:"context",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=mail_template.create"}],filename:"mail_template",funcname:"createTemplate"},{type:"action",title:"更新模版",name:"put-mail-template-id-21f57a",description:"",notes:[],route:{method:"PUT",path:"/mail_template/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"subject",description:""},{type:"string",name:"content",description:""},{type:"string",name:"context",description:""}],middlewares:[{name:"admincheck",args:"key=mail_template.update"}],filename:"mail_template",funcname:"updateTemplate"},{type:"action",title:"获取模版列表",name:"get-mail-templates-afad3a",description:"",notes:[],route:{method:"GET",path:"/mail_templates"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"for",description:"= 'select'"}],middlewares:[{name:"admincheck",args:"key=mail_template.list"}],filename:"mail_template",funcname:"getTemplates"},{type:"action",title:"预览模版",name:"post-mail-template-render-536b77",description:"",notes:[],route:{method:"POST",path:"/mail_template/render"},params:[{type:"number",name:"id",description:""},{type:"string",name:"subject",description:""},{type:"string",name:"content",description:""},{type:"object",name:"context",description:"(optional)"}],middlewares:[{name:"admincheck",args:"key=mail_template.render"}],filename:"mail_template",funcname:"renderTemplate"},{type:"action",title:"预览模版",name:"post-mail-template-render-536b77",description:"",notes:[],route:{method:"POST",path:"/mail_template/:id/render"},params:[{type:"number",name:"id",description:""},{type:"string",name:"subject",description:""},{type:"string",name:"content",description:""},{type:"object",name:"context",description:"(optional)"}],middlewares:[{name:"admincheck",args:"key=mail_template.render"}],filename:"mail_template",funcname:"renderTemplate"}]},{type:"module",title:"学校专业管理",name:"major-148b3b",path:"",description:"",middlewares:[],notes:[],filename:"major",actions:[{type:"action",title:"获取专业",name:"get-major-08b213",description:"",notes:[],route:{method:"GET",path:"/major"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"major",funcname:"getMajor"},{type:"action",title:"获取学校专业",name:"get-school-schoolId-major-f54e11",description:"",notes:[],route:{method:"GET",path:"/school/:schoolId/major"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"degree",description:"专业级别 'undergraduate', 'graduate'"},{type:"number",name:"directionId",description:"专业方向ID"},{type:"number",name:"majorId",description:"专业ID"}],middlewares:[],filename:"major",funcname:"getMajorOfSchool"},{type:"action",title:"获取专业列表",name:"get-majors-fb860c",description:"",notes:[],route:{method:"GET",path:"/majors"},params:[{type:"string",name:"keyword",description:"学校名关键词"},{type:"number",name:"schoolId",description:"学校编号"},{type:"number",name:"degreeTypeId",description:"专业级别ID"},{type:"number",name:"directionId",description:"专业方向ID"},{type:"string",name:"chineseName",description:"专业中文名称"},{type:"string",name:"englishName",description:"专业英文名称"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:"Array.<number>",name:"ids",description:"指定专业id，传递Array或者JSON.stringify过的Array"},{type:"boolean",name:"all",description:"不分页, 只在指定schoolId的条件下生效"},{type:"boolean",name:"withApplication",description:"带上申请信息"}],middlewares:[],filename:"major",funcname:"getMajors"},{type:"action",title:"新建专业",name:"post-major-336d37",description:"",notes:[],route:{method:"POST",path:"/major"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=major.create"}],filename:"major",funcname:"postMajor"},{type:"action",title:"更新专业",name:"put-major-680499",description:"",notes:[],route:{method:"PUT",path:"/major"},params:[],middlewares:[{name:"admincheck",args:"key=major.update"}],filename:"major",funcname:"putMajor"},{type:"action",title:"删除专业",name:"delete-major-e8a17a",description:"",notes:[],route:{method:"DELETE",path:"/major"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=major.delete"}],filename:"major",funcname:"deleteMajor"}]},{type:"module",title:"艺术专业管理",name:"major_arts-3ba5f7",path:"/major_arts",description:"",middlewares:[],notes:[],filename:"major_arts",actions:[{type:"action",title:"获取艺术专业分组信息",name:"get-groups-849492",description:"",notes:[],route:{method:"GET",path:"/major_arts/groups"},params:[],middlewares:[],filename:"major_arts",funcname:"getMajorArtsGroups"},{type:"action",title:"获取专业详情",name:"get-id-23c857",description:"",notes:[],route:{method:"GET",path:"/major_arts/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"major_arts",funcname:"getMajorArtsInfo"}]},{type:"module",title:"学校专业信息（香港等）",name:"major-hk-b9d842",path:"/majors/hk",description:"",middlewares:[],notes:[],filename:"major_hk",actions:[{type:"action",title:"获取列表",name:"get-list-85ed9a",description:"",notes:[],route:{method:"GET",path:"/majors/hk/list"},params:[{type:"number",name:"schoolId",description:"学校ID（必须参数）"},{type:"string",name:"departmentName",description:""}],middlewares:[],filename:"major_hk",funcname:"getList"},{type:"action",title:"获取详情",name:"get-id-1f7f2d",description:"",notes:[],route:{method:"GET",path:"/majors/hk/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"major_hk",funcname:"getItem"}]},{type:"module",title:"专业库",name:"major-lib-b65a53",path:"/major_lib",description:"专业库模块包含国外大学特别是美国大学的专业和项目信息",middlewares:[],notes:[],filename:"major_lib",actions:[{type:"action",title:"获得一级分类列表",name:"get-major-categories-7573ff",description:"",notes:[],route:{method:"GET",path:"/major_lib/major_categories"},params:[],middlewares:[],filename:"major_lib",funcname:"getMajorCategories"},{type:"action",title:"获得专业列表",name:"get-majors-869f6d",description:"",notes:[],route:{method:"GET",path:"/major_lib/majors"},params:[{type:"string",name:"majorCategoryId",description:""},{type:"string",name:"minorCategoryId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"hierarchy",description:"是否以分层结构返回数据（不的话就以列表风格返回）"},{type:"number",name:"page",description:"used only when hierarchy is not true"},{type:"number",name:"pageSize",description:"used only when hierarchy is not true"}],middlewares:[],filename:"major_lib",funcname:"getMajors"},{type:"action",title:"获得专业信息",name:"get-major-id-e0d46b",description:"",notes:[],route:{method:"GET",path:"/major_lib/major/:id"},params:[{type:"number",name:"id",description:"专业库专业id"},{type:"boolean",name:"dontCount",description:"不做访问记录"},{type:"boolean",name:"skipCount",description:""},{type:"boolean",name:"onlyProgramsWithSchools",description:"只获取包含推荐院校的项目（默认：true）"}],middlewares:[],filename:"major_lib",funcname:"getMajor"},{type:"action",title:"获得热门专业",name:"get-majors-hottest-d81125",description:"",notes:[],route:{method:"GET",path:"/major_lib/majors/hottest"},params:[{type:"number",name:"listSize",description:"列表大小限制"}],middlewares:[],filename:"major_lib",funcname:"getHottestMajors"},{type:"action",title:"获得按大类分的热门专业",name:"get-major-hottest-by-category-a8cdf1",description:"",notes:[],route:{method:"GET",path:"/major_lib/major/hottest/by_category"},params:[],middlewares:[],filename:"major_lib",funcname:"getHottestMajorsByCategory"},{type:"action",title:"获得相关专业",name:"get-majors-related-id-8811e3",description:"",notes:[],route:{method:"GET",path:"/major_lib/majors/related/:id"},params:[{type:"number",name:"id",description:"参照物"},{type:"number",name:"listSize",description:"列表大小"}],middlewares:[],filename:"major_lib",funcname:"getRelatedMajors"},{type:"action",title:"获得推荐专业",name:"get-majors-recommended-id-312cc8",description:"",notes:[],route:{method:"GET",path:"/major_lib/majors/recommended/:id"},params:[{type:"number",name:"id",description:"参照物"},{type:"number",name:"listSize",description:"列表大小"}],middlewares:[],filename:"major_lib",funcname:"getRecommenedMajors"},{type:"action",title:"获得项目列表",name:"get-programs-8dc944",description:"",notes:[],route:{method:"GET",path:"/major_lib/programs"},params:[{type:"string",name:"typeId",description:"必传, PROG_UNDERGRADUATE = 本科, PROG_GRADUATE = 研究生"},{type:"string",name:"categoryId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"hierarchy",description:"是否以分层结构返回数据（不的话就以列表风格返回）"},{type:"number",name:"page",description:"used only when hierarchy is not true"},{type:"number",name:"pageSize",description:"used only when hierarchy is not true"}],middlewares:[],filename:"major_lib",funcname:"getPrograms"},{type:"action",title:"获得项目信息",name:"get-program-id-797163",description:"",notes:[],route:{method:"GET",path:"/major_lib/program/:id"},params:[{type:"number",name:"id",description:"专业库项目id"},{type:"boolean",name:"dontCount",description:"不做访问记录"},{type:"number",name:"page",description:"项目相关学校列表的页码"},{type:"number",name:"pageSize",description:"项目相关学校列表的每页条数"}],middlewares:[],filename:"major_lib",funcname:"getProgram"},{type:"action",title:"获得热门项目",name:"get-programs-hottest-d7d31e",description:"",notes:[],route:{method:"GET",path:"/major_lib/programs/hottest"},params:[{type:"string",name:"typeId",description:"必传, PROG_UNDERGRADUATE = 本科, PROG_GRADUATE = 研究生"},{type:"number",name:"listSize",description:"列表大小限制"}],middlewares:[],filename:"major_lib",funcname:"getHottestPrograms"},{type:"action",title:"获得项目相关学校列表",name:"get-program-id-schools-dd5687",description:"",notes:[],route:{method:"GET",path:"/major_lib/program/:id/schools"},params:[{type:"number",name:"id",description:"专业库项目id"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"major_lib",funcname:"getProgramSchools"}]},{type:"module",title:"专业测试",name:"major-test-8a59b7",path:"/major_test",description:"",middlewares:[],notes:[],filename:"major_test",actions:[{type:"action",title:"测试次数",name:"get-test-count-3ec370",description:"",notes:[],route:{method:"GET",path:"/major_test/test_count"},params:[],middlewares:[],filename:"major_test",funcname:"testCount"},{type:"action",title:"获得录取率测试问题",name:"get-questions-ac665b",description:"",notes:["结果里会包含一个key，需要客户端在获取答案时提供给接口\n- 接口会隐含一个1小时答题时间限制的逻辑\n- 有cookie的情况下，一小时内获得的问题是一样的；没有的话可以将key传入此接口，以在短时间内获得相同的问题\n- params.key - 可选，无cookie客户端推荐做法：将此Key保存，并在上次答题流程未提交且未经过1小时的情况下，传给这个接口"],route:{method:"GET",path:"/major_test/questions"},params:[{type:"string",name:"key",description:""}],middlewares:[],filename:"major_test",funcname:"getQuestions"},{type:"action",title:"获得录取率测试答案",name:"post-answer-5bb72a",description:"提交答案，获得答题后的数据。APP若不嵌入WEB结果页，则可以直接用此数据作展示。",notes:[],route:{method:"POST",path:"/major_test/answer"},params:[{type:"string",name:"key",description:"获取问题的接口中拿到的key（拿到题目1小时内有效）"},{type:"string",name:"answers",description:"0和1组成的答案，例如：001100111001 (所有题的答案，0代表否，1代表是)"}],middlewares:[{name:"sessioncheck",args:""}],filename:"major_test",funcname:"answer"},{type:"action",title:"获得录取率测试结果",name:"get-result-id-9e26fd",description:"通过id获得答案，与answer接口返回值相同，主要用于结果页获得数据",notes:[],route:{method:"GET",path:"/major_test/result/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"major_test",funcname:"getResult"}]},{type:"module",title:"学校专业信息（V2）",name:"major-v2-44fa90",path:"/majors/v2",description:"",middlewares:[],notes:[],filename:"major_v2",actions:[{type:"action",title:"获取列表",name:"get-list-d85e07",description:"",notes:[],route:{method:"GET",path:"/majors/v2/list"},params:[{type:"number",name:"schoolId",description:"学校ID（必须参数）"},{type:"string",name:"degreeId",description:"本科（DEGREE_1）、研究生（DEGREE_2）"},{type:"string",name:"categoryName",description:""},{type:"boolean",name:"defaultAll",description:"默认不根据第一个categoryName筛选"}],middlewares:[],filename:"major_v2",funcname:"getList"},{type:"action",title:"获取详情",name:"get-id-3f7064",description:"",notes:[],route:{method:"GET",path:"/majors/v2/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"major_v2",funcname:"getItem"},{type:"action",title:"翻译专业简介（旧接口，需要切换成翻译模块的翻译接口）",name:"get-translate-field-f003e8",description:"",notes:[],route:{method:"GET",path:"/majors/v2/translate/field"},params:[{type:"number",name:"id",description:""},{type:"number",name:"field",description:""}],middlewares:[],filename:"major_v2",funcname:"translateField"}]},{type:"module",title:"智能选校",name:"school-match-select-9adf9e",path:"",description:"",middlewares:[],notes:[],filename:"match_school",actions:[{type:"action",title:"测试次数",name:"get-match-school-test-count-643502",description:"",notes:[],route:{method:"GET",path:"/match_school/test_count"},params:[],middlewares:[],filename:"match_school",funcname:"testCount"},{type:"action",title:"获得选项数据",name:"get-match-school-options-8123d1",description:"",notes:[],route:{method:"GET",path:"/match_school/options"},params:[],middlewares:[],filename:"match_school",funcname:"getOptions"},{type:"action",title:"添加选校",name:"post-match-school-6cb3c3",description:"",notes:["批量增加（一键添加）请求示例\n```\ndata: JSON.stringify([{degreeId:1,schoolId:2047,matchTypeId:'MS_MATCH_TYPE_TOP'},...])\nsource: 'auto-match'\n```"],route:{method:"POST",path:"/match_school"},params:[{type:"number",name:"schoolId",description:"必传"},{type:"string",name:"degreeId",description:""},{type:"string",name:"matchTypeId",description:"必传"},{type:"number",name:"prob",description:""},{type:"array",name:"data",description:"批量添加的时候用的参数 `[{degreeId!, schoolId!, matchTypeId!, prob?}]` (!必传，?可选)"},{type:"string",name:"source",description:"必传，'auto-match' (智能选校) | 'manual-select' (手动添加)"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"match_school",funcname:"addMatchSchool"},{type:"action",title:"",name:"delete-match-school-schoolId-fba91a",description:"",notes:[],route:{method:"DELETE",path:"/match_school/:schoolId"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"removeMatchSchool"},{type:"action",title:"查看我的选校信息",name:"get-match-school-list-643d04",description:"",notes:[],route:{method:"GET",path:"/match_school/list"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"getMatchSchoolList"},{type:"action",title:"查看用户的选校信息",name:"get-user-userId-watch-schools-39a5f3",description:"",notes:[],route:{method:"GET",path:"/user/:userId/watch/schools"},params:[{type:"number",name:"userId",description:""}],middlewares:[],filename:"match_school",funcname:"getUserWatchSchoolList"},{type:"action",title:"查看用户的选校信息",name:"get-user-userId-watch-data-e66b45",description:"",notes:[],route:{method:"GET",path:"/user/:userId/watch/data"},params:[{type:"number",name:"userId",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"getUserWatchData"},{type:"action",title:"对用户的选校点赞",name:"post-user-userId-watch-like-4fd07d",description:"",notes:[],route:{method:"POST",path:"/user/:userId/watch/like"},params:[{type:"number",name:"userId",description:"选校的那个用户"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"match_school",funcname:"likeUserWatch"},{type:"action",title:"查看对用户的选校的评论",name:"get-user-userId-watch-comments-def3ad",description:"",notes:[],route:{method:"GET",path:"/user/:userId/watch/comments"},params:[{type:"number",name:"userId",description:"选校的那个用户"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"getUserWatchComments"},{type:"action",title:"发表对用户的选校的评论",name:"post-user-userId-watch-comment-ce61bf",description:"",notes:[],route:{method:"POST",path:"/user/:userId/watch/comment"},params:[{type:"number",name:"userId",description:"选校的那个用户"},{type:"number",name:"toUserId",description:""},{type:"context",name:"content",description:""}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"match_school",funcname:"postUserWatchComment"},{type:"action",title:"设置自己的选校列表是否对别人可见",name:"put-user-info-watch-visibility-eaee06",description:"",notes:[],route:{method:"PUT",path:"/user/info/watch/visibility"},params:[{type:"number",name:"userId",description:""},{type:"boolean",name:"visible",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"setVisibility"},{type:"action",title:"获得某学校的选校数据",name:"get-school-id-watchers-stat-376899",description:"",notes:[],route:{method:"GET",path:"/school/:id/watchers/stat"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"getSchoolWatcherStat"},{type:"action",title:"获得学校相关学生数据",name:"get-school-id-watchers-b3d214",description:"",notes:[],route:{method:"GET",path:"/school/:id/watchers"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"getWatchers"},{type:"action",title:"提交智能选校表单",name:"post-match-school-submit-801197",description:"",notes:["国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/match_school/submit"},params:[{type:"string",name:"countryId",description:""},{type:"string",name:"localRankLimit",description:""},{type:"string",name:"cityType",description:"仅当国家为美国时生效，值: downtown, uptown"},{type:"string",name:"seasonType",description:"仅当国家为美国时生效，值: weak, strong"},{type:"string",name:"degreeId",description:""},{type:"string",name:"majorDirectionId",description:""},{type:"string",name:"gpa",description:""},{type:"string",name:"scoreToefl",description:""},{type:"string",name:"scoreIelts",description:""},{type:"string",name:"scoreSat",description:""},{type:"string",name:"scoreAct",description:""},{type:"string",name:"scoreGre",description:""},{type:"string",name:"scoreGmat",description:""},{type:"string",name:"name",description:"注册新用户填写的昵称（默认是打码的手机号）"},{type:"string",name:"phone",description:"注册新用户填写的手机号"},{type:"string",name:"countryCode",description:"注册所需参数，默认86"},{type:"string",name:"captcha",description:"注册新用户填写的手机验证码"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册新用户填写的上下文信息"},{type:"string",name:"sourceAction",description:"注册新用户填写的上下文信息"},{type:"string",name:"referer",description:"注册新用户填写的上下文信息"},{type:"function",name:"getSchools",description:"自定义getSchools方法（schoolIds => schools）"}],middlewares:[{name:"singlepass",args:""}],filename:"match_school",funcname:"submitMatchSchool"},{type:"action",title:"发送百度熊掌号推送",name:"post-match-school-baiduxz-message-8c0f74",description:"",notes:[],route:{method:"POST",path:"/match_school/baiduxz/message"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"sendBaiduxzMessage"},{type:"action",title:"匹配学校",name:"post-match-school-match-7e1918",description:"",notes:[],route:{method:"POST",path:"/match_school/match"},params:[{type:"string",name:"countryId",description:""},{type:"string",name:"localRankLimit",description:""},{type:"string",name:"cityType",description:"仅当国家为美国时生效，值: downtown, uptown"},{type:"string",name:"seasonType",description:"仅当国家为美国时生效，值: weak, strong"},{type:"string",name:"degreeId",description:""},{type:"string",name:"majorDirectionId",description:""},{type:"string",name:"gpa",description:""},{type:"string",name:"scoreToefl",description:""},{type:"string",name:"scoreIelts",description:""},{type:"string",name:"scoreSat",description:""},{type:"string",name:"scoreAct",description:""},{type:"string",name:"scoreGre",description:""},{type:"string",name:"scoreGmat",description:""},{type:"function",name:"getSchools",description:"自定义getSchools方法（schoolIds => schools）"}],middlewares:[],filename:"match_school",funcname:"matchSchool"},{type:"action",title:"测试学校录取率",name:"post-match-school-test-58cff6",description:"",notes:[],route:{method:"POST",path:"/match_school/test"},params:[{type:"array",name:"schoolIds",description:""},{type:"string",name:"gpa",description:""},{type:"string",name:"scoreToefl",description:""},{type:"string",name:"scoreIelts",description:""},{type:"string",name:"scoreSat",description:""},{type:"string",name:"scoreAct",description:""},{type:"string",name:"scoreGre",description:""},{type:"string",name:"scoreGmat",description:""},{type:"string",name:"degreeId",description:"DEGREE_1|2|3, default: DEGREE_1"},{type:"function",name:"getSchools",description:"自定义getSchools方法（schoolIds => schools）"}],middlewares:[],filename:"match_school",funcname:"testSchool"},{type:"action",title:"获取选校信息",name:"get-match-school-statistics-0db1c7",description:"",notes:[],route:{method:"GET",path:"/match_school_statistics"},params:[],middlewares:[],filename:"match_school",funcname:"getMatchSchoolStatisticsList"},{type:"action",title:"近期使用的用户流",name:"get-match-school-recent-35e7d1",description:"",notes:[],route:{method:"GET",path:"/match_school/recent"},params:[],middlewares:[],filename:"match_school",funcname:"getRecentFlow"},{type:"action",title:"更新我的选校的申请时间",name:"put-match-school-admission-time-d672b3",description:"",notes:[],route:{method:"PUT",path:"/match_school/admission_time"},params:[{type:"number",name:"id",description:"选校的id"},{type:"Date",name:"admissionTime",description:"申请时间"}],middlewares:[{name:"sessioncheck",args:""}],filename:"match_school",funcname:"updateAdmissionTime"}]},{type:"module",title:"MIP专用接口",name:"mip-ea929d",path:"/mip",description:"",middlewares:[],notes:[],filename:"mip",actions:[{type:"action",title:"MIP2授权登录",name:"post-login-d6f506",description:"",notes:[],route:{method:"POST",path:"/mip/login"},params:[{type:"string",name:"type",description:""},{type:"string",name:"sessionId",description:""},{type:"string",name:"code",description:""},{type:"string",name:"redirect_uri",description:""}],middlewares:[],filename:"mip",funcname:"mipLogin"},{type:"action",title:"百度熊掌号签名",name:"get-baiduxz-sign-8c007f",description:"",notes:[],route:{method:"GET",path:"/mip/baiduxz/sign"},params:[{type:"String",name:"url",description:""}],middlewares:[{name:"jsonp",args:""}],filename:"mip",funcname:"baiduxzSign"},{type:"action",title:"获得学校相关的问题列表",name:"get-school-schoolId-questions-0266be",description:"",notes:[],route:{method:"GET",path:"/mip/school/:schoolId/questions"},params:[{type:"number",name:"schoolId",description:""},{type:"number",name:"page",description:""}],middlewares:[{name:"jsonp",args:""}],filename:"mip",funcname:"getSchoolQuestions"},{type:"action",title:"提出问题",name:"get-submit-question-24245d",description:"",notes:[],route:{method:"GET",path:"/mip/submit/question"},params:[{type:"string",name:"content",description:"问题内容"},{type:"number",name:"schoolId",description:"问题相关的学校ID"},{type:"string",name:"name",description:"注册新用户填写的昵称"},{type:"string",name:"phone",description:"注册新用户填写的手机号"},{type:"string",name:"captcha",description:"注册新用户填写的手机验证码"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"targetDegreeId",description:"注册新用户填写的申请项目"},{type:"string",name:"currentGradeId",description:"注册新用户填写的当前年级"},{type:"string",name:"score",description:"注册新用户填写的学习成绩"},{type:"string",name:"source",description:"注册新用户填写的上下文信息"},{type:"string",name:"sourceAction",description:"注册新用户填写的上下文信息"},{type:"string",name:"referer",description:"注册新用户填写的上下文信息"}],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"submitQuestion"},{type:"action",title:"新建录取率",name:"get-submit-admission-rate-2eb963",description:"",notes:[],route:{method:"GET",path:"/mip/submit/admission_rate"},params:[{type:"String",name:"schoolId",description:"学校编号"},{type:"String",name:"projectId",description:"申请项目编号"},{type:"String",name:"gradeId",description:"年级编号"},{type:"String",name:"score",description:"学习成绩"},{type:"String",name:"sat",description:"SAT成绩"},{type:"String",name:"act",description:"act成绩"},{type:"Number",name:"toefl",description:"托福成绩"},{type:"Number",name:"ielts",description:"雅思成绩"},{type:"Number",name:"gre",description:"gre成绩"},{type:"Number",name:"gmat",description:"gmat成绩"},{type:"string",name:"name",description:"注册新用户填写的昵称（默认是打码的手机号）"},{type:"string",name:"phone",description:"注册新用户填写的手机号"},{type:"string",name:"captcha",description:"注册新用户填写的手机验证码"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册新用户填写的上下文信息"},{type:"string",name:"sourceAction",description:"注册新用户填写的上下文信息"},{type:"string",name:"referer",description:"注册新用户填写的上下文信息"},{type:"boolean",name:"baiduxz",description:"如果是百度熊账号授权，这个填true"},{type:"string",name:"accessToken",description:"百度熊掌号授权参数"},{type:"string",name:"openid",description:"百度熊掌号授权参数"}],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"submitAdmissionRate"},{type:"action",title:"提交智能选校表单",name:"get-submit-match-school-df25fd",description:"",notes:[],route:{method:"GET",path:"/mip/submit/match_school"},params:[{type:"string",name:"countryId",description:""},{type:"string",name:"localRankLimit",description:""},{type:"string",name:"cityType",description:"仅当国家为美国时生效，值: downtown, uptown"},{type:"string",name:"seasonType",description:"仅当国家为美国时生效，值: weak, strong"},{type:"string",name:"degreeId",description:""},{type:"string",name:"majorDirectionId",description:""},{type:"string",name:"gpa",description:""},{type:"string",name:"scoreToefl",description:""},{type:"string",name:"scoreIelts",description:""},{type:"string",name:"scoreSat",description:""},{type:"string",name:"scoreAct",description:""},{type:"string",name:"scoreGre",description:""},{type:"string",name:"scoreGmat",description:""},{type:"string",name:"name",description:"注册新用户填写的昵称（默认是打码的手机号）"},{type:"string",name:"phone",description:"注册新用户填写的手机号"},{type:"string",name:"captcha",description:"注册新用户填写的手机验证码"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册新用户填写的上下文信息"},{type:"string",name:"sourceAction",description:"注册新用户填写的上下文信息"},{type:"string",name:"referer",description:"注册新用户填写的上下文信息"}],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"submitMatchSchool"},{type:"action",title:"提交并获取智能留学规划",name:"get-submit-abroad-plan-manual-00864c",description:"",notes:[],route:{method:"GET",path:"/mip/submit/abroad_plan_manual"},params:[{type:"string",name:"targetCountryId",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"abroadYear",description:""},{type:"string",name:"name",description:""},{type:"string",name:"currentGradeId",description:""},{type:"string",name:"currentSchool",description:""},{type:"number",name:"score",description:""},{type:"string",name:"phone",description:"注册所需参数"},{type:"string",name:"captcha",description:"注册所需参数"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"source",description:"注册时额外的上下文（选填）（hmsr）"},{type:"string",name:"from",description:"注册时额外的上下文（选填）"},{type:"string",name:"note",description:"注册时额外的上下文（选填）（用户注册备注）"}],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"submitAbroadPlan"},{type:"action",title:"提交并获取高中智能留学规划",name:"get-submit-abroad-plan-manual-highschool-863264",description:"",notes:[],route:{method:"GET",path:"/mip/submit/abroad_plan_manual/highschool"},params:[{type:"string",name:"targetCountryId",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"abroadYear",description:""},{type:"string",name:"name",description:""},{type:"string",name:"currentGradeId",description:""},{type:"string",name:"currentSchool",description:""},{type:"number",name:"score",description:""},{type:"string",name:"phone",description:"注册所需参数"},{type:"string",name:"captcha",description:"注册所需参数"},{type:"string",name:"nonce",description:""},{type:"string",name:"source",description:"注册时额外的上下文（选填）（hmsr）"},{type:"string",name:"from",description:"注册时额外的上下文（选填）"},{type:"string",name:"note",description:"注册时额外的上下文（选填）（用户注册备注）"}],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"postHighschoolAbroadPlan"},{type:"action",title:"获取图形验证码",name:"get-captcha-image-4eab97",description:"",notes:[],route:{method:"GET",path:"/mip/captcha/image"},params:[],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"getImageCaptcha"},{type:"action",title:"发送手机验证码",name:"get-send-captcha-547fc9",description:"",notes:[],route:{method:"GET",path:"/mip/send/captcha"},params:[{type:"string",name:"phone",description:""},{type:"string",name:"captcha",description:"图形验证码（WEB需要用到）"},{type:"string",name:"nonce",description:""},{type:"string",name:"nonce",description:"如果提供此参数，将以选校帝自己的图形验证码方式验证"}],middlewares:[{name:"jsonp",args:""},{name:"singlepass",args:""}],filename:"mip",funcname:"sendCaptcha"}]},{type:"module",title:"",name:"netdisk-files-08c1ba",path:"/netdisk/files",description:"",middlewares:[],notes:[],filename:"netdisk_file",actions:[{type:"action",title:"获得网盘文件列表",name:"get-list-5c33f4",description:"",notes:[],route:{method:"GET",path:"/netdisk/files/list"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=netdisk-files.list"}],filename:"netdisk_file",funcname:"getList"},{type:"action",title:"获得网盘文件列表",name:"get-global-454770",description:"",notes:[],route:{method:"GET",path:"/netdisk/files/global"},params:[],middlewares:[{name:"admincheck",args:"key=netdisk-files.global"}],filename:"netdisk_file",funcname:"getGlobalList"},{type:"action",title:"新增网盘文件",name:"post-28adb0",description:"",notes:[],route:{method:"POST",path:"/netdisk/files/"},params:[{type:"string",name:"title",description:""},{type:"string",name:"netdiskUrl",description:""},{type:"string",name:"passphrase",description:""},{type:"boolean",name:"isGlobal",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=netdisk-files.create"}],filename:"netdisk_file",funcname:"create"},{type:"action",title:"修改网盘文件",name:"put-id-b3ffde",description:"",notes:[],route:{method:"PUT",path:"/netdisk/files/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"netdiskUrl",description:""},{type:"string",name:"passphrase",description:""},{type:"boolean",name:"isGlobal",description:""}],middlewares:[{name:"admincheck",args:"key=netdisk-files.update"}],filename:"netdisk_file",funcname:"update"},{type:"action",title:"删除网盘文件",name:"delete-id-3b0cf9",description:"",notes:[],route:{method:"DELETE",path:"/netdisk/files/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=netdisk-files.delete"}],filename:"netdisk_file",funcname:"delete"},{type:"action",title:"邮件发送网盘文件下载方式",name:"get-id-sendme-10a789",description:"",notes:[],route:{method:"GET",path:"/netdisk/files/:id/sendme"},params:[{type:"number",name:"id",description:""},{type:"string",name:"email",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"netdisk_file",funcname:"sendEmailAboutFile"}]},{type:"module",title:"",name:"news-840900",path:"",description:"",middlewares:[],notes:[],filename:"news",actions:[{type:"action",title:"创建资讯",name:"post-news-9c2c92",description:"",notes:[],route:{method:"POST",path:"/news"},params:[{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:""},{type:"Upload",name:"coverImage",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<string>",name:"originalTags",description:""},{type:"Array.<number>",name:"netdiskFileIds",description:""},{type:"boolean",name:"enabled",description:""},{type:"Date",name:"scheduleTime",description:""},{type:"string",name:"url",description:""},{type:"string",name:"source",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=news.create"}],filename:"news",funcname:"createNews"},{type:"action",title:"更新资讯",name:"put-news-id-542b2d",description:"",notes:[],route:{method:"PUT",path:"/news/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:""},{type:"Upload",name:"coverImage",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<string>",name:"newTags",description:""},{type:"Array.<number>",name:"netdiskFileIds",description:""},{type:"boolean",name:"enabled",description:""},{type:"Date",name:"scheduleTime",description:""},{type:"string",name:"url",description:""},{type:"boolean",name:"searchable",description:""},{type:"string",name:"source",description:""}],middlewares:[{name:"admincheck",args:"key=news.update"},{name:"singlepass",args:""}],filename:"news",funcname:"updateNews"},{type:"action",title:"取消定时发布时间",name:"delete-news-id-schedule-86330b",description:"",notes:[],route:{method:"DELETE",path:"/news/:id/schedule"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=news.update"},{name:"singlepass",args:""}],filename:"news",funcname:"setScheduleTime"},{type:"action",title:"删除资讯",name:"delete-news-id-b9e7df",description:"",notes:[],route:{method:"DELETE",path:"/news/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=news.delete"},{name:"singlepass",args:""}],filename:"news",funcname:"deleteNews"},{type:"action",title:"恢复资讯",name:"post-news-id-recover-f22244",description:"",notes:[],route:{method:"POST",path:"/news/:id/recover"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=news.recover"},{name:"singlepass",args:""}],filename:"news",funcname:"recoverNews"},{type:"action",title:"查询是否有重复百度收录",name:"get-news-id-searchable-c0e99a",description:"",notes:[],route:{method:"GET",path:"/news/:id/searchable"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=news.check_searchable"}],filename:"news",funcname:"checkSearchable"},{type:"action",title:"查询是否被百度收录",name:"get-news-id-indexed-5a647e",description:"",notes:[],route:{method:"GET",path:"/news/:id/indexed"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"news",funcname:"checkIndexed"},{type:"action",title:"匹配标签",name:"post-news-match-tags-a3335b",description:"",notes:[],route:{method:"POST",path:"/news/match_tags"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=news.match_tags"}],filename:"news",funcname:"matchTags"},{type:"action",title:"匹配标签",name:"post-news-match-tags-a3335b",description:"",notes:[],route:{method:"GET",path:"/news/:id/match_tags"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=news.match_tags"}],filename:"news",funcname:"matchTags"},{type:"action",title:"匹配标签",name:"post-news-match-tags-a3335b",description:"",notes:[],route:{method:"POST",path:"/news/:id/match_tags"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=news.match_tags"}],filename:"news",funcname:"matchTags"},{type:"action",title:"获取资讯来源列表",name:"get-news-sources-8e29fc",description:"",notes:[],route:{method:"GET",path:"/news/sources"},params:[],middlewares:[{name:"admincheck",args:"key=news.sources.list"}],filename:"news",funcname:"getSources"},{type:"action",title:"后台获取资讯列表 (可以包括未发布和已删除的)",name:"get-news-all-ee3d9d",description:"",notes:[],route:{method:"GET",path:"/news/all"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"source",description:""},{type:"boolean",name:"searchable",description:"[客户端不要用]"},{type:"boolean",name:"enabled",description:"[客户端必传true]"},{type:"boolean",name:"deleted",description:"[客户端必传false]"},{type:"boolean",name:"hasCover",description:"是否只要带图片的资讯"},{type:"number",name:"editorId",description:""},{type:"string",name:"order",description:"= hottest|newest|shuffled|static|random|editorial"},{type:"number",name:"schoolId",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<number>",name:"overlapTagIds",description:""},{type:"Array.<number>",name:"ignoreNewsIds",description:""},{type:"Date",name:"minUpdateTime",description:""},{type:"Date",name:"maxUpdateTime",description:""},{type:"boolean",name:"isExport",description:""}],middlewares:[{name:"admincheck",args:"news.list"}],filename:"news",funcname:"getNewsListByAdmin"},{type:"action",title:"获取资讯列表",name:"get-news-2ee041",description:"",notes:[],route:{method:"GET",path:"/news"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"source",description:""},{type:"boolean",name:"searchable",description:"[客户端不要用]"},{type:"boolean",name:"indexed",description:"[客户端不要用]"},{type:"boolean",name:"enabled",description:"[客户端必传true]"},{type:"boolean",name:"deleted",description:"[客户端必传false]"},{type:"boolean",name:"hasCover",description:"是否只要带图片的资讯"},{type:"string",name:"order",description:"= hottest|newest|shuffled|static|random|editorial"},{type:"number",name:"schoolId",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<number>",name:"overlapTagIds",description:""},{type:"Array.<number>",name:"ignoreNewsIds",description:""},{type:"Date",name:"minUpdateTime",description:""},{type:"Date",name:"maxUpdateTime",description:""},{type:"boolean",name:"isExport",description:""},{type:"boolean",name:"simple",description:""}],middlewares:[],filename:"news",funcname:"getNewsList"},{type:"action",title:"获得最热门资讯列表",name:"get-news-hottest-7364a4",description:"",notes:["参数和获取资讯列表一致，会自动覆盖 order 参数为 hottest"],route:{method:"GET",path:"/news/hottest"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"source",description:""},{type:"boolean",name:"searchable",description:""},{type:"boolean",name:"enabled",description:""},{type:"boolean",name:"deleted",description:"(default as false)"},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<number>",name:"overlapTagIds",description:""},{type:"Array.<number>",name:"ignoreNewsIds",description:""}],middlewares:[],filename:"news",funcname:"getHotNewsList"},{type:"action",title:"获取资讯",name:"get-news-id-4ee774",description:"",notes:[],route:{method:"GET",path:"/news/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"news",funcname:"getNews"},{type:"action",title:"获得相关资讯列表",name:"get-news-id-related-f3b2df",description:"",notes:["参数和获取资讯列表一致，会自动重置 tags, overlapTagIds, ignoreNewsIds 参数","逻辑为：和当前资讯有一样的国家标签、有重复的其他标签"],route:{method:"GET",path:"/news/:id/related"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"source",description:""},{type:"boolean",name:"searchable",description:""},{type:"boolean",name:"enabled",description:""},{type:"boolean",name:"deleted",description:"(default as false)"},{type:'("hottest" | "newest" | "shuffled")',name:"order",description:"= hottest|newest|shuffled"},{type:"Array.<number>",name:"tagIds",description:""}],middlewares:[],filename:"news",funcname:"getRelatedNewsList"},{type:"action",title:"获得置顶的资讯",name:"get-news-top-e55126",description:"",notes:[],route:{method:"GET",path:"/news/top"},params:[],middlewares:[],filename:"news",funcname:"getTopNews"},{type:"action",title:"设置资讯置顶",name:"post-news-top-id-7d3333",description:"",notes:[],route:{method:"POST",path:"/news/top/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=news.set-top"},{name:"singlepass",args:""}],filename:"news",funcname:"setTopNews"},{type:"action",title:"取消资讯置顶",name:"delete-news-top-id-dffe58",description:"",notes:[],route:{method:"DELETE",path:"/news/top/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=news.set-top"},{name:"singlepass",args:""}],filename:"news",funcname:"unsetTopNews"},{type:"action",title:"获取资讯违禁词",name:"get-news-forbidden-words-c69964",description:"",notes:[],route:{method:"GET",path:"/news/forbidden_words"},params:[],middlewares:[{name:"admincheck",args:""}],filename:"news",funcname:"getForbiddenWords"},{type:"action",title:"设置资讯违禁词",name:"put-news-forbidden-words-866277",description:"",notes:[],route:{method:"PUT",path:"/news/forbidden_words"},params:[{type:"Array.<string>",name:"words",description:""}],middlewares:[{name:"admincheck",args:""},{name:"singlepass",args:""}],filename:"news",funcname:"setForbiddenWords"},{type:"action",title:"检查监控资讯网站新增的资讯数据,并添加入数据库",name:"post-news-import-ca2ce1",description:"",notes:[],route:{method:"POST",path:"/news/import"},params:[{type:"string",name:"url",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"source",description:""},{type:"string",name:"coverUrl",description:""},{type:"array",name:"tags",description:""}],middlewares:[{name:"admincheck",args:"key=news.import"}],filename:"news",funcname:"importNews"},{type:"action",title:"导出已发布资讯文档",name:"get-news-export-data-4eea65",description:"",notes:[],route:{method:"GET",path:"/news/export_data"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"source",description:""},{type:"string",name:"searchable",description:""},{type:"string",name:"order",description:""},{type:"date",name:"minUpdateTime",description:""},{type:"date",name:"maxUpdateTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.export_data.info"}],filename:"news",funcname:"getExportData"},{type:"action",title:"\b导出已发布资讯文档（下载文件）",name:"get-news-export-data-download-31b04b",description:"",notes:[],route:{method:"GET",path:"/news/export_data/download"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"source",description:""},{type:"string",name:"searchable",description:""},{type:"string",name:"order",description:""},{type:"date",name:"minUpdateTime",description:""},{type:"date",name:"maxUpdateTime",description:""}],middlewares:[],filename:"news",funcname:"getExportDataDownload"}]},{type:"module",title:"资讯标签",name:"news-tag-b59e4e",path:"",description:"",middlewares:[],notes:[],filename:"news_tag",actions:[{type:"action",title:"创建资讯",name:"post-news-tag-8fdab1",description:"",notes:[],route:{method:"POST",path:"/news/tag"},params:[{type:"string",name:"name",description:""},{type:"object",name:"data",description:""},{type:"Array.<string>",name:"flags",description:""},{type:"string",name:"type",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=news_tag.create"}],filename:"news_tag",funcname:"createNewsTag"},{type:"action",title:"编辑资讯",name:"put-news-tag-id-2f1eb3",description:"",notes:[],route:{method:"PUT",path:"/news/tag/:id"},params:[{type:"string",name:"name",description:""},{type:"object",name:"data",description:""},{type:"Array.<string>",name:"flags",description:""},{type:"string",name:"type",description:""}],middlewares:[{name:"admincheck",args:"key=news_tag.update"}],filename:"news_tag",funcname:"updateNewsTag"},{type:"action",title:"获取资讯TAG列表",name:"get-news-tags-dbca00",description:"",notes:[],route:{method:"GET",path:"/news/tags"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"all",description:""},{type:"string",name:"type",description:""},{type:"Array.<string>",name:"flags",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"news_tag",funcname:"getNewsTagList"},{type:"action",title:"获取资讯",name:"get-news-tag-id-87fa9a",description:"",notes:[],route:{method:"GET",path:"/news/tag/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"news_tag",funcname:"getNewsTag"}]},{type:"module",title:"资讯模块（v2）",name:"news-v2-fe9b2c",path:"/news/v2",description:"",middlewares:[],notes:[],filename:"news_v2",actions:[{type:"action",title:"获取资讯列表",name:"get-list-088e41",description:"",notes:[],route:{method:"GET",path:"/news/v2/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:"关键字搜索"},{type:"string",name:"categoryId",description:"栏目筛选项"},{type:"string",name:"regionId",description:"国家筛选项"},{type:"number",name:"schoolId",description:"学校筛选项"},{type:"string",name:"order",description:"= hottest|newest|static|random|editorial"},{type:"any",name:"where",description:""}],middlewares:[],filename:"news_v2",funcname:"getNewsList"},{type:"action",title:"获取资讯列表",name:"get-admin-list-7ff734",description:"",notes:[],route:{method:"GET",path:"/news/v2/admin/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:"关键字搜索"},{type:"string",name:"categoryId",description:"栏目筛选项"},{type:"string",name:"regionId",description:"国家筛选项"},{type:"number",name:"schoolId",description:"学校筛选项"},{type:"number",name:"editorId",description:""},{type:"string",name:"order",description:"= hottest|newest|static|random|editorial"},{type:"boolean",name:"indexed",description:""},{type:"boolean",name:"enabled",description:""},{type:"boolean",name:"deleted",description:""},{type:"boolean",name:"isExport",description:""},{type:"Date",name:"minUpdateTime",description:""},{type:"Date",name:"maxUpdateTime",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"news_v2",funcname:"getNewsAdminList"},{type:"action",title:"获得置顶的资讯",name:"get-top-e01a75",description:"",notes:[],route:{method:"GET",path:"/news/v2/top"},params:[],middlewares:[],filename:"news_v2",funcname:"getTopNews"},{type:"action",title:"获得最热门资讯列表",name:"get-hottest-374f9f",description:"",notes:["参数和获取资讯列表一致，会自动覆盖 order 参数为 hottest"],route:{method:"GET",path:"/news/v2/hottest"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:"关键字搜索"},{type:"string",name:"categoryId",description:"栏目筛选项"},{type:"string",name:"regionId",description:"国家筛选项"},{type:"number",name:"schoolId",description:"学校筛选项"}],middlewares:[],filename:"news_v2",funcname:"getHotNewsList"},{type:"action",title:"获得相关资讯列表",name:"get-id-related-b913b6",description:"",notes:[],route:{method:"GET",path:"/news/v2/:id/related"},params:[{type:"number",name:"id",description:""},{type:"number",name:"size",description:""}],middlewares:[],filename:"news_v2",funcname:"getRelatedNewsList"},{type:"action",title:"创建资讯",name:"post-529c7d",description:"",notes:[],route:{method:"POST",path:"/news/v2/"},params:[{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:""},{type:"Upload",name:"coverImage",description:""},{type:"string",name:"categoryId",description:"栏目筛选项"},{type:"string",name:"regionId",description:"国家筛选项"},{type:"Array.<number>",name:"netdiskFileIds",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<string>",name:"newTags",description:""},{type:"boolean",name:"enabled",description:""},{type:"Date",name:"scheduleTime",description:""},{type:"string",name:"keywords",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=news.create"}],filename:"news_v2",funcname:"createNews"},{type:"action",title:"更新资讯",name:"put-id-f1f042",description:"",notes:[],route:{method:"PUT",path:"/news/v2/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:""},{type:"Upload",name:"coverImage",description:""},{type:"string",name:"categoryId",description:"栏目筛选项"},{type:"string",name:"regionId",description:"国家筛选项"},{type:"Array.<number>",name:"netdiskFileIds",description:""},{type:"Array.<number>",name:"tagIds",description:""},{type:"Array.<string>",name:"newTags",description:""},{type:"boolean",name:"enabled",description:""},{type:"Date",name:"scheduleTime",description:""},{type:"string",name:"keywords",description:""}],middlewares:[{name:"admincheck",args:"key=news.update&opt=news.update-pro"},{name:"singlepass",args:""}],filename:"news_v2",funcname:"updateNews"},{type:"action",title:"获取资讯详情",name:"get-id-52e278",description:"",notes:[],route:{method:"GET",path:"/news/v2/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"news_v2",funcname:"getNews"},{type:"action",title:"获取资讯详情",name:"get-id-admin-823c1a",description:"",notes:[],route:{method:"GET",path:"/news/v2/:id/admin"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"news_v2",funcname:"getNewsForAdmin"},{type:"action",title:"批量获取资讯数据（内部接口）",name:"get-bulk-private-01ad39",description:"",notes:[],route:{method:"GET",path:"/news/v2/bulk/private"},params:[{type:"string",name:"ids",description:"1,2,3,4..."}],middlewares:[{name:"privatecheck",args:""}],filename:"news_v2",funcname:"bulkGetNewsPrivate"},{type:"action",title:"批量更新资讯NLP关键字（内部接口）",name:"post-bulk-nlp-private-70e6ce",description:"",notes:[],route:{method:"POST",path:"/news/v2/bulk/nlp/private"},params:[{type:"array",name:"body",description:""}],middlewares:[{name:"privatecheck",args:""}],filename:"news_v2",funcname:"bulkUpdateNewsNLPKeywords"},{type:"action",title:"获取未打上NLP关键词的资讯ID",name:"get-bulk-nlp-todo-private-e7dcc4",description:"",notes:[],route:{method:"GET",path:"/news/v2/bulk/nlp/todo/private"},params:[{type:"string",name:"order",description:"Enum of `asc`, `desc`"},{type:"number",name:"afterId",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"privatecheck",args:""}],filename:"news_v2",funcname:"bulkGetNewsIdWithNoNLPKeywords"},{type:"action",title:"获得筛选项",name:"get-options-9c96df",description:"",notes:[],route:{method:"GET",path:"/news/v2/options"},params:[],middlewares:[],filename:"news_v2",funcname:"getNewsOptions"},{type:"action",title:"获得资讯详情(webView)",name:"get-id-view-d9283a",description:"",notes:[],route:{method:"GET",path:"/news/v2/:id/view"},params:[{type:"number",name:"id",description:"资讯ID"}],middlewares:[],filename:"news_v2",funcname:"getNewsInfo"},{type:"action",title:"发布评论",name:"post-comment-0a15af",description:"",notes:[],route:{method:"POST",path:"/news/v2/comment"},params:[{type:"number",name:"newsId",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"news_v2",funcname:"postComment"},{type:"action",title:"查看资讯评论（不分页）",name:"get-comments-ce0690",description:"",notes:[],route:{method:"GET",path:"/news/v2/comments"},params:[{type:"number",name:"newsId",description:""}],middlewares:[],filename:"news_v2",funcname:"getComments"}]},{type:"module",title:"后台推送模块",name:"notification-9f0b68",path:"/notification",description:"",middlewares:[],notes:[],filename:"notification",actions:[{type:"action",title:"获得推送消息列表",name:"get-list-9f9921",description:"",notes:["默认顺序：按推送时间倒序（未推送的按创建时间倒序）"],route:{method:"GET",path:"/notification/list"},params:[{type:"boolean",name:"success",description:"（客户端不需要传）"},{type:"boolean",name:"notSent",description:"（客户端不需要传）"},{type:"boolean",name:"notMarkRead",description:"（客户端可选）不要标记已读"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"notification",funcname:"list"},{type:"action",title:"获得未读消息数",name:"get-count-unread-5279cd",description:"",notes:[],route:{method:"GET",path:"/notification/count/unread"},params:[],middlewares:[],filename:"notification",funcname:"userNotificationUnreadCount"},{type:"action",title:"新建后台推送消息",name:"post-3de204",description:"",notes:[],route:{method:"POST",path:"/notification/"},params:[{type:"string",name:"targetType",description:"推送类型 `all`, `filter`, `single`"},{type:"string",name:"targetCountryId",description:"意向国家，定向推送，三个参数至少传一个"},{type:"string",name:"targetDegreeId",description:"申请项目，定向推送，三个参数至少传一个"},{type:"number",name:"admissionYear",description:"申请年份，定向推送，三个参数至少传一个"},{type:"string",name:"phone",description:"定点推送必传 多个使用逗号隔开"},{type:"string",name:"type",description:"类型 `text`, `image`, `feed`"},{type:"string",name:"text",description:""},{type:"Upload",name:"image",description:""},{type:"string",name:"link",description:""},{type:"array",name:"iosVersions",description:'iOS要推送的版本，不选iOS则为空列表；参数需要`JSON.stringify(array)`，例如：["1.0.5"]，此外"all"为特殊值，表示所有版本。'},{type:"array",name:"androidVersions",description:'安卓要推送的版本，不选iOS则为空列表；参数需要`JSON.stringify(array)`，例如：["1.0.5"]，此外"all"为特殊值，表示所有版本。'},{type:"Date",name:"scheduleTime",description:"计划推送时间"},{type:"boolean",name:"push",description:"马上推送"},{type:"boolean",name:"iosDevelopment",description:"推送时iOS使用开发证书"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=notification.create"}],filename:"notification",funcname:"create"},{type:"action",title:"编辑后台推送消息",name:"put-id-72cbf3",description:"",notes:[],route:{method:"PUT",path:"/notification/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"targetType",description:"推送类型 `all`, `filter`, `single`"},{type:"string",name:"targetCountryId",description:"意向国家，定向推送，三个参数至少传一个"},{type:"string",name:"targetDegreeId",description:"申请项目，定向推送，三个参数至少传一个"},{type:"number",name:"admissionYear",description:"申请年份，定向推送，三个参数至少传一个"},{type:"string",name:"phone",description:"定点推送必传 多个使用逗号隔开"},{type:"string",name:"type",description:"类型 `text`, `image`, `feed`"},{type:"string",name:"text",description:""},{type:"Upload",name:"image",description:""},{type:"string",name:"link",description:""},{type:"array",name:"iosVersions",description:'iOS要推送的版本，不选iOS则为空列表；参数需要`JSON.stringify(array)`，例如：["1.0.5"]，此外"all"为特殊值，表示所有版本。'},{type:"array",name:"androidVersions",description:'安卓要推送的版本，不选iOS则为空列表；参数需要`JSON.stringify(array)`，例如：["1.0.5"]，此外"all"为特殊值，表示所有版本。'},{type:"Date",name:"scheduleTime",description:"计划推送时间"},{type:"boolean",name:"push",description:"马上推送"},{type:"boolean",name:"iosDevelopment",description:"推送时iOS使用开发证书"}],middlewares:[{name:"admincheck",args:"key=notification.update"}],filename:"notification",funcname:"update"},{type:"action",title:"推送一条消息",name:"post-id-push-a1ffd6",description:"",notes:[],route:{method:"POST",path:"/notification/:id/push"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"iosDevelopment",description:"推送时iOS使用开发证书"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=notification.push"}],filename:"notification",funcname:"push"},{type:"action",title:"推送消息给用户",name:"post-private-d64fae",description:"",notes:["此接口推送的消息会在用户的消息中心出现。\n\n消息的三种类型：\n1. `text`：纯文本类型，需要提供text参数\n2. `image`：纯图片类型，需要提供image参数\n3. `feed`：图文卡片型，需要提供text、image和link参数\n\n⚠️**注意：当提供图片参数时，需要在data中给出imageWidth和imageHeight。**\n\n例如：\n```js\nparams: {\n  tower: '......',\n  userId: 7654321,\n  type: 'feed',\n  pushText: '这是一条测试推送，打开APP查看吧',\n  text: '这就是那条测试推送',\n  image: 'https://media.xuanxiaodi.com/upload/ufile/18/8a/188a5d98237a70d824bc128f7fb7d5df6de09.png',\n  data: { imageWidth: 600, imageHeight: 450 }\n}\n```"],route:{method:"POST",path:"/notification/private"},params:[{type:"string",name:"tower",description:"内部调用凭证"},{type:"string",name:"userId",description:"要推送的用户的智课用户ID（必填）"},{type:"string",name:"type",description:"消息类型 `text`, `image`, `feed`（必填）"},{type:"string",name:"pushText",description:"推送文本（仅用于推送通知，不填则尝试使用text参数，如果都没有填写，则使用默认文案）"},{type:"string",name:"text",description:"消息文本（根据类型可选）"},{type:"string",name:"image",description:"消息图片地址（根据类型可选）"},{type:"string",name:"url",description:"要跳转的页面地址，可以是网页地址也可以是选校帝scheme（可选）"},{type:"object",name:"data",description:"要包含的额外数据（可选，非JSON请求时，用`JSON.stringify`将此参数转为字符串再请求）"}],middlewares:[{name:"privatecheck",args:""}],filename:"notification",funcname:"pushUserNotificationPrivate"}]},{type:"module",title:"接受服务通知",name:"notify-d282c6",path:"/notify",description:"",middlewares:[],notes:[],filename:"notify",actions:[{type:"action",title:"接受美洽离线信息",name:"post-meiqia-959239",description:"",notes:[],route:{method:"POST",path:"/notify/meiqia"},params:[{type:"string",name:"messageId",description:"消息 id"},{type:"string",name:"content",description:"消息内容"},{type:"string",name:"messageTime",description:"发送时间"},{type:"string",name:"fromName",description:"发送人姓名"},{type:"string",name:"deviceToken",description:"发送对象设备的 deviceToken，格式为字符串"},{type:"string",name:"clientId",description:"发送对象的顾客 id"},{type:"string",name:"customizedId",description:"开发者传的自定义 id"},{type:"string",name:"contentType",description:"消息类型 - text/photo/audio"},{type:"string",name:"deviceOS",description:"设备系统"},{type:"string",name:"customizedData",description:"开发者上传的自定义的属性"}],middlewares:[],filename:"notify",funcname:"meiqia"}]},{type:"module",title:"案例信息",name:"offer-info-bfe2e7",path:"/offer",description:"",middlewares:[],notes:[],filename:"offer",actions:[{type:"action",title:"自动补全（APP）",name:"get-search-autoComplete-6731ca",description:"",notes:[],route:{method:"GET",path:"/offer/search/autoComplete"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"size",description:""}],middlewares:[],filename:"offer",funcname:"searchSchoolAutoComplete"},{type:"action",title:"热门关键词（APP）",name:"get-search-keywords-top-bed993",description:"",notes:[],route:{method:"GET",path:"/offer/search/keywords/top"},params:[{type:"number",name:"size",description:""}],middlewares:[],filename:"offer",funcname:"searchProgramTopKeywords"},{type:"action",title:"获取案例列表",name:"get-list-8b6705",description:"",notes:[],route:{method:"GET",path:"/offer/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"targetDegreeId",description:""},{type:"string",name:"targetCountryId",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"schoolKeyword",description:""},{type:"string",name:"majorKeyword",description:""},{type:"number",name:"targetSchoolId",description:""}],middlewares:[],filename:"offer",funcname:"getList"},{type:"action",title:"获取案例详情",name:"get-id-ccbcf5",description:"",notes:[],route:{method:"GET",path:"/offer/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"offer",funcname:"getInfo"}]},{type:"module",title:"运营接口",name:"operation-f0220e",path:"/operation",description:"",middlewares:[],notes:[],filename:"operation",actions:[{type:"action",title:"发送资料邮件",name:"post-mail-material-63392b",description:"",notes:["key\n- `100篇PS国外申请范文`: 100篇PS国外申请范文.zip\n- `推荐信`: 推荐信.zip\n- `个人简历`: 个人简历.zip\n- `个人陈述`: 个人陈述.zip\n- `命题作文`: 命题作文.zip\n- `热门专业优秀文书`: 热门专业优秀文书.zip\n- `优秀录取文书`: 哈佛、斯坦福、加州九校优秀录取文书+招生官点评.zip\n- `通用类别专业学术翻译必备词汇`: 通用类别专业学术翻译必备词汇.rar\n- etc."],route:{method:"POST",path:"/operation/mail/material"},params:[{type:"string",name:"email",description:""},{type:"string",name:"key",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"operation",funcname:"sendMaterialMail"}]},{type:"module",title:"照片管理",name:"photo-e2929f",path:"",description:"",middlewares:[],notes:[],filename:"photo",actions:[{type:"action",title:"获取照片",name:"get-photo-0484e7",description:"",notes:[],route:{method:"GET",path:"/photo"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"photo",funcname:"getPhoto"},{type:"action",title:"获取学校照片列表（不分页）",name:"get-photo-school-list-2e1658",description:"",notes:[],route:{method:"GET",path:"/photo/school/list"},params:[{type:"number",name:"schoolId",description:""}],middlewares:[],filename:"photo",funcname:"getSchoolPhotoList"},{type:"action",title:"获取照片列表",name:"get-photos-7df0b0",description:"",notes:[],route:{method:"GET",path:"/photos"},params:[{type:"string",name:"keyword",description:"关键词"},{type:"number",name:"schoolId",description:"学校编号"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"photo",funcname:"getPhotos"},{type:"action",title:"新建照片",name:"post-photo-cdc52f",description:"",notes:[],route:{method:"POST",path:"/photo"},params:[{type:"number",name:"schoolId",description:""},{type:"Upload",name:"photo",description:""}],middlewares:[{name:"admincheck",args:"key=photo.create"}],filename:"photo",funcname:"postPhoto"},{type:"action",title:"更新照片信息",name:"put-photo-44adbe",description:"",notes:[],route:{method:"PUT",path:"/photo"},params:[{type:"number",name:"id",description:""},{type:"string",name:"type",description:""}],middlewares:[{name:"admincheck",args:"key=photo.update"}],filename:"photo",funcname:"putPhoto"},{type:"action",title:"删除照片",name:"delete-photo-6c6bb1",description:"",notes:[],route:{method:"DELETE",path:"/photo"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=photo.delete"}],filename:"photo",funcname:"deletePhoto"}]},{type:"module",title:"美国研究生项目截止日期查询",name:"program-deadline-usa-76a93b",path:"/program/deadline/usa",description:"",middlewares:[{name:"sessioncheck",args:""}],notes:[],filename:"program_deadline_usa",actions:[{type:"action",title:"自动补全：搜索包括项目的学校（APP）",name:"get-search-schools-autoComplete-1bf281",description:"",notes:[],route:{method:"GET",path:"/program/deadline/usa/search/schools/autoComplete"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"size",description:""}],middlewares:[],filename:"program_deadline_usa",funcname:"searchSchoolAutoComplete"},{type:"action",title:"搜索包括项目的学校（APP）",name:"get-search-schools-f9e6e1",description:"",notes:[],route:{method:"GET",path:"/program/deadline/usa/search/schools"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"program_deadline_usa",funcname:"searchSchool"},{type:"action",title:"自动补全：搜索学校的项目（APP）",name:"get-search-school-programs-autoComplete-6ead47",description:"",notes:[],route:{method:"GET",path:"/program/deadline/usa/search/school/programs/autoComplete"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"size",description:""}],middlewares:[],filename:"program_deadline_usa",funcname:"searchSchoolProgramAutoComplete"},{type:"action",title:"搜索学校的项目（APP）",name:"get-search-school-schoolId-programs-477ef9",description:"",notes:[],route:{method:"GET",path:"/program/deadline/usa/search/school/:schoolId/programs"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"program_deadline_usa",funcname:"searchSchoolProgram"},{type:"action",title:"搜索项目热门关键词（WAP）",name:"get-search-programs-keywords-top-e6dbd8",description:"",notes:[],route:{method:"GET",path:"/program/deadline/usa/search/programs/keywords/top"},params:[{type:"number",name:"size",description:""}],middlewares:[],filename:"program_deadline_usa",funcname:"searchProgramTopKeywords"},{type:"action",title:"搜索项目（WAP）",name:"get-search-programs-8e064e",description:"",notes:[],route:{method:"GET",path:"/program/deadline/usa/search/programs"},params:[{type:"string",name:"keyword",description:""}],middlewares:[],filename:"program_deadline_usa",funcname:"searchProgram"}]},{type:"module",title:"推送设备管理",name:"push-device-6ecfd4",path:"/push/device",description:"",middlewares:[],notes:[],filename:"push_device",actions:[{type:"action",title:"注册设备",name:"put-8f3f99",description:"",notes:["这个接口是可选的。注册设备有两个方式：\n1. 调用此接口，提供需要的参数即可\n2. 请求任意接口时，添加HTTP头`x-xxd-push-reg-id`, 数据为极光推送的RegistrationId"],route:{method:"PUT",path:"/push/device/"},params:[{type:"string",name:"uid",description:"(可选，应用中不需要传)"},{type:"string",name:"regId",description:"极光推送的RegistrationId"},{type:"number",name:"userId",description:"(可选，应用中不需要传)"},{type:"string",name:"version",description:"(可选，应用中不需要传) 如：`1.0.6`"},{type:"string",name:"platform",description:"(可选，应用中不需要传) `ios` or `android`"}],middlewares:[],filename:"push_device",funcname:"register"},{type:"action",title:"获得推送人数预测",name:"get-count-c7b479",description:"",notes:[],route:{method:"GET",path:"/push/device/count"},params:[{type:"array",name:"iosVersions",description:"iOS要推送的版本，不选iOS则为空列表；参数需要`JSON.stringify(array)`"},{type:"array",name:"androidVersions",description:"安卓要推送的版本，不选iOS则为空列表；参数需要`JSON.stringify(array)`"},{type:"string",name:"targetType",description:"推送类型 `all`, `filter`, `single`"},{type:"string",name:"targetCountryId",description:"意向国家，定向推送，三个参数至少传一个"},{type:"string",name:"targetDegreeId",description:"申请项目，定向推送，三个参数至少传一个"},{type:"number",name:"admissionYear",description:"申请年份，定向推送，三个参数至少传一个"},{type:"string",name:"phone",description:"定点推送必传 多个使用逗号隔开"}],middlewares:[{name:"admincheck",args:""}],filename:"push_device",funcname:"count"},{type:"action",title:"获得推送设备的所有版本信息",name:"get-versions-9f4404",description:"",notes:[],route:{method:"GET",path:"/push/device/versions"},params:[],middlewares:[{name:"admincheck",args:""}],filename:"push_device",funcname:"allVersions"}]},{type:"module",title:"问答标签",name:"question-tag-21184b",path:"",description:"",middlewares:[],notes:[],filename:"question_tag",actions:[{type:"action",title:"获得问题（教师）TAG列表",name:"get-questions-tags-5f93f1",description:"",notes:[],route:{method:"GET",path:"/questions/tags"},params:[],middlewares:[],filename:"question_tag",funcname:"getTags"}]},{type:"module",title:"问答管理（新）",name:"question-v2-ff3c5e",path:"/questions/v2",description:"",middlewares:[],notes:[],filename:"question_v2",actions:[{type:"action",title:"获得符合条件的问答个数",name:"get-count-2ac630",description:"",notes:[],route:{method:"GET",path:"/questions/v2/count"},params:[{type:"number",name:"askerId",description:""},{type:"boolean",name:"answered",description:""},{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"isClassic",description:""}],middlewares:[],filename:"question_v2",funcname:"getQuestionsCount"},{type:"action",title:"获得热门问题",name:"get-list-hottest-ea5b1e",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/hottest"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"askerId",description:""},{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"number",name:"minLength",description:"限制列出的问题的最少字数"},{type:"boolean",name:"withAnswers",description:"同时查出答案等信息"},{type:"boolean",name:"isClassic",description:"经典问题，只有true有效"}],middlewares:[],filename:"question_v2",funcname:"getHottestQuestions"},{type:"action",title:"获得随机问题",name:"get-list-random-e6ad64",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/random"},params:[{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"question_v2",funcname:"getRandomQuestions"},{type:"action",title:"获得已回答的问答列表",name:"get-list-answered-1fcc38",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/answered"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"askerId",description:""},{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"withAnswers",description:"同时查出答案等信息"},{type:"boolean",name:"isClassic",description:"经典问题，只有true有效"}],middlewares:[],filename:"question_v2",funcname:"getAnsweredQuestions"},{type:"action",title:"获得未回答的问答列表",name:"get-list-unanswered-4e8341",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/unanswered"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"askerId",description:""},{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"withAnswers",description:"同时查出答案等信息"},{type:"boolean",name:"isClassic",description:"经典问题，只有true有效"}],middlewares:[],filename:"question_v2",funcname:"getUnansweredQuestions"},{type:"action",title:"获得我提出的问题列表",name:"get-list-mine-e4165b",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/mine"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"answered",description:"是否已回答的"},{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"withAnswers",description:"同时查出答案等信息"}],middlewares:[{name:"sessioncheck",args:""}],filename:"question_v2",funcname:"getPersonalQuestions"},{type:"action",title:"获得教师端重点关注的问答列表",name:"get-list-marked-private-a6d7e7",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/marked/private"},params:[{type:"string",name:"tower",description:""},{type:"number",name:"consultantId",description:""},{type:"string",name:"order",description:"hottest | random | default | unanswered-first | last-answered"},{type:"string",name:"targetCountryId",description:"筛选项"},{type:"string",name:"targetDegreeId",description:"筛选项"},{type:"string",name:"location",description:"筛选项"}],middlewares:[{name:"privatecheck",args:""}],filename:"question_v2",funcname:"getMarkedQuestionsForConsultant"},{type:"action",title:"获得推荐问题列表",name:"get-list-recommended-39ed57",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/recommended"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"withFilters",description:"需要筛选项数据"}],middlewares:[{name:"sessioncheck",args:""}],filename:"question_v2",funcname:"getRecommendedQuestions"},{type:"action",title:"获得提问列表的筛选项",name:"get-list-options-93a3f3",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/options"},params:[],middlewares:[],filename:"question_v2",funcname:"getQuestionFilterOptions"},{type:"action",title:"获得问答列表",name:"get-list-00d9a7",description:"",notes:["⚠️注意：\n\n- `order=last-answered` 只有在提供了 `answeredConsultantId` 参数的情况下生效","order的选项值\n\n- default - 最近提出问题优先\n- hottest - 最多查看问题优先\n- random - 随机\n- unanswered-first - 未回答问题优先\n- ~~last-answered~~ - 仅当查看某个教师端用户回答过的问题的时候，此排序生效，以该教师的最后回答时间倒序（已弃用）\n- unread-first - 仅当用户查看自己的问题时生效，优先最近未查看回答的问题，然后是未被回答的问题，然后是已被回答的问题\n- assigned-first - 仅当按某教师身份查看问题列表时生效，优先分配给该教师的问题"],route:{method:"GET",path:"/questions/v2/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"askerId",description:""},{type:"number",name:"answeredConsultantId",description:"筛选某个顾问回答过的问题"},{type:"number",name:"consultantId",description:"不要直接用这个参数"},{type:"boolean",name:"answered",description:"是否已回答的"},{type:"(number | string)",name:"schoolId",description:"支持以逗号分割的多个学校ID"},{type:"string",name:"keyword",description:""},{type:"boolean",name:"withAnswers",description:"同时查出答案等信息"},{type:"boolean",name:"isClassic",description:"经典问题，只有true有效"},{type:"boolean",name:"showHidden",description:"展示隐藏的问题"},{type:"string",name:"order",description:"排序参数"},{type:"string",name:"targetCountryId",description:"筛选项"},{type:"string",name:"targetDegreeId",description:"筛选项"},{type:"string",name:"location",description:"筛选项"},{type:"string",name:"simple",description:""},{type:"boolean",name:"withFilters",description:"需要筛选项数据"}],middlewares:[],filename:"question_v2",funcname:"getQuestions"},{type:"action",title:"获取问答TAGS数据",name:"get-tags-8eebae",description:"",notes:[],route:{method:"GET",path:"/questions/v2/tags"},params:[],middlewares:[],filename:"question_v2",funcname:"getTags"},{type:"action",title:"获得问答详情",name:"get-id-67cbe8",description:"",notes:[],route:{method:"GET",path:"/questions/v2/:id"},params:[{type:"number",name:"id",description:""},{type:"number",name:"blockLimit",description:"Default as 10, maximum value is 1000."},{type:"number",name:"consultantId",description:""},{type:"boolean",name:"skipCount",description:""}],middlewares:[],filename:"question_v2",funcname:"getQuestion"},{type:"action",title:"获得指定的问题",name:"get-list-specific-private-7bc4c8",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/specific/private"},params:[{type:"string",name:"tower",description:""},{type:"string",name:"consultantId",description:""},{type:"number",name:"ids",description:"逗号隔开的id列表"}],middlewares:[{name:"privatecheck",args:""}],filename:"question_v2",funcname:"getSpecificQuestions"},{type:"action",title:"获得相关问题",name:"get-list-related-id-67e490",description:"",notes:[],route:{method:"GET",path:"/questions/v2/list/related/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"question_v2",funcname:"getRelatedQuestions"},{type:"action",title:"获得提问时的参数选项",name:"get-post-options-69550b",description:"",notes:[],route:{method:"GET",path:"/questions/v2/post/options"},params:[],middlewares:[],filename:"question_v2",funcname:"getPostQuestionOptions"},{type:"action",title:"提出问题",name:"post-4dd459",description:"",notes:["国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/questions/v2/"},params:[{type:"string",name:"content",description:"问题内容"},{type:"number",name:"schoolId",description:"问题相关的学校ID"},{type:"string",name:"targetCountryId",description:"意向国家，问题属性"},{type:"string",name:"targetDegreeId",description:"申请项目，问题属性"},{type:"Array.<number>",name:"tagIds",description:"问题TAG，问题属性（2019-01-24 新增）"},{type:"Array.<number>",name:"relatedServiceCategories",description:"相关服务类目（2019-09-18 新增）"},{type:"string",name:"name",description:"昵称（注册新用户填写的）"},{type:"string",name:"phone",description:"手机号（注册新用户填写的）"},{type:"string",name:"countryCode",description:"手机号国家代码（注册新用户填写的）"},{type:"string",name:"captcha",description:"手机验证码（注册新用户填写的）"},{type:"string",name:"nonce",description:""},{type:"string",name:"note",description:""},{type:"string",name:"pid",description:""},{type:"string",name:"currentGradeId",description:"当前年级（注册新用户填写的）"},{type:"string",name:"score",description:"学习成绩（注册新用户填写的）"},{type:"string",name:"source",description:"上下文信息（注册新用户填写的）"},{type:"string",name:"sourceAction",description:"上下文信息（注册新用户填写的）"},{type:"string",name:"referer",description:"上下文信息（注册新用户填写的）"},{type:"Array.<number>",name:"targetRegionIds",description:"用户意向地信息，用户属性（2019-01-24 新增）"},{type:"string",name:"scoreInSchool",description:"在校成绩（百分制），用户属性（2019-01-24 新增）"},{type:"number",name:"scoreToefl",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreIelts",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreToeflJunior",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"string",name:"currentSchoolName",description:"当前就读学校，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreSat",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreAct",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreSsat",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreGre",description:"成绩信息，用户属性（2019-01-24 新增）"},{type:"number",name:"scoreGmat",description:"成绩信息，用户属性（2019-01-24 新增）"}],middlewares:[{name:"singlepass",args:""}],filename:"question_v2",funcname:"postQuestion"},{type:"action",title:"隐藏问题",name:"post-questionId-hidden-173e7b",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/hidden"},params:[{type:"number",name:"questionId",description:""}],middlewares:[{name:"admincheck",args:"key=questionPost.hide"},{name:"singlepass",args:""}],filename:"question_v2",funcname:"hideQuestion"},{type:"action",title:"取消隐藏问题",name:"delete-questionId-hidden-0d283e",description:"",notes:[],route:{method:"DELETE",path:"/questions/v2/:questionId/hidden"},params:[{type:"number",name:"questionId",description:""}],middlewares:[{name:"admincheck",args:"key=questionPost.hide"},{name:"singlepass",args:""}],filename:"question_v2",funcname:"unhideQuestion"},{type:"action",title:"发送提问成功的百度熊掌号推送",name:"post-questionId-baiduxz-message-110a8f",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/baiduxz/message"},params:[{type:"number",name:"questionId",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"question_v2",funcname:"sendBaiduxzMessage"},{type:"action",title:"发送用户信息完善请求（内部接口）",name:"post-questionId-requestInfo-private-ede2ba",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/requestInfo/private"},params:[{type:"number",name:"consultantId",description:""},{type:"number",name:"questionId",description:""},{type:"number",name:"tower",description:"SMART留学系统访问选校帝服务所需凭证"}],middlewares:[{name:"privatecheck",args:""}],filename:"question_v2",funcname:"sendInfoRequest"},{type:"action",title:"用户完成信息完善功能",name:"post-questionId-requestInfo-commentId-info-698c61",description:"",notes:["用户信息部分的参数在这边没有列出来，参考 `PUT /personal/info/v2`"],route:{method:"POST",path:"/questions/v2/:questionId/requestInfo/:commentId/info"},params:[{type:"number",name:"questionId",description:"老师请求信息的那一条问题的ID"},{type:"number",name:"commentId",description:"老师请求信息的那一条回答的ID"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"question_v2",funcname:"completeInfoRequest"},{type:"action",title:"回答问题（内部接口）",name:"post-questionId-answer-private-d7db39",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/answer/private"},params:[{type:"number",name:"consultantId",description:""},{type:"number",name:"questionId",description:""},{type:"string",name:"content",description:""},{type:"Upload",name:"voice",description:""},{type:"number",name:"tower",description:"SMART留学系统访问选校帝服务所需凭证"}],middlewares:[{name:"privatecheck",args:""}],filename:"question_v2",funcname:"postAnswer"},{type:"action",title:"评价回答",name:"post-questionId-answer-answerId-rating-42c031",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/answer/:answerId/rating"},params:[{type:"number",name:"questionId",description:""},{type:"number",name:"answerId",description:""},{type:"string",name:"score",description:"评分 1-5"},{type:"string",name:"comment",description:"评价（可选）"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"question_v2",funcname:"rateAnswer"},{type:"action",title:"设置最佳答案",name:"post-questionId-bestAnswer-answerId-bb916f",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/bestAnswer/:answerId"},params:[{type:"number",name:"questionId",description:""},{type:"number",name:"answerId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"question_v2",funcname:"setBestAnswer"},{type:"action",title:"追问",name:"post-questionId-answer-answerId-sub-question-d3bce9",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/answer/:answerId/sub_question"},params:[{type:"number",name:"questionId",description:""},{type:"number",name:"answerId",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"question_v2",funcname:"postSubQuestion"},{type:"action",title:"获取三十天的问答统计情况",name:"get-stat-794898",description:"",notes:[],route:{method:"GET",path:"/questions/v2/stat"},params:[],middlewares:[{name:"admincheck",args:"key=questionPost.stat"}],filename:"question_v2",funcname:"stat"},{type:"action",title:"获取值班的教师列表",name:"get-consultants-assignable-4aaea2",description:"",notes:[],route:{method:"GET",path:"/questions/v2/consultants/assignable"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"adeptRegion",description:""},{type:"number",name:"adeptDegree",description:""},{type:"number",name:"adeptService",description:""},{type:"string",name:"city",description:""},{type:"string",name:"org",description:""},{type:"string",name:"organizationId",description:""},{type:"boolean",name:"questionAssignable",description:""}],middlewares:[{name:"admincheck",args:"key=questionPost.assign"}],filename:"question_v2",funcname:"getAssignableConsultants"},{type:"action",title:"发送提问问题推送给教师",name:"get-ids-pushed-8c876c",description:"",notes:[],route:{method:"GET",path:"/questions/v2/ids/pushed"},params:[],middlewares:[{name:"admincheck",args:"key=questionPost.push"}],filename:"question_v2",funcname:"getPushedQuestionIds"},{type:"action",title:"查询教师的追问数量",name:"get-count-subQuestions-private-497491",description:"",notes:[],route:{method:"GET",path:"/questions/v2/count/subQuestions/private"},params:[],middlewares:[{name:"privatecheck",args:""}],filename:"question_v2",funcname:"getTotalSubQuestionCountToConsultantPrivate"},{type:"action",title:"发送提问问题推送给教师",name:"post-push-346246",description:"",notes:[],route:{method:"POST",path:"/questions/v2/push"},params:[{type:"number",name:"consultantId",description:""},{type:"number",name:"questionId",description:""},{type:"string",name:"askerName",description:""}],middlewares:[{name:"admincheck",args:"key=questionPost.push"}],filename:"question_v2",funcname:"sendQuestionToConsultant"},{type:"action",title:"获得教师问答排名数据",name:"get-consultant-ranking-data-period-private-69766b",description:"",notes:[],route:{method:"GET",path:"/questions/v2/consultant/ranking/data/:period/private"},params:[{type:"string",name:"tower",description:""},{type:"string",name:"period",description:"= weekly|monthly"}],middlewares:[{name:"privatecheck",args:""}],filename:"question_v2",funcname:"getConsultantRankingData"},{type:"action",title:"查询一段时间内提问国家比例",name:"get-distr-targetCountry-3acbfa",description:"",notes:[],route:{method:"GET",path:"/questions/v2/distr/targetCountry"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=questionPost.stat"}],filename:"question_v2",funcname:"getTargetCountryDistr"},{type:"action",title:"获得教师回答问题的统计数据",name:"get-consultant-assigned-stat-b0a736",description:"",notes:[],route:{method:"GET",path:"/questions/v2/consultant/assigned/stat"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""},{type:"number",name:"organizationId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=questionPost.stat"}],filename:"question_v2",funcname:"getConsultantsAnswerStat"},{type:"action",title:"忽略追问接口",name:"post-questionId-answer-answerId-sub-question-ignore-dd88fc",description:"",notes:[],route:{method:"POST",path:"/questions/v2/:questionId/answer/:answerId/sub_question/ignore"},params:[{type:"number",name:"questionId",description:""},{type:"number",name:"answerId",description:""},{type:"number",name:"subQuestionId",description:""}],middlewares:[{name:"session3rd",args:""},{name:"sessioncheck3rd",args:""}],filename:"question_v2",funcname:"ignoreSubQuestion"}]},{type:"module",title:"学校排名条目",name:"rank-b3fd0f",path:"",description:"",middlewares:[],notes:[],filename:"rank",actions:[{type:"action",title:"获取排名",name:"get-rank-237f1a",description:"",notes:[],route:{method:"GET",path:"/rank"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"rank",funcname:"getRank"},{type:"action",title:"获取排名列表",name:"get-ranks-6a8fbf",description:"",notes:[],route:{method:"GET",path:"/ranks"},params:[{type:"number",name:"categoryId",description:"排名目录编号"},{type:"string",name:"countryId",description:"学校按国家筛选（仅当获取世界排名时有效）"},{type:"string",name:"keyword",description:"学校名称搜索"},{type:"boolean",name:"dontCount",description:"不做访问记录"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"rank",funcname:"getRanks"},{type:"action",title:"新建排名",name:"post-rank-438526",description:"",notes:[],route:{method:"POST",path:"/rank"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=rank.create"}],filename:"rank",funcname:"postRank"},{type:"action",title:"更新排名",name:"put-rank-f5bc32",description:"",notes:[],route:{method:"PUT",path:"/rank"},params:[],middlewares:[{name:"admincheck",args:"key=rank.update"}],filename:"rank",funcname:"putRank"},{type:"action",title:"删除排名",name:"delete-rank-5bfae5",description:"",notes:[],route:{method:"DELETE",path:"/rank"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=rank.delete"}],filename:"rank",funcname:"deleteRank"}]},{type:"module",title:"学校排名类别",name:"rank-category-265795",path:"",description:"",middlewares:[],notes:[],filename:"rank_category",actions:[{type:"action",title:"获取小程序排名目录",name:"get-rank-categories-weapp-3b9379",description:"",notes:[],route:{method:"GET",path:"/rank/categories/weapp"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"rank_category",funcname:"getRankCategoryWeapp"},{type:"action",title:"获取全球专业排名列表",name:"get-rank-categories-major-global-dab543",description:"",notes:[],route:{method:"GET",path:"/rank/categories/major/global"},params:[{type:"object",name:"keyword",description:""}],middlewares:[],filename:"rank_category",funcname:"getGlobalMajorRankCategories"},{type:"action",title:"获取美国本科专业排名列表",name:"get-rank-categories-major-us-undergraduate-237a02",description:"",notes:[],route:{method:"GET",path:"/rank/categories/major/us/undergraduate"},params:[{type:"object",name:"keyword",description:""}],middlewares:[],filename:"rank_category",funcname:"getUSUndergraduateMajorRankCategories"},{type:"action",title:"获取美国研究生专业排名列表",name:"get-rank-categories-major-us-graduate-40dd75",description:"",notes:[],route:{method:"GET",path:"/rank/categories/major/us/graduate"},params:[{type:"object",name:"keyword",description:""}],middlewares:[],filename:"rank_category",funcname:"getUSGraduateMajorRankCategories"},{type:"action",title:"获取排名大全",name:"get-rank-categories-index-bdca72",description:"",notes:[],route:{method:"GET",path:"/rank/categories/index"},params:[{type:"boolean",name:"refresh",description:""},{type:"number",name:"version",description:"(appVersion >= '2.0.0' ? 2 : 1)"}],middlewares:[],filename:"rank_category",funcname:"getRankCategoryIndex"},{type:"action",title:"获取排名大全（WEB）",name:"get-rank-categories-web-index-1bfef3",description:"",notes:[],route:{method:"GET",path:"/rank/categories/web/index"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"rank_category",funcname:"getRankCategoryWebIndex"},{type:"action",title:"获取排名大全（WEB）version 3",name:"get-rank-categories-index-v3-a2b361",description:"",notes:[],route:{method:"GET",path:"/rank/categories/index/v3"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"rank_category",funcname:"getRankCategoryWebIndexV3"},{type:"action",title:"获取排名目录",name:"get-rank-category-cc4bf7",description:"",notes:[],route:{method:"GET",path:"/rank/category"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"rank_category",funcname:"getRankCategory"},{type:"action",title:"获取排名目录列表",name:"get-rank-categories-18e67e",description:"",notes:[],route:{method:"GET",path:"/rank/categories"},params:[{type:"string",name:"type",description:"类型"},{type:"number",name:"year",description:"年份"},{type:"string",name:"title",description:"标题"},{type:"string",name:"keyword",description:"关键字"},{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"rank_category",funcname:"getRankCategories"},{type:"action",title:"新建排名目录",name:"post-rank-category-5fe736",description:"",notes:[],route:{method:"POST",path:"/rank/category"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=rank_category.create"}],filename:"rank_category",funcname:"postRankCategory"},{type:"action",title:"更新排名目录",name:"put-rank-category-f103c6",description:"",notes:[],route:{method:"PUT",path:"/rank/category"},params:[],middlewares:[{name:"admincheck",args:"key=rank_category.update"}],filename:"rank_category",funcname:"putRankCategory"},{type:"action",title:"删除排名目录",name:"delete-rank-category-35e73e",description:"",notes:[],route:{method:"DELETE",path:"/rank/category"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=rank_category.delete"}],filename:"rank_category",funcname:"deleteRankCategory"},{type:"action",title:"热门排行榜",name:"get-rank-categories-hottest-f4df3c",description:"",notes:[],route:{method:"GET",path:"/rank/categories/hottest"},params:[{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"top3",description:"只获得top3（分为全球，美国，英国）"},{type:"boolean",name:"top5",description:"只获得top5（分为全球，美国，英国，加拿大，澳大利亚）"}],middlewares:[],filename:"rank_category",funcname:"getHottest"},{type:"action",title:"排名机构",name:"get-rank-category-orgs-5aefc1",description:"",notes:[],route:{method:"GET",path:"/rank/category/orgs"},params:[],middlewares:[],filename:"rank_category",funcname:"getRankOrgs"},{type:"action",title:"获取推荐的排行榜",name:"get-rank-categories-recommended-f50161",description:"会根据意向国家和申请项目区分推荐",notes:[],route:{method:"GET",path:"/rank/categories/recommended"},params:[{type:"string",name:"targetCountryId",description:""},{type:"string",name:"targetDegreeId",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"rank_category",funcname:"getRecommended"}]},{type:"module",title:"管理员角色管理",name:"admin-role-eec157",path:"",description:"",middlewares:[],notes:[],filename:"role",actions:[{type:"action",title:"获取角色",name:"get-roles-e57749",description:"",notes:[],route:{method:"GET",path:"/roles"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"for",description:"'select', null"}],middlewares:[{name:"admincheck",args:"key=role.list"}],filename:"role",funcname:"getRoles"},{type:"action",title:"获取角色",name:"get-role-id-e48b1f",description:"",notes:[],route:{method:"GET",path:"/role/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=role.get"}],filename:"role",funcname:"getRole"},{type:"action",title:"启用／禁用角色",name:"put-role-id-active-302b40",description:"",notes:[],route:{method:"PUT",path:"/role/:id/active"},params:[{type:"number",name:"id",description:"角色编号"},{type:'("on" | "off")',name:"setto",description:""}],middlewares:[{name:"admincheck",args:"key=role.active"}],filename:"role",funcname:"activateRole"},{type:"action",title:"创建角色",name:"post-role-66491c",description:"",notes:[],route:{method:"POST",path:"/role"},params:[{type:"string",name:"name",description:""},{type:"string",name:"description",description:""},{type:'("on" | "off")',name:"setto",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=role.create"}],filename:"role",funcname:"createRole"},{type:"action",title:"更新角色",name:"post-role-id-d9a4f5",description:"",notes:[],route:{method:"POST",path:"/role/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"description",description:""},{type:'("on" | "off")',name:"setto",description:""}],middlewares:[{name:"admincheck",args:"key=role.update"}],filename:"role",funcname:"updateRole"},{type:"action",title:"获得角色权限",name:"get-role-id-permission-4dbb8e",description:"",notes:[],route:{method:"GET",path:"/role/:id/permission"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=role.permission.get"}],filename:"role",funcname:"getPermission"},{type:"action",title:"更新角色权限",name:"post-role-id-permission-5a829f",description:"",notes:[],route:{method:"POST",path:"/role/:id/permission"},params:[{type:"number",name:"id",description:""},{type:"map",name:"permission",description:""}],middlewares:[{name:"admincheck",args:"key=role.permission.update"}],filename:"role",funcname:"updatePermission"}]},{type:"module",title:"学校",name:"school-374322",path:"",description:"",middlewares:[],notes:[],filename:"school",actions:[{type:"action",title:"获取学校",name:"get-school-91cde4",description:"",notes:[],route:{method:"GET",path:"/school"},params:[{type:"number",name:"id",description:"编号"},{type:"boolean",name:"refresh",description:""},{type:"boolean",name:"thirdparty",description:""}],middlewares:[],filename:"school",funcname:"getSchool"},{type:"action",title:"获取学校新生手册",name:"get-school-id-manual-42d82f",description:"",notes:[],route:{method:"GET",path:"/school/:id/manual"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"school",funcname:"getManual"},{type:"action",title:"获取学校列表",name:"get-schools-b98326",description:"数值范围类型 String(Range)\n  可用值：\n  - 不需要：'null'，例如 `?scoreToefl=null` 代表不需要托福成绩\n  - 准确值：[number]，例如：`?localRank=10` 代表国内排名为10\n  - 小于等于：,[number]，例如 `?scoreIelts=,8` 代表雅思成绩在8以下\n  - 大于等于：[number],，例如 `?gpa=3.5,` 代表GPA在3.5以上\n  - 闭区间：[number],[number]，例如 `?scoreSat=1501,1800` 代表SAT成绩在1501和1800之间",notes:[],route:{method:"GET",path:"/schools"},params:[{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:'("default" | "hottest" | "mostSelected")',name:"order",description:"default|hottest|mostSelected|asc"},{type:"boolean",name:"withOrderRank",description:"附带上排序名次（仅当 order为'hottest'或'mostSelected'时有效，返回的数据中会附带`rankOrder`字段，表示该学校在当前排序下的名次。"},{type:"boolean",name:"simple",description:"不处理排名和选校数据"},{type:"string",name:"countryId",description:""},{type:"string",name:"cityId",description:""},{type:"string",name:"directionId",description:""},{type:"Date",name:"createdAfter",description:"按新创建的学校筛选"},{type:"string",name:"worldRank",description:"世界排名（数值范围类型）"},{type:"string",name:"localRank",description:"国内排名（数值范围类型）"},{type:"number",name:"localRankNear",description:"国内排名接近（优先级低于localRank）"},{type:"number",name:"worldRankNear",description:"世界排名接近（优先级低于worldRank）"},{type:"string",name:"scoreToefl",description:"（数值范围类型）"},{type:"string",name:"scoreIelts",description:"（数值范围类型）"},{type:"string",name:"scoreGre",description:"（数值范围类型）"},{type:"string",name:"scoreGmat",description:"（数值范围类型）"},{type:"string",name:"scoreSat",description:"（数值范围类型）"},{type:"string",name:"scoreSat2",description:"（数值范围类型）"},{type:"string",name:"scoreAct",description:"（数值范围类型）"},{type:"string",name:"gpa",description:"（数值范围类型）"},{type:"string",name:"feeTotal",description:"总费用（美元） （数值范围类型）"},{type:"string",name:"keyword",description:"关键字"},{type:"Array.<number>",name:"ids",description:"指定学校id，传递Array或者JSON.stringify过的Array"},{type:"boolean",name:"admissionRateTestAvailable",description:"仅获取可用于录取率测试的学校"},{type:"boolean",name:"needAdminOptions",description:""},{type:"boolean",name:"needCountryOptions",description:""}],middlewares:[],filename:"school",funcname:"getSchools"},{type:"action",title:"新建学校",name:"post-school-f85327",description:"",notes:[],route:{method:"POST",path:"/school"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=school.create"}],filename:"school",funcname:"postSchool"},{type:"action",title:"更新学校",name:"put-school-fe460e",description:"",notes:[],route:{method:"PUT",path:"/school"},params:[{type:"number",name:"id",description:"学校编号"},{type:"string",name:"chineseName",description:""},{type:"string",name:"englishName",description:""},{type:"string",name:"countryId",description:""},{type:"string",name:"provinceId",description:""},{type:"string",name:"cityId",description:""},{type:"string",name:"motto",description:""},{type:"number",name:"establishmentYear",description:""},{type:"string",name:"area",description:""},{type:"string",name:"typeId",description:""},{type:"string",name:"group",description:""},{type:"string",name:"website",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"textIntroduction",description:""},{type:"string",name:"address",description:""},{type:"Upload",name:"logo",description:""},{type:"Upload",name:"manual",description:""},{type:"Array.<string>",name:"hotMajors",description:""},{type:"string",name:"coverUrl",description:""}],middlewares:[{name:"admincheck",args:"key=school.update"}],filename:"school",funcname:"putSchool"},{type:"action",title:"更新学校附加信息",name:"put-school-extra-info-51fe2e",description:"",notes:[],route:{method:"PUT",path:"/school/extra/info"},params:[{type:"number",name:"id",description:"学校编号"}],middlewares:[{name:"admincheck",args:"key=school.updateExtraInfo"}],filename:"school",funcname:"putSchoolExtraInfo"},{type:"action",title:"获取学校艺术申请信息（SIA提供）",name:"get-school-id-sia-info-ef437e",description:"",notes:[],route:{method:"GET",path:"/school/:id/sia_info"},params:[{type:"number",name:"id",description:"学校ID"},{type:"boolean",name:"withConsultants",description:""},{type:"boolean",name:"thirdparty",description:""}],middlewares:[],filename:"school",funcname:"getSiaInfo"},{type:"action",title:"删除学校",name:"delete-school-e28e7f",description:"",notes:[],route:{method:"DELETE",path:"/school"},params:[{type:"number",name:"id",description:"模板编号"}],middlewares:[{name:"admincheck",args:"key=school.delete"}],filename:"school",funcname:"deleteSchool"},{type:"action",title:"在文本中匹配学校",name:"post-school-textmatch-be9eab",description:"",notes:[],route:{method:"POST",path:"/school/textmatch"},params:[{type:"string",name:"text",description:""}],middlewares:[],filename:"school",funcname:"matchByText"},{type:"action",title:"添加学校别名",name:"put-school-id-alias-alias-0ac49c",description:"",notes:[],route:{method:"PUT",path:"/school/:id/alias/:alias"},params:[{type:"number",name:"id",description:""},{type:"string",name:"alias",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"school",funcname:"addAlias"},{type:"action",title:"去除学校别名",name:"delete-school-id-alias-alias-dce7f0",description:"",notes:[],route:{method:"DELETE",path:"/school/:id/alias/:alias"},params:[{type:"number",name:"id",description:""},{type:"string",name:"alias",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"school",funcname:"deleteAlias"},{type:"action",title:"设置学校别名（覆盖设置）",name:"post-school-id-aliases-f7f9b1",description:"",notes:[],route:{method:"POST",path:"/school/:id/aliases"},params:[{type:"number",name:"id",description:""},{type:"string",name:"aliases",description:"别名列表，用空行`\\n`隔开"}],middlewares:[{name:"admincheck",args:""}],filename:"school",funcname:"setAliases"},{type:"action",title:"清空学校别名",name:"delete-school-id-aliases-8fd17c",description:"",notes:[],route:{method:"DELETE",path:"/school/:id/aliases"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"school",funcname:"clearAliases"},{type:"action",title:"获取同城学校信息",name:"get-school-id-city-schools-649769",description:"",notes:[],route:{method:"GET",path:"/school/:id/city/schools"},params:[{type:"number",name:"id",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"school",funcname:"getSchoolsInSameCity"},{type:"action",title:"获取院校首页的热门学校",name:"get-school-index-hottest-7874ae",description:"",notes:[],route:{method:"GET",path:"/school/index/hottest"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"school",funcname:"getIndexHotSchools"},{type:"action",title:"获取美英加澳的热门学校",name:"get-schools-hottest-big4-9c7a98",description:"",notes:[],route:{method:"GET",path:"/schools/hottest/big4"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"school",funcname:"getBig4CountriesHotSchools"},{type:"action",title:"获取相关学校信息",name:"get-school-id-related-schools-64eba9",description:"",notes:[],route:{method:"GET",path:"/school/:id/related/schools"},params:[{type:"number",name:"id",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"school",funcname:"getRelatedSchools"},{type:"action",title:"获得最近访问的院校",name:"get-schools-viewed-f9be98",description:"",notes:[],route:{method:"GET",path:"/schools/viewed"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"school",funcname:"getRecentViewedSchools"},{type:"action",title:"获取学校表格数据",name:"get-school-sheets-1dd51b",description:"",notes:['Sheets的格式\n```json\n{\n  "name": string,\n  "data": string[][],\n}[]\n```'],route:{method:"GET",path:"/school/sheets"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=school.sheets.get"},{name:"queue",args:"key=school.sheets.get"}],filename:"school",funcname:"getSheetData"},{type:"action",title:"对比学校表格数据",name:"post-school-sheets-compare-b168ac",description:"",notes:['Sheets的格式\n```json\n{\n  "name": string,\n  "data": string[][],\n}[]\n```'],route:{method:"POST",path:"/school/sheets/compare"},params:[{type:"type",name:"id",description:""},{type:"json",name:"sheets",description:""}],middlewares:[{name:"admincheck",args:"key=school.sheets.overwrite"},{name:"queue",args:"key=school.sheets.overwrite"}],filename:"school",funcname:"compareSheetData"},{type:"action",title:"使用学校表格数据覆盖现有数据",name:"post-school-sheets-overwrite-0ef144",description:"",notes:['Sheets的格式\n```json\n{\n  "name": string,\n  "data": string[][],\n}[]\n```'],route:{method:"POST",path:"/school/sheets/overwrite"},params:[{type:"type",name:"id",description:""},{type:"json",name:"sheets",description:""},{type:"json",name:"hash",description:"对比时给的hash值"}],middlewares:[{name:"admincheck",args:"key=school.sheets.overwrite"},{name:"queue",args:"key=school.sheets.overwrite"}],filename:"school",funcname:"overwriteBySheetData"},{type:"action",title:"获得各国学制",name:"get-school-systems-8f858d",description:"",notes:[],route:{method:"GET",path:"/school/systems"},params:[],middlewares:[],filename:"school",funcname:"getSchoolSystem"},{type:"action",title:"获得分组列表",name:"get-school-groups-list-31f7ce",description:"",notes:[],route:{method:"GET",path:"/school/groups/list"},params:[],middlewares:[],filename:"school",funcname:"getSchoolGroupList"},{type:"action",title:"获得分组详情",name:"get-school-groups-id-a48a51",description:"",notes:[],route:{method:"GET",path:"/school/groups/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"school",funcname:"getSchoolGroupById"},{type:"action",title:"获取学校可用的国家列表",name:"get-schools-countries-available-b823a0",description:"",notes:[],route:{method:"GET",path:"/schools/countries/available"},params:[],middlewares:[],filename:"school",funcname:"getAvailableCountriesForSchool"},{type:"action",title:"学校搜索选择框数据源",name:"get-select-schools-a3d5c8",description:"",notes:[],route:{method:"GET",path:"/select/schools"},params:[{type:"string",name:"keyword",description:""},{type:"Array.<number>",name:"ids",description:""},{type:"string",name:"pageSize",description:""}],middlewares:[],filename:"school",funcname:"getSchoolsForSelect"}]},{type:"module",title:"艺术院校",name:"school_arts-22725b",path:"/school/arts",description:"",middlewares:[],notes:[],filename:"school_arts",actions:[{type:"action",title:"获取艺术院校列表",name:"get-6c1728",description:"",notes:[],route:{method:"GET",path:"/school/arts/"},params:[{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""},{type:"string",name:"order",description:"default|hottest 排序"},{type:"string",name:"countryId",description:""},{type:"number",name:"majorId",description:""},{type:"string",name:"keyword",description:"搜索学校名称"},{type:"string",name:"difficultyLevel",description:"申请难度 EASY|NORMAL|HARD"}],middlewares:[],filename:"school_arts",funcname:"getArtsSchools"},{type:"action",title:"获取艺术院校详情",name:"get-id-242b05",description:"",notes:[],route:{method:"GET",path:"/school/arts/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"school_arts",funcname:"getArtsSchool"}]},{type:"module",title:"精准院校库匹配",name:"school-pro-info-57cca6",path:"/school-pro",description:"",middlewares:[],notes:[],filename:"school_info_pro",actions:[{type:"action",title:"获取简单信息学校列表",name:"get-list-62746f",description:"",notes:[],route:{method:"GET",path:"/school-pro/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:"搜索的关键字"}],middlewares:[],filename:"school_info_pro",funcname:"getSchoolProBasisInfos"},{type:"action",title:"获取指定学校详细内容信息",name:"get-id-09f424",description:"",notes:[],route:{method:"GET",path:"/school-pro/:id"},params:[{type:"number",name:"id",description:"学校id"}],middlewares:[],filename:"school_info_pro",funcname:"getSchoolProFullInfo"},{type:"action",title:"获取指定学校简单内容信息",name:"get-id-basis-dc2697",description:"",notes:[],route:{method:"GET",path:"/school-pro/:id/basis"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"school_info_pro",funcname:"getSchoolProBasisInfo"},{type:"action",title:"修改指定学校详细内容信息",name:"put-id-extra-45cbf4",description:"",notes:[],route:{method:"PUT",path:"/school-pro/:id/extra"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[{name:"admincheck",args:"key=school-pro"}],filename:"school_info_pro",funcname:"putSchoolProExtraInfo"},{type:"action",title:"修改学校简单内容信息",name:"put-id-basis-406068",description:"",notes:[],route:{method:"PUT",path:"/school-pro/:id/basis"},params:[{type:"number",name:"id",description:"编号"},{type:"string",name:"chineseName",description:"中文校名"},{type:"string",name:"englishName",description:"英文校名"},{type:"string",name:"motto",description:"校训"},{type:"string",name:"usnewsRank",description:"usnews排名"},{type:"string",name:"area",description:"学校大小"},{type:"string",name:"countryId",description:"国家编号"},{type:"string",name:"provinceId",description:"省份编号"},{type:"string",name:"cityId",description:"城市编号"},{type:"Upload",name:"logo",description:"图片路径"}],middlewares:[{name:"admincheck",args:"key=school-pro"}],filename:"school_info_pro",funcname:"putSchoolProBasisInfo"},{type:"action",title:"提交学校简单内容信息",name:"post-b4091f",description:"",notes:[],route:{method:"POST",path:"/school-pro/"},params:[{type:"string",name:"chineseName",description:"中文校名"},{type:"string",name:"englishName",description:"英文校名"},{type:"string",name:"motto",description:"校训"},{type:"string",name:"usnewsRank",description:"usnews排名"},{type:"string",name:"area",description:"学校大小"},{type:"string",name:"countryId",description:"国家编号"},{type:"string",name:"provinceId",description:"省份编号"},{type:"string",name:"cityId",description:"城市编号"},{type:"string",name:"typeId",description:"城市编号   *"},{type:"Upload",name:"logo",description:"图片路径"}],middlewares:[{name:"admincheck",args:"key=school-pro"}],filename:"school_info_pro",funcname:"postSchoolProBasisInfo"}]},{type:"module",title:"学校专业",name:"school_major-4408b5",path:"/school_major",description:"",middlewares:[],notes:[],filename:"school_major",actions:[{type:"action",title:"获得热门专业列表",name:"get-categories-hottest-2b5a6e",description:"",notes:[],route:{method:"GET",path:"/school_major/categories/hottest"},params:[{type:"string",name:"regionId",description:""},{type:"number",name:"size",description:""}],middlewares:[],filename:"school_major",funcname:"getHotCategories"},{type:"action",title:"获得专业目录",name:"get-categories-a6f068",description:"",notes:[],route:{method:"GET",path:"/school_major/categories"},params:[],middlewares:[],filename:"school_major",funcname:"getCategoryMenu"},{type:"action",title:"获得专业内容",name:"get-category-id-68a385",description:"",notes:[],route:{method:"GET",path:"/school_major/category/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"school_major",funcname:"getCategory"},{type:"action",title:"获得项目列表",name:"get-programs-87ed5a",description:"",notes:[],route:{method:"GET",path:"/school_major/programs"},params:[{type:"number",name:"categoryId",description:"按照专业筛选"},{type:"number",name:"schoolId",description:"按照学校筛选"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"school_major",funcname:"getProgramList"},{type:"action",title:"获得项目内容",name:"get-program-id-2f22b6",description:"",notes:[],route:{method:"GET",path:"/school_major/program/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"school_major",funcname:"getProgram"}]},{type:"module",title:"搜索",name:"search-88736d",path:"",description:"",middlewares:[],notes:[],filename:"search",actions:[{type:"action",title:"综合搜索（旧）",name:"get-search-c9b925",description:"",notes:[],route:{method:"GET",path:"/search"},params:[{type:"string",name:"keyword",description:""}],middlewares:[],filename:"search",funcname:"oldGeneralSearch"},{type:"action",title:"综合搜索",name:"get-search-all-eb1ba4",description:"",notes:[],route:{method:"GET",path:"/search/all"},params:[{type:"string",name:"keyword",description:""}],middlewares:[],filename:"search",funcname:"generalSearch"},{type:"action",title:"获得综合搜索计数",name:"get-search-all-count-93c49a",description:"",notes:[],route:{method:"GET",path:"/search/all/count"},params:[{type:"string",name:"keyword",description:""}],middlewares:[],filename:"search",funcname:"generalSearchCount"},{type:"action",title:"搜索动态插入数据",name:"get-search-feed-references-104569",description:"",notes:["仅用于获取所有类型的第一页数据，第二页及以后要调用搜索单独类型的接口","目前支持类型：海外大学（school），海外高中（highschool）"],route:{method:"GET",path:"/search/feed/references"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"search",funcname:"searchFeedReference"},{type:"action",title:"搜索学校",name:"get-search-schools-e031a0",description:"",notes:[],route:{method:"GET",path:"/search/schools"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""},{type:"boolean",name:"admissionRateTestAvailable",description:"仅获取可用于录取率测试的学校"}],middlewares:[],filename:"search",funcname:"searchSchools"},{type:"action",title:"搜索排行榜",name:"get-search-rankings-ae48a4",description:"",notes:[],route:{method:"GET",path:"/search/rankings"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"search",funcname:"searchRankings"},{type:"action",title:"搜索高中",name:"get-search-highschools-626ac5",description:"",notes:[],route:{method:"GET",path:"/search/highschools"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"search",funcname:"searchHighschools"},{type:"action",title:"搜索国际高中",name:"get-search-intschools-c774f5",description:"",notes:[],route:{method:"GET",path:"/search/intschools"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"search",funcname:"searchInternationalSchools"},{type:"action",title:"搜索资讯",name:"get-search-news-c54ba2",description:"",notes:[],route:{method:"GET",path:"/search/news"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"search",funcname:"searchNews"},{type:"action",title:"搜索问答",name:"get-search-questions-49e36c",description:"",notes:[],route:{method:"GET",path:"/search/questions"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"search",funcname:"searchQuestions"},{type:"action",title:"搜索课程",name:"get-search-courses-e35f6a",description:"",notes:[],route:{method:"GET",path:"/search/courses"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"search",funcname:"searchCourses"},{type:"action",title:"获得关键词自动补全提示",name:"get-search-autocomplete-c75662",description:"",notes:["注意：请求的时候注意请求次序，当产生新的请求的时候，就不要接收旧的请求数据了。\n\n示例代码：\n```js\nfunction makeSearchTextChangeListener(autoCompleteCallback) {\n  let timestamp = Date.now();\n  function onSearchTextChange(text) {\n    const localTimestamp = timestamp = Date.now();\n    apiRequest.get('/search/autocomplete', { keyword: text }).then((autoCompleteList) => {\n      if (localTimestamp === timestamp) {\n        autoCompleteCallback(autoCompleteList);\n      }\n    });\n  }\n}\n\n<SearchInput\n  onChange={makeSearchTextChangeListener(autoCompleteList => this.setState({ autoCompleteList }))}\n  autoCompleteList={this.state.autoCompleteList}\n/>\n```"],route:{method:"GET",path:"/search/autocomplete"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"type",description:"`all`|`school`|`highschool`|`intschool`|`news`|`question`|`course`|`ranking`|`offer`｜`feed-ref`"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"search",funcname:"searchKeywordHint"},{type:"action",title:"获得热门搜索关键词",name:"get-search-keywords-top-455c68",description:"",notes:[],route:{method:"GET",path:"/search/keywords/top"},params:[{type:"string",name:"type",description:"`all`|`school`|`highschool`|`intschool`|`news`|`question`|`course`|`ranking`|`offer`｜`feed-ref`"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"search",funcname:"searchTopKeywords"}]},{type:"module",title:"页面分享模块",name:"share-link-c4d84c",path:"/share/link",description:"",middlewares:[],notes:[],filename:"share_link",actions:[{type:"action",title:"记录分享行为",name:"post-record-15ce35",description:"",notes:["分享行为分类：\n\n| type                  | 备注             |\n|-----------------------|-----------------|\n| `image`               | 分享纯图片类型    |\n| `text`                | 分享纯文本类型    |\n| `course_detail`       | 分享课程详情      |\n| `school_detail`       | 分享院校详情      |\n| `app_xxd`             | 分享选校帝app     |\n| `result_smart_major`  | 分享智能选专业结果 |\n| `result_smart_school` | 分享智能选校结果   |\n| `result_smart_rate`   | 分享录取率测试结果 |\n| `h5_xxd`              | 分享选校帝h5      |\n\n> [Confluence 中对应的文档](http://47.93.48.137:8090/pages/viewpage.action?pageId=26838546)"],route:{method:"POST",path:"/share/link/record"},params:[{type:"string",name:"link",description:"分享的链接"},{type:"string",name:"type",description:"分享的类型"},{type:"boolean",name:"checkType",description:"验证分享类型是否正确（选填）"}],middlewares:[],filename:"share_link",funcname:"record"}]},{type:"module",title:"美本诊断报告",name:"smart_school_test-a5e7f8",path:"/smart_school_test",description:"",middlewares:[],notes:[],filename:"smart_school_test",actions:[{type:"action",title:"获取问卷题目",name:"get-questions-885176",description:"",notes:[],route:{method:"GET",path:"/smart_school_test/questions"},params:[{type:"string",name:"degreeId",description:"[undergraduate（本科）／graduate（研究生）]"},{type:"string",name:"customerType",description:"[student（用户）／parents（家长）]"}],middlewares:[],filename:"smart_school_test",funcname:"getQuestions"},{type:"action",title:"提交问卷答案接口",name:"post-answers-430b08",description:"",notes:["国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/smart_school_test/answers"},params:[{type:"object",name:"answers",description:"{key(题号{groupId}):value(选项),key2:valua2}答案"},{type:"string",name:"name",description:"姓名"},{type:"string",name:"phone",description:"手机号"},{type:"string",name:"countryCode",description:"手机号国家代码"},{type:"string",name:"captcha",description:"验证码"},{type:"string",name:"nonce",description:""},{type:"boolean",name:"regular",description:"是否是标准版"}],middlewares:[{name:"singlepass",args:""}],filename:"smart_school_test",funcname:"answers"},{type:"action",title:"根据用户id获取测试报告结果",name:"get-report-e1e621",description:"",notes:[],route:{method:"GET",path:"/smart_school_test/report"},params:[{type:"string",name:"id",description:"生成的报告结果id"},{type:"string",name:"verifyCode",description:"验证码"}],middlewares:[],filename:"smart_school_test",funcname:"getQuestionResult"},{type:"action",title:"获取用户智能测试报告列表",name:"get-report-list-08c84b",description:"",notes:[],route:{method:"GET",path:"/smart_school_test/report/list"},params:[{type:"string",name:"page",description:"当前页码"},{type:"string",name:"pageSize",description:"页面数量"}],middlewares:[{name:"admincheck",args:"key=smart_school_test.list"}],filename:"smart_school_test",funcname:"getReportList"},{type:"action",title:"根据用户id获取用户的测试答案列表",name:"get-report-id-2275ea",description:"",notes:[],route:{method:"GET",path:"/smart_school_test/report/:id"},params:[{type:"string",name:"id",description:"report id"}],middlewares:[{name:"admincheck",args:"key=smart_school_test.object"}],filename:"smart_school_test",funcname:"getReport"}]},{type:"module",title:"统计模块",name:"stat-fbd035",path:"/stat",description:"",middlewares:[],notes:[],filename:"stat",actions:[{type:"action",title:"获取app下载链接在web上的点击次数统计",name:"get-download-action-list-9fd00b",description:"",notes:[],route:{method:"GET",path:"/stat/download_action/list"},params:[{type:"string",name:"minActionTime",description:"统计开始时间点"},{type:"string",name:"maxActionTime",description:"统计结束时间点"}],middlewares:[{name:"admincheck",args:"key=stat.download.list"}],filename:"stat",funcname:"getDownloadActionChartData"},{type:"action",title:"获得资讯统计数据总览",name:"get-news-overview-a76867",description:"",notes:[],route:{method:"GET",path:"/stat/news/overview"},params:[],middlewares:[{name:"admincheck",args:"key=stat.news"}],filename:"stat",funcname:"getNewsStatOverview"},{type:"action",title:"获得资讯统计数据图表",name:"get-news-chartdata-9ccd09",description:"",notes:[],route:{method:"GET",path:"/stat/news/chartdata"},params:[{type:"string",name:"device",description:"all|app|pc|mobile"},{type:"string",name:"stat",description:"pv|uv"},{type:"number",name:"period",description:"1|7|30|90|180"}],middlewares:[{name:"admincheck",args:"key=stat.news"}],filename:"stat",funcname:"getNewsStatChartData"},{type:"action",title:"获得最近发布资讯统计数据",name:"get-news-recent-c539b7",description:"",notes:[],route:{method:"GET",path:"/stat/news/recent"},params:[{type:"number",name:"count",description:""}],middlewares:[{name:"admincheck",args:"key=stat.news"}],filename:"stat",funcname:"getRecentNewsStat"},{type:"action",title:"获得访问最多资讯统计数据",name:"get-news-hottest-8b8e09",description:"",notes:[],route:{method:"GET",path:"/stat/news/hottest"},params:[{type:"number",name:"count",description:""},{type:"string",name:"period",description:"today|thisweek|thismonth"}],middlewares:[{name:"admincheck",args:"key=stat.news"}],filename:"stat",funcname:"getHottestNewsStat"},{type:"action",title:"获得资讯统计列表",name:"get-news-list-c662ca",description:"",notes:[],route:{method:"GET",path:"/stat/news/list"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"categoryId",description:"栏目筛选项"},{type:"string",name:"regionId",description:"国家筛选项"},{type:"Date",name:"after",description:"只查找此时间之后存在的资讯及其PV／UV"},{type:"Date",name:"before",description:"只查找此时间之前存在的资讯及其PV／UV"},{type:"boolean",name:"all",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=stat.news"}],filename:"stat",funcname:"getNewsStatList"},{type:"action",title:"获取今昨两天数据统计信息",name:"get-user-overview-0c8889",description:"",notes:[],route:{method:"GET",path:"/stat/user/overview"},params:[],middlewares:[{name:"admincheck",args:"key=stat.data_statistics"}],filename:"stat",funcname:"getUserTodayStatisticsData"},{type:"action",title:"获取数据统计的报表信息",name:"get-user-reportdata-54fed6",description:"",notes:[],route:{method:"GET",path:"/stat/user/reportdata"},params:[{type:"string",name:"source",description:"来源"},{type:"string",name:"device",description:"渠道"},{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.data_statistics"}],filename:"stat",funcname:"getUserStatisticsReportData"},{type:"action",title:"获取用户统计数据折线图数据",name:"get-user-chartdata-f373fb",description:"",notes:[],route:{method:"GET",path:"/stat/user/chartdata"},params:[],middlewares:[{name:"admincheck",args:"key=stat.data_statistics"}],filename:"stat",funcname:"getUserSignupCountChartData"},{type:"action",title:"获取今昨两天growingio数据师傅需要更新",name:"get-user-data-growingio-yesterday-c98ac5",description:"",notes:[],route:{method:"GET",path:"/stat/user/data/growingio/yesterday"},params:[],middlewares:[],filename:"stat",funcname:"getYesterdayGrowingioData"},{type:"action",title:"更新growingio今日数据",name:"post-user-data-growingio-3c7985",description:"",notes:[],route:{method:"POST",path:"/stat/user/data/growingio"},params:[{type:"objects",name:"data",description:"统计数据"}],middlewares:[],filename:"stat",funcname:"updateGrowingioData"},{type:"action",title:"更新友从盟抓取的统计数据",name:"post-user-data-umeng-841eb6",description:"",notes:[],route:{method:"POST",path:"/stat/user/data/umeng"},params:[{type:"objects",name:"data",description:"统计数据"}],middlewares:[],filename:"stat",funcname:"updateUmengData"},{type:"action",title:"获取广告访问统计列表",name:"get-ad-stat-grouped-76ab1d",description:"",notes:[],route:{method:"GET",path:"/stat/ad_stat/grouped"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.ad.list"}],filename:"stat",funcname:"getAdVisitStatisticsGrouped"},{type:"action",title:"获取广告访问统计列表",name:"get-ad-stat-list-5bac6e",description:"",notes:[],route:{method:"GET",path:"/stat/ad_stat/list"},params:[{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=stat.ad.list"}],filename:"stat",funcname:"getAdVisitStatisticsList"},{type:"action",title:"获取专题统计信息",name:"get-subject-063306",description:"",notes:[],route:{method:"GET",path:"/stat/subject"},params:[{type:"string",name:"name",description:""},{type:"number",name:"subjectId",description:""},{type:"string",name:"platform",description:"pc mobile app"},{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""},{type:"string",name:"dataType",description:"数据类型 new save"}],middlewares:[{name:"admincheck",args:"key=stat.subject.info"}],filename:"stat",funcname:"getSubjectInfo"},{type:"action",title:"\b导出名片文档",name:"get-export-data-824918",description:"",notes:[],route:{method:"GET",path:"/stat/export_data"},params:[{type:"string",name:"schoolType",description:"选择学校类型 japan(日本院校)| arts(艺术院校)| korea(韩国院校)"},{type:"date",name:"startTime",description:""},{type:"date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.export_data.info"}],filename:"stat",funcname:"getExportData"},{type:"action",title:"\b导出名片文档（下载文件）",name:"get-export-data-download-ad2842",description:"",notes:[],route:{method:"GET",path:"/stat/export_data/download"},params:[{type:"string",name:"schoolType",description:"选择学校类型 japan(日本院校)| arts(艺术院校)| korea(韩国院校)"},{type:"date",name:"startTime",description:""},{type:"date",name:"endTime",description:""}],middlewares:[],filename:"stat",funcname:"getExportDataDownload"},{type:"action",title:"各平台注册量查询",name:"get-query-user-register-device-b172a6",description:"",notes:[],route:{method:"GET",path:"/stat/query/user/register/device"},params:[{type:"date",name:"startTime",description:""},{type:"date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.data_statistics"}],filename:"stat",funcname:"getRegisterSourceCount"},{type:"action",title:"获取注册来源内容的",name:"get-user-signup-overview-498e43",description:"",notes:[],route:{method:"GET",path:"/stat/user/signup/overview"},params:[],middlewares:[{name:"admincheck",args:"key=stat.signup.overview"}],filename:"stat",funcname:"getSignupOverview"},{type:"action",title:"获取注册设备统计",name:"get-user-signup-platforms-85ef67",description:"",notes:[],route:{method:"GET",path:"/stat/user/signup/platforms"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.signup.platforms"}],filename:"stat",funcname:"getSignupPlatforms"},{type:"action",title:"获取注册功能统计",name:"get-user-signup-sources-d56112",description:"",notes:[],route:{method:"GET",path:"/stat/user/signup/sources"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.signup.sources"}],filename:"stat",funcname:"getSignupSources"},{type:"action",title:"获取使用数据统计",name:"get-usage-overall-ed5328",description:"",notes:[],route:{method:"GET",path:"/stat/usage/overall"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=stat.usage.overall"}],filename:"stat",funcname:"getUsageOverall"}]},{type:"module",title:"专题管理",name:"subject-c2a615",path:"/subject",description:"",middlewares:[],notes:[],filename:"subject",actions:[{type:"action",title:"创建专题",name:"post-1e301f",description:"",notes:[],route:{method:"POST",path:"/subject/"},params:[{type:"string",name:"name",description:""},{type:"string",name:"tag",description:""},{type:"Upload",name:"imageObj",description:""},{type:"string",name:"subjectUrl",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=subject.create"}],filename:"subject",funcname:"createSubject"},{type:"action",title:"编辑专题",name:"put-id-98fc0e",description:"",notes:[],route:{method:"PUT",path:"/subject/:id"},params:[{type:"string",name:"name",description:""},{type:"string",name:"tag",description:""},{type:"Upload",name:"imageObj",description:""},{type:"string",name:"subjectUrl",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"admincheck",args:"key=subject.edit"}],filename:"subject",funcname:"editSubject"},{type:"action",title:"删除专题",name:"delete-id-a03ef5",description:"",notes:[],route:{method:"DELETE",path:"/subject/:id"},params:[],middlewares:[{name:"admincheck",args:"key=subject.delete"}],filename:"subject",funcname:"deleteSubject"},{type:"action",title:"专题列表",name:"get-list-5ae869",description:"",notes:[],route:{method:"GET",path:"/subject/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"subject",funcname:"getSubjectList"}]},{type:"module",title:"",name:"temp-zhihu-bc943c",path:"/temp/zhihu",description:"",middlewares:[],notes:[],filename:"temp_zhihu",actions:[{type:"action",title:"",name:"get-articles-38c506",description:"",notes:[],route:{method:"GET",path:"/temp/zhihu/articles"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"getArticles"},{type:"action",title:"",name:"get-article-id-0d6a84",description:"",notes:[],route:{method:"GET",path:"/temp/zhihu/article/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"getArticle"},{type:"action",title:"",name:"put-article-id-d77c91",description:"",notes:[],route:{method:"PUT",path:"/temp/zhihu/article/:id"},params:[{type:"number",name:"id",description:""},{type:"number",name:"title",description:""},{type:"number",name:"content",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"editArticle"},{type:"action",title:"",name:"delete-article-id-6c75c0",description:"",notes:[],route:{method:"DELETE",path:"/temp/zhihu/article/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"deleteArticle"},{type:"action",title:"",name:"get-questions-ab4fc9",description:"",notes:[],route:{method:"GET",path:"/temp/zhihu/questions"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"getQuestions"},{type:"action",title:"",name:"get-question-id-b55d33",description:"",notes:[],route:{method:"GET",path:"/temp/zhihu/question/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"getQuestion"},{type:"action",title:"",name:"get-question-id-answers-15ed12",description:"",notes:[],route:{method:"GET",path:"/temp/zhihu/question/:id/answers"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"getAnswers"},{type:"action",title:"",name:"get-question-id-answer-answerId-5cdc70",description:"",notes:[],route:{method:"GET",path:"/temp/zhihu/question/:id/answer/:answerId"},params:[{type:"number",name:"id",description:""},{type:"number",name:"answerId",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"getAnswer"},{type:"action",title:"",name:"put-question-id-a8e301",description:"",notes:[],route:{method:"PUT",path:"/temp/zhihu/question/:id"},params:[{type:"number",name:"id",description:""},{type:"number",name:"title",description:""},{type:"number",name:"content",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"editQuestion"},{type:"action",title:"",name:"delete-question-id-53c576",description:"",notes:[],route:{method:"DELETE",path:"/temp/zhihu/question/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"deleteQuestion"},{type:"action",title:"",name:"put-answer-id-41bb76",description:"",notes:[],route:{method:"PUT",path:"/temp/zhihu/answer/:id"},params:[{type:"number",name:"id",description:""},{type:"number",name:"content",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"editAnswer"},{type:"action",title:"",name:"delete-answer-id-d07bb3",description:"",notes:[],route:{method:"DELETE",path:"/temp/zhihu/answer/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"temp_zhihu",funcname:"deleteAnswer"}]},{type:"module",title:"学校信息模板管理",name:"school-template-21ac48",path:"",description:"",middlewares:[],notes:[],filename:"template",actions:[{type:"action",title:"获取模板",name:"get-template-433119",description:"",notes:[],route:{method:"GET",path:"/template"},params:[{type:"number",name:"id",description:"编号"}],middlewares:[],filename:"template",funcname:"getTemplate"},{type:"action",title:"获取模板列表",name:"get-templates-8f1385",description:"",notes:[],route:{method:"GET",path:"/templates"},params:[{type:"number",name:"page",description:"页码"},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"template",funcname:"getTemplates"},{type:"action",title:"新建模板",name:"post-template-e35540",description:"",notes:[],route:{method:"POST",path:"/template"},params:[{type:"number",name:"countryId",description:"国家编号"},{type:"string",name:"structure",description:"模板结构"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=template.create"}],filename:"template",funcname:"postTemplate"},{type:"action",title:"更新模板",name:"put-template-3ae268",description:"",notes:[],route:{method:"PUT",path:"/template"},params:[{type:"number",name:"id",description:"模板编号"},{type:"number",name:"countryId",description:"国家编号"},{type:"string",name:"structure",description:"模板结构"}],middlewares:[{name:"admincheck",args:"key=template.update"}],filename:"template",funcname:"putTemplate"},{type:"action",title:"删除模板",name:"delete-template-231144",description:"",notes:[],route:{method:"DELETE",path:"/template"},params:[{type:"number",name:"id",description:"模板编号"}],middlewares:[{name:"admincheck",args:"key=template.delete"}],filename:"template",funcname:"deleteTemplate"}]},{type:"module",title:"",name:"test-6bccb1",path:"",description:"",middlewares:[],notes:[],filename:"test",actions:[{type:"action",title:"Test contexts",name:"any-test-46f177",description:"",notes:[],route:{method:"ANY",path:"/test"},params:[],middlewares:[],filename:"test",funcname:"test"}]},{type:"module",title:"导师模块",name:"third-party-consultant-91a5d5",path:"/thirdparty/consultant",description:"",middlewares:[{name:"session3rd",args:""}],notes:["导师审核状态表\n\n| 状态   | ENUM_NAME | ENUM_VALUE |\n| ------ | --------- | ---------- |\n| 待审核 | REVIEWING | -2 |\n| 未提交审核 | CREATED | -1 |\n| 已审核 | NORMAL | 0 |\n| 更新待审核 | UPDATE_REVIEWING | 1 |","offer状态表\n\n| 状态   | ENUM_NAME | ENUM_VALUE |\n| ------ | --------- | ---------- |\n| 已隐藏 | HIDDEN    | -5         |\n| 已拒绝 | REJECTED  | -3         |\n| 待审核 | REVIEWING | -2         |\n| 已审核 | NORMAL    | 0          |","案例故事状态表\n\n| 状态       | ENUM_NAME | ENUM_VALUE |\n| ---------- | --------- | ---------- |\n| 已隐藏     | HIDDEN    | -5         |\n| 已拒绝     | REJECTED  | -3         |\n| 待审核     | REVIEWING | -2         |\n| 未提交审核 | CREATED   | -1         |\n| 已审核     | NORMAL    | 0          |"],filename:"third_party_consultant",actions:[{type:"action",title:"登录",name:"post-login-51a41f",description:"",notes:["发送短信验证码（`POST /user/captcha`）需要接入图形验证码（`GET /user/captcha/image`）","国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/thirdparty/consultant/login"},params:[{type:"string",name:"phone",description:""},{type:"string",name:"countryCode",description:""},{type:"string",name:"captcha",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"third_party_consultant",funcname:"login"},{type:"action",title:"APP一键登录（教师账号）",name:"post-login-phone-verify-7bdc5d",description:"",notes:["国际号码兼容：不支持国际号码"],route:{method:"POST",path:"/thirdparty/consultant/login/phone/verify"},params:[{type:"string",name:"phoneToken",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"loginByPhoneToken"},{type:"action",title:"从用户账号切换",name:"post-login-from-user-0b072f",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/login/from/user"},params:[],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"third_party_consultant",funcname:"loginFromUserAccount"},{type:"action",title:"注销后的重新注册",name:"post-reassign-646a38",description:"",notes:["在登录返回注销代码后 5 分钟内有效"],route:{method:"POST",path:"/thirdparty/consultant/reassign"},params:[],middlewares:[],filename:"third_party_consultant",funcname:"reassign"},{type:"action",title:"登出",name:"post-logout-143a5e",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/logout"},params:[],middlewares:[],filename:"third_party_consultant",funcname:"logout"},{type:"action",title:"获取个人资料",name:"get-profile-8087b9",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile"},params:[],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getProfile"},{type:"action",title:"修改个人资料",name:"put-profile-dd831e",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/profile"},params:[{type:"string",name:"realName",description:""},{type:"string",name:"nickName",description:""},{type:"string",name:"title",description:""},{type:"Upload",name:"avatar",description:""},{type:"string",name:"phoneOfDingding",description:""},{type:"string",name:"email",description:""},{type:"string",name:"org",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"wordsToStudent",description:""},{type:"number",name:"years",description:""},{type:"json",name:"fromSchools",description:"Shape of `[{school:'',major:''},...]`"},{type:"string",name:"province",description:""},{type:"string",name:"city",description:""},{type:"Array.<number>",name:"adeptRegions",description:""},{type:"Array.<number>",name:"adeptDegrees",description:""},{type:"Array.<number>",name:"adeptRegionDegrees",description:""},{type:"Array.<number>",name:"adeptServices",description:""},{type:"Array.<number>",name:"adeptServiceCategories",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"updateProfile"},{type:"action",title:"修改个人选项",name:"put-profile-options-26d741",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/profile/options"},params:[{type:"boolean",name:"fromSchoolsVisible",description:""},{type:"boolean",name:"appointmentAcceptable",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"setFromSchoolsVisible"},{type:"action",title:"提交审核",name:"post-review-submit-65bbcd",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/review/submit"},params:[],middlewares:[{name:"sessioncheck3rd",args:""},{name:"queue",args:"key=consultant.status"}],filename:"third_party_consultant",funcname:"submitReview"},{type:"action",title:"获取自己的照片列表",name:"get-profile-photos-87191a",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/photos"},params:[],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getMyPhotos"},{type:"action",title:"上传照片",name:"post-photo-bab6c5",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/photo"},params:[{type:"Upload",name:"image",description:""},{type:"string",name:"text",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"uploadPhoto"},{type:"action",title:"修改照片描述",name:"put-photo-552300",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/photo"},params:[{type:"number",name:"id",description:""},{type:"string",name:"text",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"updatePhoto"},{type:"action",title:"删除照片",name:"delete-photo-322c7b",description:"",notes:[],route:{method:"DELETE",path:"/thirdparty/consultant/photo"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"deletePhoto"},{type:"action",title:"设置封面照片",name:"put-photo-cover-e36448",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/photo/cover"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"setCoverPhoto"},{type:"action",title:"获取我上传的offer列表",name:"get-profile-offers-bc8159",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/offers"},params:[],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getMyOffers"},{type:"action",title:"上传Offer",name:"post-offer-bd474b",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/offer"},params:[{type:"number",name:"schoolId",description:""},{type:"Upload",name:"image",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"uploadOffer"},{type:"action",title:"编辑offer",name:"put-offer-ce054c",description:"",notes:["仅当审核被拒的状态下可以编辑"],route:{method:"PUT",path:"/thirdparty/consultant/offer"},params:[{type:"number",name:"id",description:""},{type:"number",name:"schoolId",description:""},{type:"Upload",name:"image",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""},{name:"queue",args:"key=consultant.offer.status"}],filename:"third_party_consultant",funcname:"editOffer"},{type:"action",title:"删除offer",name:"delete-offer-7ced26",description:"",notes:["仅当审核被拒的状态下可以删除"],route:{method:"DELETE",path:"/thirdparty/consultant/offer"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"deleteOffer"},{type:"action",title:"获取我上传的案例故事列表",name:"get-profile-stories-e3de10",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/stories"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getMyStories"},{type:"action",title:"获取我上传的案例故事详情",name:"get-profile-story-5ed86f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/story"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"withOptions",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getMyStory"},{type:"action",title:"获取案例故事选项数据",name:"get-story-options-919511",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/story/options"},params:[],middlewares:[],filename:"third_party_consultant",funcname:"getStoryOptions"},{type:"action",title:"上传新的案例故事",name:"post-story-2be541",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/story"},params:[{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:"preset=story-cover"},{type:"number",name:"typeId",description:""},{type:"Array.<number>",name:"schoolIds",description:""},{type:"boolean",name:"submitForReview",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"uploadStory"},{type:"action",title:"编辑案例故事",name:"put-story-5eeb85",description:"",notes:["仅当未提交或者审核被拒的状态下可以编辑"],route:{method:"PUT",path:"/thirdparty/consultant/story"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"string",name:"content",description:""},{type:"string",name:"coverUrl",description:"preset=story-cover"},{type:"number",name:"typeId",description:""},{type:"Array.<number>",name:"schoolIds",description:""},{type:"boolean",name:"submitForReview",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""},{name:"queue",args:"key=consultant.story.status"}],filename:"third_party_consultant",funcname:"editStory"},{type:"action",title:"删除案例故事",name:"delete-story-53d11f",description:"",notes:["仅当未提交或者审核被拒的状态下可以删除"],route:{method:"DELETE",path:"/thirdparty/consultant/story"},params:[{type:"string",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"deleteStory"},{type:"action",title:"[客户端] 获取导师列表（V1）",name:"get-list-8054c7",description:"",notes:["这个版本默认会填充选项，不区分选项和推荐\n- `targetRegionIds`和`targetDegreeId`参数是为了可能需要从APP首页视图继承参数的情况提供的\n- 即使不提供这些参数，也会从用户属性中读取出默认参数值"],route:{method:"GET",path:"/thirdparty/consultant/list"},params:[{type:"Array.<number>",name:"adeptRegionIds",description:"注意，和用户中的targetRegionId的值不同"},{type:"number",name:"adeptDegreeId",description:"注意，和用户中的targetDegreeId的值不同"},{type:"Array.<string>",name:"cities",description:"如果不传，默认取IP定位，定位不到会从用户属性中获取"},{type:"Array.<number>",name:"adeptServiceIds",description:""},{type:"Array.<number>",name:"targetRegionIds",description:"这里可以传用户的targetRegionIds，接口会映射到adeptRegionIds"},{type:"string",name:"targetCountryId",description:"这里可以传用户的targetCountryId，接口会映射到adeptRegionIds"},{type:"string",name:"targetDegreeId",description:"这里可以传用户的targetDegreeId，接口会映射到adeptDegreeId"},{type:"number",name:"schoolId",description:"如果使用此参数，将忽略adeptRegionIds和targetRegionIds"},{type:"boolean",name:"forFineArts",description:"如果使用此参数，将忽略adeptDegreeId和targetDegreeId"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getList"},{type:"action",title:"[客户端] 获取导师列表（V2）",name:"get-list-v2-9f40f0",description:"",notes:["推荐参数与选项参数互不影响\n- 仅当不提供任何选项的时候，展示推荐导师"],route:{method:"GET",path:"/thirdparty/consultant/list/v2"},params:[{type:"Array.<number>",name:"adeptRegionIds",description:"选项参数"},{type:"number",name:"adeptDegreeId",description:"选项参数"},{type:"Array.<string>",name:"cities",description:"选项参数"},{type:"Array.<number>",name:"adeptServiceIds",description:"选项参数"},{type:"number",name:"adeptServiceCategoryId",description:"选项参数"},{type:"Array.<number>",name:"targetRegionIds",description:"推荐参数，这里可以传用户的targetRegionIds，接口会映射到adeptRegionIds"},{type:"string",name:"targetCountryId",description:"这里可以传用户的targetCountryId，接口会映射到adeptRegionIds"},{type:"string",name:"targetDegreeId",description:"推荐参数，这里可以传用户的targetDegreeId，接口会映射到adeptDegreeId"},{type:"number",name:"schoolId",description:"推荐参数"},{type:"boolean",name:"forFineArts",description:"推荐参数"},{type:"boolean",name:"recommendAsFilter",description:"内部参数"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getListV2"},{type:"action",title:"[客户端] 获取推荐导师列表",name:"get-list-recommend-10e23a",description:"",notes:["目前只针对美英加澳方向进行推荐\n- 提供学校ID则忽略`targetCountryId`参数\n- `locationProvince`, `locationCity` 不需要前端提供"],route:{method:"GET",path:"/thirdparty/consultant/list/recommend"},params:[{type:"number",name:"limit",description:""},{type:"string",name:"targetCountryId",description:"不传会从用户属性中获取"},{type:"string",name:"targetDegreeId",description:"不传会从用户属性中获取"},{type:"number",name:"schoolId",description:""},{type:"boolean",name:"forFineArts",description:"是否获取艺术申请导师（会忽略targetDegreeId）"},{type:"string",name:"locationProvince",description:"（不需要传）默认取IP定位，定位不到会从用户属性中获取"},{type:"string",name:"locationCity",description:"（不需要传）默认取IP定位，定位不到会从用户属性中获取"},{type:"boolean",name:"withOfferSchools",description:"需要经典案例学校"}],middlewares:[],filename:"third_party_consultant",funcname:"getRecommendConsultants"},{type:"action",title:"[客户端] 获取导师介绍页数据",name:"get-index-ca8f5f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/index"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getConsultantIndex"},{type:"action",title:"APP个人主页信息（自己）",name:"get-profile-app-self-bcb866",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/app/self"},params:[],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getMyAppProfile"},{type:"action",title:"APP个人主页信息（别人）",name:"get-profile-app-14e6f7",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/app"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"silent",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getConsultantAppProfile"},{type:"action",title:"APP个人主页扩展信息",name:"get-profile-extra-app-c55f2e",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/extra/app"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getConsultantAppExtraProfile"},{type:"action",title:"获取教师的照片与视频",name:"get-profile-gallery-2c72a3",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/profile/gallery"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getConsultantGallery"},{type:"action",title:"获取服务类目数据",name:"get-service-categories-8f14da",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/service/categories"},params:[{type:"number",name:"consultantId",description:"如果要高亮某个老师的服务类目，需要提供这个参数"}],middlewares:[],filename:"third_party_consultant",funcname:"getServiceCategories"},{type:"action",title:"[客户端] 获得offer图片",name:"get-offer-image-5a6662",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/offer/image"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"renderOfferImageUrl"},{type:"action",title:"获取服务方案列表",name:"get-service-plans-0968a4",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/service/plans"},params:[{type:"number",name:"consultantId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getPlanList"},{type:"action",title:"获取案例列表",name:"get-stories-f1502f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/stories"},params:[{type:"number",name:"consultantId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"Array.<number>",name:"ids",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getStoryList"},{type:"action",title:"[客户端] 获取用户故事详情",name:"get-story-3bebec",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/story"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"withConsultant",description:""},{type:"boolean",name:"withRelatedList",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getStory"},{type:"action",title:"[客户端] 获取用户评价列表",name:"get-reviews-604c40",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/reviews"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"consultantId",description:""}],middlewares:[],filename:"third_party_consultant",funcname:"getReviews"},{type:"action",title:"获取现有的机构列表",name:"get-orgs-086db2",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/orgs"},params:[],middlewares:[],filename:"third_party_consultant",funcname:"getExistingOrgs"},{type:"action",title:"获取预约量排行",name:"get-rankings-0ca1f9",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/rankings"},params:[],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant",funcname:"getAppointmentRanking"}]},{type:"module",title:"导师管理模块",name:"third-party-consultant-admin-11537c",path:"/thirdparty/consultant/admin",description:"",middlewares:[{name:"session3rd",args:""}],notes:["账号状态表\n\n| 状态       | ENUM_NAME        | ENUM_VALUE |\n| ---------- | ---------------- | ---------- |\n| 已禁用     | DISABLED         | -4         |\n| 已拒绝     | REJECTED         | -3         |\n| 待审核     | REVIEWING        | -2         |\n| 未提交审核 | CREATED          | -1         |\n| 已审核     | NORMAL           | 0          |\n| 更新待审核 | UPDATE_REVIEWING | 1          |\n| 更新已拒绝 | UPDATE_REJECTED  | 2          |","offer 状态表\n\n| 状态   | ENUM_NAME | ENUM_VALUE |\n| ------ | --------- | ---------- |\n| 已隐藏 | HIDDEN    | -5         |\n| 已拒绝 | REJECTED  | -3         |\n| 待审核 | REVIEWING | -2         |\n| 已审核 | NORMAL    | 0          |","案例故事状态表\n\n| 状态       | ENUM_NAME | ENUM_VALUE |\n| ---------- | --------- | ---------- |\n| 已隐藏     | HIDDEN    | -5         |\n| 已拒绝     | REJECTED  | -3         |\n| 待审核     | REVIEWING | -2         |\n| 未提交审核 | CREATED   | -1         |\n| 已审核     | NORMAL    | 0          |","预约状态表\n\n| 状态     | ENUM_NAME      | ENUM_VALUE |\n| -------- | -------------- | ---------- |\n| 无法签约 | CANNOT_SIGN    | -3         |\n| 无法联系 | CANNOT_CONTACT | -2         |\n| 已取消   | CANCELLED      | -1         |\n| 待联系   | WAITING        | 0          |\n| 已联系   | CONTACTED      | 1          |\n| 已上门   | VISITED        | 3          |\n| 已签约   | SIGNED         | 4          |","预约合同状态表\n\n| 状态         | ENUM_NAME               | ENUM_VALUE |\n| ------------ | ----------------------- | ---------- |\n| 有待审核合同 | HAS_REVIEWING_CONTRACTS | 1          |\n| 有已通过合同 | HAS_ACCEPTED_CONTRACTS  | 2          |\n| 无合同       | NO_CONTRACTS            | 3          |"],filename:"third_party_consultant_admin",actions:[{type:"action",title:"[管理后台] 获取导师列表",name:"get-list-7558ac",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""},{type:"number",name:"regionId",description:""},{type:"number",name:"degreeId",description:""},{type:"string",name:"city",description:""},{type:"number",name:"status",description:""},{type:"boolean",name:"appointmentEnabled",description:""},{type:"boolean",name:"questionEnabled",description:""},{type:"boolean",name:"questionAssignable",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.list"}],filename:"third_party_consultant_admin",funcname:"getList"},{type:"action",title:"[管理后台] 获取导师信息",name:"get-item-163108",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/item"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.item"}],filename:"third_party_consultant_admin",funcname:"getItemData"},{type:"action",title:"提交审核结果",name:"post-review-0790b2",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/admin/review"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"accept",description:""},{type:"string",name:"rejectReason",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.review"},{name:"queue",args:"key=consultant.status"}],filename:"third_party_consultant_admin",funcname:"review"},{type:"action",title:"[管理后台] 禁用/启用导师账号",name:"put-enabled-67ace7",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.enable"}],filename:"third_party_consultant_admin",funcname:"toggleConsultantEnabled"},{type:"action",title:"[管理后台] 禁用/启用导师的预约功能",name:"put-appointment-enabled-d721ce",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/appointment/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"appointmentEnabled",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.enable"}],filename:"third_party_consultant_admin",funcname:"toggleConsultantAppointmentEnabled"},{type:"action",title:"[管理后台] 禁用/启用导师的问答功能",name:"put-question-enabled-67e59b",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/question/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"questionEnabled",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.enable"}],filename:"third_party_consultant_admin",funcname:"toggleConsultantQuestionEnabled"},{type:"action",title:"[管理后台] 禁用/启用导师的问答自动分配权限",name:"put-question-assignable-09f568",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/question/assignable"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"questionAssignable",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.enable"}],filename:"third_party_consultant_admin",funcname:"toggleConsultantQuestionAssignable"},{type:"action",title:"[管理后台] 设置导师账号为测试账号（其它功能正常，不出现在客户端）",name:"put-tester-52d8f9",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/tester"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"tester",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.tester"}],filename:"third_party_consultant_admin",funcname:"toggleConsultantIsTester"},{type:"action",title:"[管理后台] 设置导师的机构",name:"put-organization-d64d84",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/organization"},params:[{type:"number",name:"id",description:""},{type:"number",name:"organizationId",description:"传 'none' 可以清空"}],middlewares:[{name:"admincheck",args:"key=consultant.set-organization"}],filename:"third_party_consultant_admin",funcname:"moveConsultantToOrganization"},{type:"action",title:"[管理后台] 获取后台照片列表",name:"get-photos-0d7d40",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/photos"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""},{type:"string",name:"consultantId",description:""},{type:"boolean",name:"hidden",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.photo.list"}],filename:"third_party_consultant_admin",funcname:"getPhotosForAdmin"},{type:"action",title:"[管理后台] 隐藏/取消隐藏导师照片",name:"put-photo-hidden-b49f69",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/photo/hidden"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"hidden",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.photo.hide"}],filename:"third_party_consultant_admin",funcname:"hidePhoto"},{type:"action",title:"[管理后台] 隐藏/取消隐藏offer",name:"put-offer-hidden-3a3d37",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/offer/hidden"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"hidden",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.offer.hide"},{name:"queue",args:"key=consultant.offer.status"}],filename:"third_party_consultant_admin",funcname:"hideOffer"},{type:"action",title:"[管理后台] 获取后台offer列表",name:"get-offers-32e2fc",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/offers"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""},{type:"number",name:"consultantId",description:""},{type:"string",name:"status",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.offer.list"}],filename:"third_party_consultant_admin",funcname:"getOffersForAdmin"},{type:"action",title:"[管理后台] 审核offer",name:"post-offer-review-6045c8",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/admin/offer/review"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"accept",description:""},{type:"string",name:"rejectReason",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.offer.review"},{name:"queue",args:"key=consultant.offer.status"}],filename:"third_party_consultant_admin",funcname:"reviewOffer"},{type:"action",title:"[管理后台] 隐藏/取消隐藏案例故事",name:"put-story-hidden-5d7d5b",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/story/hidden"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"hidden",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.story.hide"},{name:"queue",args:"key=consultant.story.status"}],filename:"third_party_consultant_admin",funcname:"hideStory"},{type:"action",title:"[管理后台] 获取后台案例故事列表",name:"get-stories-b940b5",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/stories"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keywords",description:"按标题搜索"},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""},{type:"number",name:"consultantId",description:""},{type:"string",name:"status",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.story.list"}],filename:"third_party_consultant_admin",funcname:"getStoriesForAdmin"},{type:"action",title:"[管理后台] 获取后台案例故事详情",name:"get-story-270f3b",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/story"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.story.review"}],filename:"third_party_consultant_admin",funcname:"getStoryForAdmin"},{type:"action",title:"[管理后台] 审核案例故事",name:"post-story-review-f2ddfe",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/admin/story/review"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"accept",description:""},{type:"string",name:"rejectReason",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.story.review"},{name:"queue",args:"key=consultant.story.status"}],filename:"third_party_consultant_admin",funcname:"reviewStory"},{type:"action",title:"[管理后台] 获取导师筛选项",name:"get-filters-3b1753",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/filters"},params:[{type:"boolean",name:"appointmentEnabled",description:""},{type:"boolean",name:"questionEnabled",description:""},{type:"boolean",name:"hasPlanStory",description:"用于筛选出有关联方案故事的老师"},{type:"boolean",name:"hasServiceOrder",description:"用于获取有订单的老师"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:""}],filename:"third_party_consultant_admin",funcname:"getConsultantFilters"},{type:"action",title:"[管理后台] 获取预约列表",name:"get-appointments-6d90d1",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/appointments"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"status",description:""},{type:"number",name:"contractStatus",description:""},{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""},{type:"number",name:"consultantId",description:""},{type:"number",name:"targetRegionId",description:""},{type:"string",name:"targetDegreeId",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.appointment.list"}],filename:"third_party_consultant_admin",funcname:"getAppointments"},{type:"action",title:"[管理后台] 获取预约详情",name:"get-appointment-97e181",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/appointment"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.appointment.item"}],filename:"third_party_consultant_admin",funcname:"getAppointment"},{type:"action",title:"[管理后台] 审核合同",name:"post-contract-review-44d144",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/admin/contract/review"},params:[{type:"number",name:"contractId",description:""},{type:"boolean",name:"accept",description:""},{type:"string",name:"rejectReason",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.contract.review"}],filename:"third_party_consultant_admin",funcname:"reviewContract"},{type:"action",title:"[管理后台] 取消审核合同",name:"post-contract-review-cancel-314058",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/admin/contract/review/cancel"},params:[{type:"number",name:"contractId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.contract.review"}],filename:"third_party_consultant_admin",funcname:"cancelReviewContract"},{type:"action",title:"[管理后台] 数据统计 - 导师数据",name:"get-stats-consultants-794ffc",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/stats/consultants"},params:[{type:"Date",name:"startTime",description:"统计开始时间（自动取该日00:00:00.000）"},{type:"Date",name:"endTime",description:"统计结束时间（自动取该日23:59:59.999）"},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""},{type:"number",name:"consultantId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.stat"}],filename:"third_party_consultant_admin",funcname:"statsByConsultant"},{type:"action",title:"修改预约的导师",name:"put-appointment-consultant-96a6ec",description:"",notes:["将通知这位导师预约情况"],route:{method:"PUT",path:"/thirdparty/consultant/admin/appointment/consultant"},params:[{type:"number",name:"appointmentId",description:""},{type:"number",name:"consultantId",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.change-appointment"}],filename:"third_party_consultant_admin",funcname:"changeAppointmentConsultant"},{type:"action",title:"获取用于预约的的教师列表",name:"get-list-appointable-6e8758",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/list/appointable"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"adeptRegion",description:""},{type:"number",name:"adeptDegree",description:""},{type:"number",name:"adeptService",description:""},{type:"string",name:"city",description:""},{type:"string",name:"org",description:""},{type:"number",name:"organizationId",description:""}],middlewares:[],filename:"third_party_consultant_admin",funcname:"getAssignableConsultantList"},{type:"action",title:"[管理后台] 预约统计数据",name:"get-stats-appointments-1140d0",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/stats/appointments"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=consultant.stat"}],filename:"third_party_consultant_admin",funcname:"statsOfAppointments"},{type:"action",title:"获取所有标签",name:"get-tags-all-a56b5f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/tags/all"},params:[],middlewares:[{name:"admincheck",args:"key=consultant.tag.list"}],filename:"third_party_consultant_admin",funcname:"getAllTags"},{type:"action",title:"编辑标签",name:"put-update-tag-e1a409",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/update/tag"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.update.tag"}],filename:"third_party_consultant_admin",funcname:"updateTag"},{type:"action",title:"获取已配置标签的教师",name:"get-list-with-tags-cb21cb",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/list/with_tags"},params:[],middlewares:[{name:"admincheck",args:"key=consultant.list"}],filename:"third_party_consultant_admin",funcname:"getListWithTags"},{type:"action",title:"编辑教师标签",name:"put-update-consultant-tags-5b745d",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/update/consultant/tags"},params:[{type:"number",name:"id",description:""},{type:"Array.<number>",name:"tagIds",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.update.consultant.tags"}],filename:"third_party_consultant_admin",funcname:"updateConsultantTags"},{type:"action",title:"修改大牛营销词",name:"put-market-tags-e5338e",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/market_tags"},params:[{type:"number",name:"id",description:""},{type:"Array.<string>",name:"marketTags",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.update.market_tags"}],filename:"third_party_consultant_admin",funcname:"updateMarketTags"},{type:"action",title:"修改大牛展示状态",name:"put-market-enabled-bc5691",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/market_enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"marketEnabled",description:""}],middlewares:[],filename:"third_party_consultant_admin",funcname:"toggleMarketEnabled"},{type:"action",title:"修改大牛顺序",name:"post-market-move-941e47",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/admin/market/move"},params:[{type:"number",name:"id",description:""},{type:"string",name:"direction",description:"可选值 up / down"}],middlewares:[{name:"admincheck",args:"key=consultant.update.market_order"}],filename:"third_party_consultant_admin",funcname:"updateMarketOrder"},{type:"action",title:"修改大牛上下线时间",name:"put-market-display-time-12be8e",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/market_display_time"},params:[{type:"number",name:"id",description:""},{type:"Date",name:"marketDisplayStartTime",description:"大牛上线时间"},{type:"Date",name:"marketDisplayEndTime",description:"大牛下线时间"}],middlewares:[{name:"admincheck",args:"key=consultant.update.market_display_time"}],filename:"third_party_consultant_admin",funcname:"updateMarketDisplayTime"},{type:"action",title:"获取后台教师评分列表",name:"get-scores-list-7d4cc7",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/admin/scores/list"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"organizationId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.scores.list"}],filename:"third_party_consultant_admin",funcname:"getConsultantListWithScores"},{type:"action",title:"更新教师主观评分",name:"put-scores-19f3bf",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/admin/scores"},params:[{type:"number",name:"consultantId",description:""},{type:"number",name:"fresh",description:""},{type:"number",name:"position",description:""},{type:"number",name:"signing",description:""},{type:"number",name:"converting",description:""},{type:"number",name:"responseSpeed",description:""},{type:"number",name:"adjustment",description:""}],middlewares:[{name:"admincheck",args:"key=consultant.scores.update"},{name:"queue",args:"key=consultant.scores.update"}],filename:"third_party_consultant_admin",funcname:"updateScores"}]},{type:"module",title:"导师预约模块",name:"third-party-consultant-appointment-83067b",path:"/thirdparty/consultant/appointment",description:"",middlewares:[{name:"session3rd",args:""}],notes:["预约状态表\n\n| 状态     | ENUM_NAME      | ENUM_VALUE |\n| -------- | -------------- | ---------- |\n| 无法签约 | CANNOT_SIGN    | -3         |\n| 无法联系 | CANNOT_CONTACT | -2         |\n| 已取消   | CANCELLED      | -1         |\n| 待联系   | WAITING        | 0          |\n| 已联系   | CONTACTED      | 1          |\n| 已上门   | VISITED        | 3          |\n| 已签约   | SIGNED         | 4          |"],filename:"third_party_consultant_appointment",actions:[{type:"action",title:"[客户端] 获取预约时的用户背景信息",name:"get-user-background-d3b8a9",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/appointment/user/background"},params:[{type:"number",name:"consultantId",description:""}],middlewares:[],filename:"third_party_consultant_appointment",funcname:"getAppointmentUserBackground"},{type:"action",title:"获取预约表单",name:"get-appoint-form-8a219b",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/appointment/appoint/form"},params:[{type:"string",name:"consultantId",description:"导师ID"}],middlewares:[],filename:"third_party_consultant_appointment",funcname:"getAppointForm"},{type:"action",title:"检查表单数据",name:"post-appoint-form-check-34ec6a",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/appointment/appoint/form/check"},params:[{type:"string",name:"formKey",description:"form的key"}],middlewares:[],filename:"third_party_consultant_appointment",funcname:"verifyAppointFormData"},{type:"action",title:"[客户端] 预约导师",name:"post-appoint-43705d",description:"",notes:["国际号码兼容：支持传入国家代码，不影响默认86的逻辑"],route:{method:"POST",path:"/thirdparty/consultant/appointment/appoint"},params:[{type:"string",name:"consultantId",description:"导师ID"},{type:"string",name:"contactName",description:""},{type:"string",name:"contactPhone",description:""},{type:"string",name:"contactCountryCode",description:""},{type:"string",name:"contactPhoneHash",description:"当上面的手机号与用户手机号不一致时，需要进行短信验证，将验证成功结果中的`hash`传过来"},{type:"string",name:"contactWechat",description:""},{type:"string",name:"location",description:"所在城市"},{type:"Date",name:"appointmentTime",description:"预约时段的开始时间（包括日期和时间）"},{type:"string",name:"formKey",description:"用户所填表单的key，不填默认是oversea-common表单"},{type:"string",name:"question",description:"问题描述"},{type:"Array.<number>",name:"questionTags",description:"问题TAG"},{type:"Array.<number>",name:"relatedServiceCategories",description:"相关服务类目"},{type:"number",name:"planId",description:"方案id"},{type:'("intschool-contact" | "intschool-visit")',name:"sourceType",description:"预约来源类型"},{type:"json",name:"sourceContext",description:"预约来源参数"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"third_party_consultant_appointment",funcname:"appointConsultant"},{type:"action",title:"[客户端] 取消预约",name:"post-cancel-718015",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/appointment/cancel"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"queue",args:"key=consultant.appointment.status"},{name:"sessioncheck",args:""}],filename:"third_party_consultant_appointment",funcname:"cancelAppointment"},{type:"action",title:"[客户端] 获取我的预约列表",name:"get-list-mine-be1dbf",description:"",notes:["预约状态表见文档顶部"],route:{method:"GET",path:"/thirdparty/consultant/appointment/list/mine"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"third_party_consultant_appointment",funcname:"getMyAppointmentList"},{type:"action",title:"[客户端] 获取我的预约详情",name:"get-item-mine-b886b1",description:"",notes:["预约状态表见文档顶部"],route:{method:"GET",path:"/thirdparty/consultant/appointment/item/mine"},params:[{type:"number",name:"id",description:""},{type:"string",name:"token",description:""}],middlewares:[],filename:"third_party_consultant_appointment",funcname:"getAppointmentItem"},{type:"action",title:"[导师列表] 设置跟进情况",name:"put-item-status-860853",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/appointment/item/status"},params:[{type:"number",name:"id",description:""},{type:"number",name:"status",description:""},{type:"string",name:"statusNote",description:""}],middlewares:[{name:"singlepass",args:""},{name:"queue",args:"key=consultant.appointment.status"},{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"setStatus"},{type:"action",title:"[客户端] 评价电话预约",name:"post-item-review-3701f7",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/appointment/item/review"},params:[{type:"number",name:"id",description:""},{type:"string",name:"token",description:"未登录的情况下必传"},{type:"number",name:"score",description:"1-5"},{type:"string",name:"content",description:""},{type:"Array.<string>",name:"tags",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"third_party_consultant_appointment",funcname:"reviewAppointment"},{type:"action",title:"修改评价",name:"put-item-review-a062ff",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/appointment/item/review"},params:[{type:"number",name:"id",description:"预约ID"},{type:"number",name:"score",description:"1-5"},{type:"string",name:"content",description:""},{type:"Array.<string>",name:"tags",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck",args:""}],filename:"third_party_consultant_appointment",funcname:"editReview"},{type:"action",title:"回复评价",name:"post-item-review-reply-f1b305",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/appointment/item/review/reply"},params:[{type:"number",name:"id",description:"预约ID"},{type:"string",name:"reply",description:"回复内容"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"replyReview"},{type:"action",title:"[导师后台] 获取学生预约主要数据",name:"get-tome-overall-983849",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/appointment/tome/overall"},params:[],middlewares:[{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"getConsultantsAppointmentOverall"},{type:"action",title:"[APP导师模式] 获取学生预约列表",name:"get-tome-list-app-cd416e",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/appointment/tome/list/app"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"getConsultantAppointmentsForApp"},{type:"action",title:"[导师后台] 获取学生预约列表",name:"get-tome-list-9db963",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/appointment/tome/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"Date",name:"startTime",description:"提供此参数的话，接口自动取该时间的早上00:00"},{type:"Date",name:"endTime",description:"提供此参数的话，接口自动取该时间的晚上23:59"},{type:"number",name:"status",description:""},{type:"string",name:"keywords",description:""}],middlewares:[{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"getConsultantsAppointmentList"},{type:"action",title:"[导师后台] 获取学生预约详情",name:"get-tome-item-4b84cd",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/appointment/tome/item"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"getConsultantAppointmentItem"},{type:"action",title:"更新沟通记录",name:"put-contact-note-99ee76",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/consultant/appointment/contact_note"},params:[{type:"number",name:"appointmentId",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"updateContactNote"},{type:"action",title:"上传合同",name:"post-contract-94f653",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/appointment/contract"},params:[{type:"number",name:"appointmentId",description:""},{type:"Upload",name:"file",description:""}],middlewares:[{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"uploadContract"},{type:"action",title:"删除合同",name:"delete-contract-412d9c",description:"",notes:["只能删除未审核通过的合同"],route:{method:"DELETE",path:"/thirdparty/consultant/appointment/contract"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"queue",args:"key=consultant.contract.status"},{name:"sessioncheck3rd",args:"appointment=true"}],filename:"third_party_consultant_appointment",funcname:"deleteContract"}]},{type:"module",title:"导师收藏模块",name:"collect-3rd-e5218f",path:"/thirdparty/consultant",description:"",middlewares:[{name:"session3rd",args:""}],notes:["### 收藏目标的类型\n\n- `feed` 动态\n- `video` 视频"],filename:"third_party_consultant_collect",actions:[{type:"action",title:"检查是否收藏",name:"get-collection-type-id-dc79ad",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/collection/:type/:id"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"number",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_collect",funcname:"isCollected"},{type:"action",title:"收藏",name:"post-collection-type-id-cb85a0",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/collection/:type/:id"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"string",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_collect",funcname:"collect"},{type:"action",title:"取消收藏",name:"delete-collection-type-id-6c7dea",description:"",notes:[],route:{method:"DELETE",path:"/thirdparty/consultant/collection/:type/:id"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"string",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_collect",funcname:"discard"},{type:"action",title:"获得收藏列表",name:"get-collection-type-3e557b",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/collection/:type"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_collect",funcname:"getList"},{type:"action",title:"获得收藏列表",name:"get-collection-composite-13f25e",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/collection/composite"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_collect",funcname:"getCompositeList"},{type:"action",title:"查询收藏次数",name:"get-collection-type-id-count-85fc77",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/collection/:type/:id/count"},params:[{type:"string",name:"type",description:"收藏目标的类型"},{type:"number",name:"id",description:"收藏目标的ID"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_collect",funcname:"getFavoriteCount"}]},{type:"module",title:"导师点赞模块",name:"like-3rd-b405c7",path:"/thirdparty/consultant",description:"这个模块可以用于多种数据的点赞逻辑",middlewares:[{name:"session3rd",args:""}],notes:["点赞目标的类型\n\n- `feed` - 动态\n- `feedComment` - 动态评论\n- `video` - 视频"],filename:"third_party_consultant_like",actions:[{type:"action",title:"检查是否点赞",name:"get-favorite-type-id-63157c",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/favorite/:type/:id"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_like",funcname:"isFavorite"},{type:"action",title:"查询点赞次数",name:"get-favorite-type-id-count-ae3c7e",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/favorite/:type/:id/count"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_like",funcname:"getFavoriteCount"},{type:"action",title:"点赞",name:"post-favorite-type-id-0e94b8",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/favorite/:type/:id"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_like",funcname:"like"},{type:"action",title:"取消点赞",name:"delete-favorite-type-id-a9f230",description:"",notes:[],route:{method:"DELETE",path:"/thirdparty/consultant/favorite/:type/:id"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"string",name:"id",description:"点赞目标的ID"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_like",funcname:"dislike"},{type:"action",title:"获得点赞列表",name:"get-favorite-type-816ca5",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/favorite/:type"},params:[{type:"string",name:"type",description:"点赞目标的类型"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_consultant_like",funcname:"getList"}]},{type:"module",title:"导师推送模块",name:"notification3rd-5c8af9",path:"/thirdparty/consultant/notification",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"third_party_consultant_notification",actions:[{type:"action",title:"获取教师推送消息列表",name:"get-list-a0610f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/notification/list"},params:[{type:"boolean",name:"notMarkRead",description:"（客户端可选）不要标记已读"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_consultant_notification",funcname:"list"}]},{type:"module",title:"导师推送设备管理",name:"push-device3rd-53c0a6",path:"/thirdparty/consultant/push/device",description:"",middlewares:[],notes:[],filename:"third_party_consultant_push_device",actions:[{type:"action",title:"注册设备",name:"put-912415",description:"",notes:["这个接口是可选的。注册设备有两个方式：\n1. 调用此接口，提供需要的参数即可\n2. 请求任意接口时，添加HTTP头`x-xxd-push-reg-id`, 数据为极光推送的RegistrationId"],route:{method:"PUT",path:"/thirdparty/consultant/push/device/"},params:[{type:"string",name:"uid",description:"(可选，应用中不需要传)"},{type:"string",name:"regId",description:"极光推送的RegistrationId"},{type:"number",name:"consultantId",description:"(可选，应用中不需要传)"},{type:"string",name:"version",description:"(可选，应用中不需要传) 如：`1.0.6`"},{type:"string",name:"platform",description:"(可选，应用中不需要传) `ios` or `android`"}],middlewares:[],filename:"third_party_consultant_push_device",funcname:"register"},{type:"action",title:"获得推送设备的所有版本信息",name:"get-versions-5db944",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/push/device/versions"},params:[],middlewares:[{name:"admincheck",args:""}],filename:"third_party_consultant_push_device",funcname:"allVersions"}]},{type:"module",title:"导师问答模块",name:"thirdparty-consultant-question-7773e3",path:"/thirdparty/consultant/questions",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"third_party_consultant_question",actions:[{type:"action",title:"获取问答列表",name:"get-list-941e97",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"askerId",description:""},{type:"number",name:"answeredConsultantId",description:"筛选某个顾问回答过的问题"},{type:"boolean",name:"answered",description:"是否已回答的"},{type:"number",name:"schoolId",description:""},{type:"string",name:"keyword",description:""},{type:"boolean",name:"withAnswers",description:"同时查出答案等信息"},{type:"boolean",name:"isClassic",description:"经典问题，只有true有效"},{type:"string",name:"secondOrder",description:"APP排序参数，默认 <empty> | least-answers-first | most-answers-first"},{type:"string",name:"targetCountryId",description:"筛选项"},{type:"string",name:"targetDegreeId",description:"筛选项"},{type:"string",name:"location",description:"筛选项"}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getQuestions"},{type:"action",title:"获取我回答过的问答列表",name:"get-list-answered-by-me-b5e995",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/list/answered_by_me"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"secondOrder",description:"APP排序参数，默认 <empty> | least-answers-first | most-answers-first"},{type:"string",name:"targetCountryId",description:"筛选项"},{type:"string",name:"targetDegreeId",description:"筛选项"},{type:"string",name:"location",description:"筛选项"}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getMyAnsweredQuestions"},{type:"action",title:"获取某教师回答过的问答列表",name:"get-list-answered-0a431d",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/list/answered"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"consultantId",description:""}],middlewares:[],filename:"third_party_consultant_question",funcname:"getHottestQuestions"},{type:"action",title:"获取我重点关注的问答列表",name:"get-list-marked-9f0baf",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/list/marked"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"secondOrder",description:"APP排序参数，默认 <empty> | least-answers-first | most-answers-first"},{type:"string",name:"targetCountryId",description:"筛选项"},{type:"string",name:"targetDegreeId",description:"筛选项"},{type:"string",name:"location",description:"筛选项"},{type:"string",name:"secondOrder",description:"APP排序参数，默认 <empty> | least-answers-first | most-answers-first"},{type:"string",name:"targetCountryId",description:"筛选项"},{type:"string",name:"targetDegreeId",description:"筛选项"},{type:"string",name:"location",description:"筛选项"}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getMarkedQuestions"},{type:"action",title:"获取问答详情",name:"get-id-bf78eb",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/:id"},params:[{type:"number",name:"id",description:""},{type:"number",name:"blockLimit",description:"Default as 10, maximum value is 1000."},{type:"boolean",name:"skipCount",description:""}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getQuestion"},{type:"action",title:"回答问题",name:"post-questionId-answer-da212d",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/questions/:questionId/answer"},params:[{type:"number",name:"questionId",description:""},{type:"string",name:"content",description:""},{type:"Upload",name:"voice",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"answerQuestion"},{type:"action",title:"发送用户信息完善请求",name:"post-questionId-requestInfo-6ec366",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/questions/:questionId/requestInfo"},params:[{type:"number",name:"questionId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"sendInfoRequest"},{type:"action",title:"重点关注某个问题",name:"post-questionId-mark-521b3c",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/questions/:questionId/mark"},params:[{type:"number",name:"questionId",description:""}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"consultantMarkQuestion"},{type:"action",title:"取消重点关注",name:"delete-questionId-mark-41c8c7",description:"",notes:[],route:{method:"DELETE",path:"/thirdparty/consultant/questions/:questionId/mark"},params:[{type:"number",name:"questionId",description:""}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"consultantUnmarkQuestion"},{type:"action",title:"搜索可用于转介绍的教师",name:"get-share-consultants-search-76b846",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/share/consultants/search"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_consultant_question",funcname:"searchShareableConsultant"},{type:"action",title:"获取用于转介绍的教师目录",name:"get-share-consultants-383e1a",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/share/consultants"},params:[],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getShareableConsultantList"},{type:"action",title:"获得教师问答排名数据",name:"get-ranking-period-eb60eb",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/ranking/:period"},params:[{type:"string",name:"period",description:"= weekly|monthly"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"refresh",description:"刷新缓存"}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getRankingData"},{type:"action",title:"分享问题",name:"post-share-questionId-bcc289",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/questions/share/:questionId"},params:[{type:"number",name:"questionId",description:""},{type:"number",name:"receiverId",description:""},{type:"string",name:"note",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"shareQuestion"},{type:"action",title:"接收分享的问题",name:"post-share-questionId-receive-8f9a5c",description:"",notes:[],route:{method:"POST",path:"/thirdparty/consultant/questions/share/:questionId/receive"},params:[{type:"number",name:"questionId",description:""},{type:"number",name:"senderId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"receiveSharedQuestion"},{type:"action",title:"我分享的问题列表",name:"get-share-sent-bdbf97",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/share/sent"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getShareSentQuestion"},{type:"action",title:"分享给我的问题列表",name:"get-share-received-288f4f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/consultant/questions/share/received"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:"question=true"}],filename:"third_party_consultant_question",funcname:"getShareReceivedQuestion"}]},{type:"module",title:"学生导师互动",name:"thirdparty-interaction-6a4933",path:"/thirdparty/interaction",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"third_party_interaction",actions:[{type:"action",title:"获取待处理列表",name:"get-list-pending-ea1d73",description:"",notes:[],route:{method:"GET",path:"/thirdparty/interaction/list/pending"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_interaction",funcname:"getPendingList"},{type:"action",title:"获取服务中列表",name:"get-list-serving-8f4877",description:"",notes:[],route:{method:"GET",path:"/thirdparty/interaction/list/serving"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_interaction",funcname:"getServingList"},{type:"action",title:"获取全部列表",name:"get-list-all-26928b",description:"",notes:[],route:{method:"GET",path:"/thirdparty/interaction/list/all"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"appointmentStatus",description:""}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_interaction",funcname:"getAllList"},{type:"action",title:"互动详情",name:"get-user-169828",description:"",notes:[],route:{method:"GET",path:"/thirdparty/interaction/user"},params:[{type:"number",name:"userId",description:"用户id"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_interaction",funcname:"getInteractionItem"},{type:"action",title:"编辑沟通备忘录",name:"put-user-contact-note-7dad4f",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/interaction/user/contact_note"},params:[{type:"number",name:"userId",description:"用户id"},{type:"string",name:"contactNote",description:""}],middlewares:[{name:"sessioncheck3rd",args:""},{name:"singlepass",args:""}],filename:"third_party_interaction",funcname:"updateContactNote"},{type:"action",title:"获取手机号接口",name:"get-user-phone-a2e04a",description:"",notes:[],route:{method:"GET",path:"/thirdparty/interaction/user/phone"},params:[{type:"number",name:"userId",description:"用户id"},{type:"string",name:"sourceType",description:"枚举值：question|appointment"},{type:"string",name:"sourceId",description:"获取来源的 ID"}],middlewares:[{name:"sessioncheck3rd",args:""},{name:"queue",args:"key=interaction.user.phone"}],filename:"third_party_interaction",funcname:"getUserPhone"},{type:"action",title:"资源获取数据查询接口",name:"get-user-phone-stat-cb7d52",description:"",notes:[],route:{method:"GET",path:"/thirdparty/interaction/user/phone/stat"},params:[{type:"Date",name:"startTime",description:""},{type:"Date",name:"endTime",description:""},{type:"string",name:"keyword",description:"根据导师英文名/真实姓名/手机号筛选（输入为纯数字则按照手机号精确匹配）"},{type:"number",name:"organizationId",description:""}],middlewares:[{name:"admincheck",args:"key=interaction.phone.stat"}],filename:"third_party_interaction",funcname:"getUserPhoneStat"}]},{type:"module",title:"第三方机构管理",name:"thirdparty-organization-2d23a9",path:"/thirdparty/organization",description:"",middlewares:[],notes:[],filename:"third_party_organization",actions:[{type:"action",title:"获取机构详情",name:"get-item-id-b9f6b4",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/item/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_organization",funcname:"getItem"},{type:"action",title:"获取机构老师列表",name:"get-item-id-consultants-0f8bd4",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/item/:id/consultants"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_organization",funcname:"getConsultantList"},{type:"action",title:"获取机构Offer案例TAB页数据",name:"get-item-id-view-offers-bf9d67",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/item/:id/view/offers"},params:[{type:"type",name:"id",description:""}],middlewares:[],filename:"third_party_organization",funcname:"getOffersAndStories"},{type:"action",title:"获取机构案例故事列表",name:"get-item-id-stories-108739",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/item/:id/stories"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_organization",funcname:"getStoryList"},{type:"action",title:"获取机构Offer列表",name:"get-item-id-offers-0a9c82",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/item/:id/offers"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_organization",funcname:"getOffers"},{type:"action",title:"获取后台机构管理列表",name:"get-admin-list-99a387",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/admin/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=thirdparty.organization.list"}],filename:"third_party_organization",funcname:"getAdminList"},{type:"action",title:"获取后台机构数据",name:"get-admin-item-id-ecce82",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/admin/item/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"third_party_organization",funcname:"getAdminItem"},{type:"action",title:"获取编辑选项数据",name:"get-item-options-daf0c7",description:"",notes:[],route:{method:"GET",path:"/thirdparty/organization/item/options"},params:[],middlewares:[],filename:"third_party_organization",funcname:"getItemOptions"},{type:"action",title:"添加机构",name:"post-fc2d1d",description:"",notes:[],route:{method:"POST",path:"/thirdparty/organization/"},params:[{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"logoUrl",description:""},{type:"number",name:"years",description:""},{type:"boolean",name:"online",description:""},{type:"Array.<string>",name:"cities",description:""},{type:"Array.<number>",name:"business",description:""},{type:"Array.<number>",name:"adeptRegions",description:""},{type:"Array.<number>",name:"adeptDegrees",description:""},{type:"string",name:"serviceContent",description:""},{type:"string",name:"serviceProcess",description:""},{type:"Array.<string>",name:"photos",description:""}],middlewares:[{name:"admincheck",args:"key=thirdparty.organization.create"}],filename:"third_party_organization",funcname:"createItem"},{type:"action",title:"编辑机构",name:"put-id-e440ac",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/organization/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"string",name:"logoUrl",description:""},{type:"number",name:"years",description:""},{type:"boolean",name:"online",description:""},{type:"Array.<string>",name:"cities",description:""},{type:"Array.<number>",name:"business",description:""},{type:"Array.<number>",name:"adeptRegions",description:""},{type:"Array.<number>",name:"adeptDegrees",description:""},{type:"string",name:"serviceContent",description:""},{type:"string",name:"serviceProcess",description:""},{type:"Array.<string>",name:"photos",description:""}],middlewares:[],filename:"third_party_organization",funcname:"updateItem"},{type:"action",title:"设置机构上线状态",name:"put-enabled-67093d",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/organization/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"third_party_organization",funcname:"toggleItemEnabled"}]},{type:"module",title:"解决方案",name:"thirdparty-plan-c667ec",path:"/thirdparty/plan",description:"",middlewares:[],notes:[],filename:"third_party_plan",actions:[{type:"action",title:"获取分类数据",name:"get-types-dcec14",description:"",notes:[],route:{method:"GET",path:"/thirdparty/plan/types"},params:[],middlewares:[],filename:"third_party_plan",funcname:"getTypes"},{type:"action",title:"获取方案列表",name:"get-list-44968f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/plan/list"},params:[{type:"number",name:"typeId",description:"分类ID"},{type:"Array.<number>",name:"subtypeIds",description:"小类筛选"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_plan",funcname:"getList"},{type:"action",title:"获取方案详情",name:"get-item-4eec6f",description:"",notes:[],route:{method:"GET",path:"/thirdparty/plan/item"},params:[{type:"number",name:"id",description:"方案id"}],middlewares:[],filename:"third_party_plan",funcname:"getItem"},{type:"action",title:"获取大牛列表",name:"get-consultants-d5a4c6",description:"",notes:[],route:{method:"GET",path:"/thirdparty/plan/consultants"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_plan",funcname:"getConsultants"}]},{type:"module",title:"方案故事",name:"thirdparty-plan-story-47f397",path:"/thirdparty/plan/story",description:"",middlewares:[],notes:[],filename:"third_party_plan_story",actions:[{type:"action",title:"获取故事列表",name:"get-list-698d47",description:"",notes:[],route:{method:"GET",path:"/thirdparty/plan/story/list"},params:[{type:"number",name:"planId",description:"可选参数，方案 ID"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_plan_story",funcname:"getList"},{type:"action",title:"获取故事详情",name:"get-item-1edf25",description:"",notes:[],route:{method:"GET",path:"/thirdparty/plan/story/item"},params:[{type:"number",name:"id",description:"故事id"},{type:"boolean",name:"silent",description:""},{type:"boolean",name:"showHidden",description:""}],middlewares:[],filename:"third_party_plan_story",funcname:"getStoryDetails"},{type:"action",title:"增加分享计数",name:"post-share-64e98c",description:"",notes:[],route:{method:"POST",path:"/thirdparty/plan/story/share"},params:[{type:"number",name:"id",description:"故事id"}],middlewares:[],filename:"third_party_plan_story",funcname:"incrementShareCount"}]},{type:"module",title:"服务订单",name:"thirdparty-service-order-061c77",path:"/thirdparty/service_order",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"third_party_service_order",actions:[{type:"action",title:"我的服务订单列表",name:"get-list-mine-ac25f9",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service_order/list/mine"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"third_party_service_order",funcname:"getList"},{type:"action",title:"服务订单详情",name:"get-item-mine-b8f2f9",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service_order/item/mine"},params:[{type:"number",name:"id",description:"服务订单id"}],middlewares:[{name:"sessioncheck",args:""}],filename:"third_party_service_order",funcname:"getItemForUser"},{type:"action",title:"[导师端] 服务订单详情",name:"get-item-tome-fb4a32",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service_order/item/tome"},params:[{type:"number",name:"id",description:"服务订单id"}],middlewares:[{name:"sessioncheck3rd",args:""}],filename:"third_party_service_order",funcname:"getItemForConsultant"},{type:"action",title:"确认下单",name:"post-item-submit-25b7d2",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service_order/item/submit"},params:[{type:"number",name:"id",description:"服务订单id"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"submitOrder"},{type:"action",title:"删除订单",name:"post-item-abort-37496b",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service_order/item/abort"},params:[{type:"number",name:"id",description:"服务订单id"},{type:"string",name:"abortReason",description:""}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"abortOrder"},{type:"action",title:"[导师端] 确定下单",name:"post-item-confirm-72648b",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service_order/item/confirm"},params:[{type:"number",name:"id",description:"服务订单id"}],middlewares:[{name:"sessioncheck3rd",args:""},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"confirmOrder"},{type:"action",title:"[导师端] 结束服务",name:"post-item-complete-eb0207",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service_order/item/complete"},params:[{type:"number",name:"id",description:"服务订单id"}],middlewares:[{name:"sessioncheck3rd",args:""},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"completeService"},{type:"action",title:"[管理后台] 订单列表",name:"get-list-admin-e14414",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service_order/list/admin"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"status",description:"订单状态"},{type:"number",name:"consultantId",description:""},{type:"Date",name:"createdBefore",description:"开始时间"},{type:"Date",name:"createdAfter",description:"结束时间"}],middlewares:[{name:"admincheck",args:"key=order.list"}],filename:"third_party_service_order",funcname:"getListForAdmin"},{type:"action",title:"[管理后台] 撤销订单",name:"post-item-revoke-9b70a9",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service_order/item/revoke"},params:[{type:"number",name:"id",description:"订单id"}],middlewares:[{name:"admincheck",args:"key=order.revoke"},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"revokeOrder"},{type:"action",title:"[管理后台] 恢复订单",name:"post-item-revoke-revert-0826ff",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service_order/item/revoke/revert"},params:[{type:"number",name:"id",description:"订单id"}],middlewares:[{name:"admincheck",args:"key=order.revert"},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"revertRevokedOrder"},{type:"action",title:"[管理后台] 编辑管理备注",name:"put-item-admin-note-a2a930",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/service_order/item/admin_note"},params:[{type:"number",name:"id",description:"订单id"},{type:"string",name:"adminNote",description:"管理备注内容"}],middlewares:[{name:"admincheck",args:"key=order.update.admin_note"},{name:"singlepass",args:""}],filename:"third_party_service_order",funcname:"updateAdminNote"}]},{type:"module",title:"第三方服务方案",name:"thirdparty-service-plan-8085fc",path:"/thirdparty/service/plan",description:"",middlewares:[],notes:[],filename:"third_party_service_plan",actions:[{type:"action",title:"获取分类数据",name:"get-types-0996ad",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/types"},params:[],middlewares:[],filename:"third_party_service_plan",funcname:"getTypes"},{type:"action",title:"获取方案列表",name:"get-list-c610e8",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/list"},params:[{type:"number",name:"typeId",description:"分类ID"},{type:"Array.<number>",name:"subtypeIds",description:"小类筛选"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_service_plan",funcname:"getList"},{type:"action",title:"获取方案详情",name:"get-item-0f5257",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/item"},params:[{type:"number",name:"id",description:"方案id"}],middlewares:[],filename:"third_party_service_plan",funcname:"getItem"},{type:"action",title:"获取大牛列表",name:"get-consultant-list-1a7d15",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/consultant/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_service_plan",funcname:"getConsultantList"},{type:"action",title:"[管理后台] 获取大牛列表",name:"get-consultants-admin-f5c1bb",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/consultants/admin"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=plan.consultant.list"}],filename:"third_party_service_plan",funcname:"getConsultantListForAdmin"},{type:"action",title:"[管理后台] 获取方案详情",name:"get-item-admin-0881e3",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/item/admin"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=plan.item"}],filename:"third_party_service_plan",funcname:"getPlanItemForAdmin"},{type:"action",title:"[管理后台] 获取方案列表",name:"get-list-admin-e0a877",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/list/admin"},params:[{type:"number",name:"typeId",description:"分类ID"},{type:"Array.<number>",name:"subtypeIds",description:""},{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=plan.list"}],filename:"third_party_service_plan",funcname:"getListForAdmin"},{type:"action",title:"[管理后台] 调整方案顺序",name:"post-move-5b7c6c",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service/plan/move"},params:[{type:"number",name:"id",description:"方案id"},{type:"string",name:"direction",description:"up/down 移动方向"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.update.order"}],filename:"third_party_service_plan",funcname:"updatePlanOrder"},{type:"action",title:"创建方案",name:"post-item-813937",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service/plan/item"},params:[{type:"number",name:"typeId",description:""},{type:"Array.<number>",name:"subtypeIds",description:""},{type:"string",name:"name",description:""},{type:"string",name:"coverTag",description:""},{type:"Array.<string>",name:"marketTags",description:""},{type:"string",name:"coverUrl",description:"封面图，提交时先上传封面再调用创建接口"},{type:"string",name:"videoUrl",description:"视频，只能上传MP4，提交时先上传视频再调用创建接口"},{type:"string",name:"videoThumbnailUrl",description:""},{type:"number",name:"videoWidth",description:""},{type:"number",name:"videoHeight",description:""},{type:"number",name:"consultantId",description:""},{type:"Array.<{url: string, height: number, width: number}>",name:"description",description:"由一个长图切出来的多个短图，提交时先上传好再调用创建接口"},{type:"Array.<{url: string, height: number, width: number}>",name:"procedure",description:"由一个长图切出来的多个短图，提交时先上传好再调用创建接口"},{type:"Array.<{url: string, height: number, width: number}>",name:"feesDescription",description:"由一个长图切出来的多个短图，提交时先上传好再调用创建接口"},{type:"json",name:"adminData",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.create"}],filename:"third_party_service_plan",funcname:"createPlan"},{type:"action",title:"[管理后台] 编辑方案",name:"put-item-90e2f5",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/service/plan/item"},params:[{type:"number",name:"id",description:""},{type:"Array.<number>",name:"subtypeIds",description:""},{type:"string",name:"name",description:""},{type:"string",name:"coverTag",description:""},{type:"Array.<string>",name:"marketTags",description:""},{type:"string",name:"coverUrl",description:"封面图，提交时先上传封面再调用创建接口"},{type:"string",name:"videoUrl",description:"视频，只能上传MP4，提交时先上传视频再调用创建接口"},{type:"string",name:"videoThumbnailUrl",description:""},{type:"number",name:"videoWidth",description:""},{type:"number",name:"videoHeight",description:""},{type:"Array.<{url: string, height: number, width: number}>",name:"description",description:"由一个长图切出来的多个短图，提交时先上传好再调用创建接口"},{type:"Array.<{url: string, height: number, width: number}>",name:"procedure",description:"由一个长图切出来的多个短图，提交时先上传好再调用创建接口"},{type:"Array.<{url: string, height: number, width: number}>",name:"feesDescription",description:"由一个长图切出来的多个短图，提交时先上传好再调用创建接口"},{type:"json",name:"adminData",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.update"}],filename:"third_party_service_plan",funcname:"updatePlan"},{type:"action",title:"[管理后台] 上下线方案",name:"put-item-enabled-a7739d",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/service/plan/item/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[],filename:"third_party_service_plan",funcname:"togglePlanEnabled"},{type:"action",title:"[管理后台] 删除方案",name:"delete-item-1d7aa3",description:"",notes:[],route:{method:"DELETE",path:"/thirdparty/service/plan/item"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.delete"}],filename:"third_party_service_plan",funcname:"deletePlan"},{type:"action",title:"[管理后台] 获取方案关联的院校列表",name:"get-school-list-89896b",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/plan/school/list"},params:[{type:"string",name:"keyword",description:"关键字搜索"},{type:"string",name:"countryId",description:"国家ID"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=plan.school.relations"}],filename:"third_party_service_plan",funcname:"getSchoolRelations"},{type:"action",title:"[管理后台] 修改院校关联的方案列表",name:"post-school-relations-805cc9",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service/plan/school/relations"},params:[{type:"number",name:"schoolId",description:"学校id"},{type:"Array.<number>",name:"planIds",description:"方案数组"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.school.update.relations"}],filename:"third_party_service_plan",funcname:"updateSchoolRelations"}]},{type:"module",title:"第三方服务故事",name:"thirdparty-service-story-93a71f",path:"/thirdparty/service/story",description:"",middlewares:[],notes:[],filename:"third_party_service_story",actions:[{type:"action",title:"获取故事列表",name:"get-list-f7d9e1",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/story/list"},params:[{type:"number",name:"planId",description:"可选参数，方案 ID"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"third_party_service_story",funcname:"getList"},{type:"action",title:"获取故事详情",name:"get-item-dd1699",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/story/item"},params:[{type:"number",name:"id",description:"故事id"},{type:"boolean",name:"silent",description:""},{type:"boolean",name:"showHidden",description:""}],middlewares:[],filename:"third_party_service_story",funcname:"getItem"},{type:"action",title:"增加分享计数",name:"post-share-82e572",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service/story/share"},params:[{type:"number",name:"id",description:"故事id"}],middlewares:[],filename:"third_party_service_story",funcname:"incrementShareCount"},{type:"action",title:"[管理后台] 故事列表",name:"get-list-admin-58bc99",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/story/list/admin"},params:[{type:"number",name:"consultantId",description:"可选参数，教师 ID"},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=plan.story.list"}],filename:"third_party_service_story",funcname:"getListForAdmin"},{type:"action",title:"[管理后台] 获取故事详情",name:"get-item-admin-892613",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/story/item/admin"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=plan.story.item"}],filename:"third_party_service_story",funcname:"getItemForAdmin"},{type:"action",title:"[管理后台] 方案故事 隐藏/取消隐藏",name:"post-item-enabled-cd929c",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service/story/item/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.story.enabled"}],filename:"third_party_service_story",funcname:"setStoryEnabled"},{type:"action",title:"[管理后台] 获取故事选项数据",name:"get-options-425432",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/story/options"},params:[],middlewares:[{name:"admincheck",args:"key=plan.story.options"}],filename:"third_party_service_story",funcname:"getStoryOptions"},{type:"action",title:"[管理后台] 获取故事表单",name:"get-form-866b8a",description:"",notes:[],route:{method:"GET",path:"/thirdparty/service/story/form"},params:[{type:"number",name:"typeId",description:""}],middlewares:[{name:"admincheck",args:"key=plan.story.form"}],filename:"third_party_service_story",funcname:"getStoryForm"},{type:"action",title:"[管理后台] 创建故事",name:"post-item-509337",description:"",notes:[],route:{method:"POST",path:"/thirdparty/service/story/item"},params:[{type:"number",name:"planId",description:""},{type:"string",name:"title",description:"可以是 null"},{type:"boolean",name:"userIsAnonymous",description:""},{type:"string",name:"userName",description:"可以是null"},{type:"string",name:"userAvatar",description:"可以是 null"},{type:"number",name:"serviceStatus",description:""},{type:"string",name:"coverUrl",description:""},{type:"number",name:"coverWidth",description:""},{type:"number",name:"coverHeight",description:""},{type:"string",name:"videoUrl",description:"videoUrl 和 images 只能有一个"},{type:"string",name:"videoThumbnailUrl",description:""},{type:"Array.<{url: string, text: string}>",name:"images",description:""},{type:"string",name:"userStatusText",description:""},{type:"string",name:"formData",description:"json字符串"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.story.create"}],filename:"third_party_service_story",funcname:"createStory"},{type:"action",title:"[管理后台] 更新故事",name:"put-item-332b13",description:"",notes:[],route:{method:"PUT",path:"/thirdparty/service/story/item"},params:[{type:"number",name:"id",description:""},{type:"string",name:"title",description:""},{type:"boolean",name:"userIsAnonymous",description:""},{type:"string",name:"userName",description:""},{type:"string",name:"userAvatar",description:""},{type:"number",name:"serviceStatus",description:""},{type:"string",name:"coverUrl",description:""},{type:"number",name:"coverWidth",description:""},{type:"number",name:"coverHeight",description:""},{type:"string",name:"videoUrl",description:""},{type:"string",name:"videoThumbnailUrl",description:""},{type:"Array.<{url: string, text: string}>",name:"images",description:""},{type:"string",name:"userStatusText",description:""},{type:"string",name:"formData",description:"json字符串"}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=plan.story.update"}],filename:"third_party_service_story",funcname:"updateStory"}]},{type:"module",title:"小工具合集",name:"tool-313073",path:"/tool",description:"",middlewares:[],notes:[],filename:"tool",actions:[{type:"action",title:"GPA计算",name:"get-gpa-calc-d27188",description:"GPA计算器，能得到所有算法的结果。",notes:["### GPA计算器说明\n\nGPA计算器接受每门课的成绩和学分，得出各种算法下计算出的学分绩（GPA），如：\n\n#### 输入：\n\n成绩 | 学分\n----|----:\n80 | 2\n87 | 2\n93 | 3\n99 | 1\n\n#### 输出：\n\n算法 | GPA\n----|----\n标准加权算法 | 3.5/4.0\n标准4.0算法 | 3.5/4.0\n改进4.0算法（一） | 3.7/4.0\n改进4.0算法（二） | 3.7/4.0\n北大4.0算法 | 3.6/4.0\n加拿大4.3算法 | 4.0/4.3\n中科大4.3算法 | 3.7/4.3\n上海交大4.3算法 | 3.7/4.3\n\n> 同时附带一些算法公式和对照表等信息，具体看接口响应便知","### 成绩参数格式说明：\n```\n<成绩1>:<学分1>,<成绩2>:<学分2>,<成绩3>:<学分3>,...\n```\n\n成绩必须为0-100，学分为两位数以内的正数。\n\n可以用如下的正则表达式测试：\n\n```\n/^(?:100(?:\\.0+)?|[1-9]?[0-9](?:\\.[0-9]+)?):(?:[1-9]?[0-9](?:\\.[0-9]+)?)(?:,(?:100(?:\\.0+)?|[1-9]?[0-9](?:\\.[0-9]+)?):(?:[1-9]?[0-9](?:\\.[0-9]+)?))*$/\n```"],route:{method:"GET",path:"/tool/gpa_calc"},params:[{type:"string",name:"scores",description:"分数和学分列表，处理成 100:2,90:1 这种格式。"}],middlewares:[],filename:"tool",funcname:"gpaCalculate"},{type:"action",title:"GPA计算的算法",name:"get-gpa-calc-algorithms-d7b251",description:"",notes:[],route:{method:"GET",path:"/tool/gpa_calc/algorithms"},params:[],middlewares:[],filename:"tool",funcname:"gpaCalculateAlgorithms"}]},{type:"module",title:"打点管理",name:"track-6bc008",path:"",description:"",middlewares:[],notes:[],filename:"track",actions:[{type:"action",title:"",name:"get-track-action-1b1114",description:"",notes:[],route:{method:"GET",path:"/track/action"},params:[{type:"string",name:"url",description:""},{type:"number",name:"actionId",description:""},{type:"string",name:"note",description:""},{type:"string",name:"nextUrl",description:""}],middlewares:[],filename:"track",funcname:"trackAction"},{type:"action",title:"",name:"get-track-news-id-146853",description:"",notes:[],route:{method:"GET",path:"/track/news/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"track",funcname:"trackNews"},{type:"action",title:"",name:"get-track-visit-9721a9",description:"",notes:[],route:{method:"GET",path:"/track/visit"},params:[{type:"string",name:"url",description:""},{type:"string",name:"note",description:""}],middlewares:[],filename:"track",funcname:"trackPage"},{type:"action",title:"获取路由定义列表（全部）",name:"get-track-routes-c9cab2",description:"",notes:[],route:{method:"GET",path:"/track/routes"},params:[],middlewares:[{name:"admincheck",args:"key=track.route.list"}],filename:"track",funcname:"routes"},{type:"action",title:"创建打点行为",name:"post-track-action-d350bd",description:"",notes:[],route:{method:"POST",path:"/track/action"},params:[{type:"string",name:"name",description:""},{type:"string",name:"displayName",description:""},{type:"string",name:"baiduNote",description:""},{type:"number",name:"routeId",description:""},{type:"number",name:"nextRouteId",description:""},{type:"string",name:"groupId",description:""},{type:"string",name:"note",description:""}],middlewares:[{name:"admincheck",args:"key=track.action.create"}],filename:"track",funcname:"createRouteAction"},{type:"action",title:"更新打点行为",name:"put-track-action-id-c1c359",description:"",notes:[],route:{method:"PUT",path:"/track/action/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"displayName",description:""},{type:"string",name:"baiduNote",description:""},{type:"number",name:"routeId",description:""},{type:"number",name:"nextRouteId",description:""},{type:"string",name:"groupId",description:""},{type:"string",name:"note",description:""}],middlewares:[{name:"admincheck",args:"key=track.action.update"}],filename:"track",funcname:"updateRouteAction"},{type:"action",title:"获取打点行为的点击量",name:"get-track-action-count-bd30c2",description:"",notes:[],route:{method:"GET",path:"/track/action/count"},params:[{type:"string",name:"actionId",description:""},{type:"string",name:"group",description:"分组 默认不分组、note、time、hmsr"},{type:"string",name:"timeTypes",description:"选择时间分组时传入类型 默认按天分组、hours、days、months、years"},{type:"date",name:"startTime",description:""},{type:"date",name:"endTime",description:""}],middlewares:[{name:"admincheck",args:"key=track.action.count"}],filename:"track",funcname:"getUserActionCount"},{type:"action",title:"获得打点行为列表",name:"get-track-actions-137fb5",description:"",notes:[],route:{method:"GET",path:"/track/actions"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"keyword",description:""},{type:"string",name:"groupId",description:""},{type:"number",name:"routeId",description:""},{type:"number",name:"nextRouteId",description:""},{type:"string",name:"for",description:"= 'select'"}],middlewares:[{name:"admincheck",args:"key=track.action.list"}],filename:"track",funcname:"listRouteAction"},{type:"action",title:"获得打点行为",name:"get-track-action-id-34750e",description:"",notes:[],route:{method:"GET",path:"/track/action/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=track.action.get"}],filename:"track",funcname:"getRouteAction"},{type:"action",title:"获得已打点行为列表",name:"get-track-actions-actual-eb3315",description:"",notes:[],route:{method:"GET",path:"/track/actions/actual"},params:[{type:"number",name:"routeId",description:""},{type:"number",name:"nextRouteId",description:""}],middlewares:[{name:"admincheck",args:"key=track.action.list.actual"}],filename:"track",funcname:"listActualRouteAction"},{type:"action",title:"获得打点行为组",name:"get-track-action-groups-611f15",description:"",notes:[],route:{method:"GET",path:"/track/action/groups"},params:[],middlewares:[{name:"admincheck",args:"key=track.action.groups"}],filename:"track",funcname:"getRouteActionGroups"},{type:"action",title:"获得路由树列表",name:"get-track-trees-c5a713",description:"",notes:[],route:{method:"GET",path:"/track/trees"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=track.tree.list"}],filename:"track",funcname:"listRouteTree"},{type:"action",title:"获得路由树",name:"get-track-tree-id-b4d80b",description:"",notes:[],route:{method:"GET",path:"/track/tree/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=track.tree.get"}],filename:"track",funcname:"getRouteTree"},{type:"action",title:"创建广告访问记录(app端使用)",name:"get-track-ad-launch-id-06b863",description:"",notes:[],route:{method:"GET",path:"/track/ad_launch/:id"},params:[{type:"number",name:"id",description:"广告id"}],middlewares:[],filename:"track",funcname:"trackAdLaunch"}]},{type:"module",title:"翻译模块",name:"translate-3d067c",path:"/translate",description:"",middlewares:[],notes:["### 可翻译资源列表\n\n| 可翻译资源       | Type            | Field               |\n| ---------------- | --------------- | ------------------- |\n| 校友点评         | `alumniComment` | `content`           |\n| 学校专业介绍     | `major`         | `introduction`      |\n| 学校专业申请材料 | `major`         | `material`          |\n| 学校专业申请流程 | `major`         | `flow`              |\n| 学校专业申请要点 | `major`         | `admissionElements` |\n| 学校专业奖学金   | `major`         | `scholarship`       |"],filename:"translate",actions:[{type:"action",title:"翻译接口",name:"get-39cb35",description:"",notes:[],route:{method:"GET",path:"/translate/"},params:[{type:"string",name:"type",description:""},{type:"number",name:"id",description:""},{type:"string",name:"field",description:""}],middlewares:[],filename:"translate",funcname:"translate"}]},{type:"module",title:"异乡好居相关接口",name:"uhome-0a444a",path:"/uhome",description:"",middlewares:[],notes:[],filename:"uhome",actions:[{type:"action",title:"获取学校房源列表",name:"get-house-list-ce3556",description:"",notes:[],route:{method:"GET",path:"/uhome/house/list"},params:[{type:"number",name:"schoolId",description:""},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"refresh",description:"auto refresh per 1 hour"}],middlewares:[],filename:"uhome",funcname:"getHouseList"},{type:"action",title:"注册并获取Token",name:"post-auth-dae4ca",description:"",notes:[],route:{method:"POST",path:"/uhome/auth"},params:[{type:"string",name:"phone",description:"补充手机号时需要"},{type:"string",name:"countryCode",description:"补充手机号时需要"},{type:"string",name:"captcha",description:"补充手机号时需要"}],middlewares:[{name:"sessioncheck",args:""}],filename:"uhome",funcname:"authorize"},{type:"action",title:"跳转到异乡好居页面",name:"get-redirect-fc6294",description:"",notes:[],route:{method:"GET",path:"/uhome/redirect"},params:[{type:"number",name:"schoolId",description:""},{type:"string",name:"sku",description:""}],middlewares:[],filename:"uhome",funcname:"redirect"}]},{type:"module",title:"用户服务",name:"user-d436e4",path:"/user",description:"",middlewares:[],notes:[],filename:"user",actions:[{type:"action",title:"用户登出",name:"get-logout-15f62e",description:"",notes:[],route:{method:"GET",path:"/user/logout"},params:[],middlewares:[],filename:"user",funcname:"logout"},{type:"action",title:"用户登出",name:"get-logout-15f62e",description:"",notes:[],route:{method:"POST",path:"/user/logout"},params:[],middlewares:[],filename:"user",funcname:"logout"},{type:"action",title:"用户登录",name:"post-login-1f1a68",description:"",notes:["国际号码兼容：由于已经没有密码登录场景，这里不做国际号码兼容"],route:{method:"POST",path:"/user/login"},params:[{type:"string",name:"account",description:"手机或邮箱"},{type:"string",name:"password",description:"密码"},{type:"string",name:"token",description:"智课用户token，可以代替账号密码"},{type:"string",name:"from",description:"平台, app, admin, pc, wxapp"},{type:"string",name:"infoVersion",description:"用户信息的版本（APP>1.3.0时需要传递`v2`）"},{type:"string",name:"sourceAction",description:"功能来源"},{type:"string",name:"k",description:"免验证登陆"}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"login"},{type:"action",title:"用户验证码登录",name:"post-login-captcha-bdce81",description:"",notes:[],route:{method:"POST",path:"/user/login/captcha"},params:[{type:"string",name:"account",description:"手机或邮箱"},{type:"string",name:"countryCode",description:"手机的国家代码"},{type:"string",name:"captcha",description:"验证码"},{type:"string",name:"from",description:"平台, app, admin, pc, wxapp"},{type:"string",name:"infoVersion",description:"用户信息的版本（APP>1.3.0时需要传递`v2`）"},{type:"string",name:"sourceAction",description:"功能来源"},{type:"string",name:"k",description:"免验证登陆"}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"loginByCaptcha"},{type:"action",title:"用户登录（智课Token）",name:"post-login-token-7dbe88",description:"",notes:[],route:{method:"POST",path:"/user/login/token"},params:[{type:"string",name:"token",description:"智课用户token，可以代替账号密码"},{type:"string",name:"from",description:"平台, app, admin, pc, wxapp"},{type:"string",name:"source",description:"入口"},{type:"string",name:"sourceAction",description:"用户功能来源，比如：录取率测试、安卓用户注册"},{type:"string",name:"activity",description:"活动名称"},{type:"string",name:"referer",description:"页面来源"}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"loginByToken"},{type:"action",title:"从导师账号切换登录",name:"post-login-from-consultant-bfd94d",description:"",notes:[],route:{method:"POST",path:"/user/login/from/consultant"},params:[],middlewares:[{name:"session3rd",args:""},{name:"sessioncheck3rd",args:""},{name:"queue",args:"key=login"}],filename:"user",funcname:"loginFromConsultantAccount"},{type:"action",title:"从百度APP登录",name:"post-login-baiduapp-eada87",description:"",notes:[],route:{method:"POST",path:"/user/login/baiduapp"},params:[{type:"string",name:"baiduapp",description:""},{type:"string",name:"phoneData",description:""},{type:"string",name:"phoneDataIv",description:""},{type:"string",name:"userData",description:""},{type:"string",name:"userDataIv",description:""},{type:"string",name:"code",description:""}],middlewares:[],filename:"user",funcname:"loginFormBaiduApp"},{type:"action",title:"用户注册",name:"post-register-ace271",description:"",notes:[],route:{method:"POST",path:"/user/register"},params:[{type:"string",name:"name",description:"姓名"},{type:"string",name:"phone",description:"手机号码"},{type:"string",name:"countryCode",description:"手机号国家代码"},{type:"string",name:"weixin",description:"微信号"},{type:"string",name:"password",description:"密码"},{type:"string",name:"captcha",description:"短信验证码"},{type:"string",name:"from",description:"平台 (pc, app, wxapp)"},{type:"string",name:"source",description:"入口"},{type:"string",name:"sourceAction",description:"用户功能来源，比如：录取率测试、安卓用户注册"},{type:"string",name:"pid",description:"(优先级低于Cookie中的pid)"},{type:"string",name:"note",description:"备注"},{type:"string",name:"activity",description:"活动名称"},{type:"string",name:"infoVersion",description:"用户信息的版本（APP>1.3.0时需要传递`v2`）"}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"register"},{type:"action",title:"APP一键登录",name:"post-login-phone-verify-44ae59",description:"",notes:["参数完全继承了register接口，仅将phone,captcha改为了phoneToken"],route:{method:"POST",path:"/user/login/phone/verify"},params:[{type:"string",name:"name",description:"姓名"},{type:"string",name:"phoneToken",description:"手机号码认证AccessToken"},{type:"string",name:"password",description:"密码"},{type:"string",name:"from",description:"平台 (pc, app, wxapp)"},{type:"string",name:"source",description:"入口"},{type:"string",name:"sourceAction",description:"用户功能来源，比如：录取率测试、安卓用户注册"},{type:"string",name:"pid",description:"(优先级低于Cookie中的pid)"},{type:"string",name:"note",description:"备注"},{type:"string",name:"activity",description:"活动名称"},{type:"string",name:"infoVersion",description:"用户信息的版本（APP>1.3.0时需要传递`v2`）"}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"loginByPhoneToken"},{type:"action",title:"注销后的重新注册",name:"post-reassign-bcdc93",description:"",notes:["在登录返回注销代码后 5 分钟内有效"],route:{method:"POST",path:"/user/reassign"},params:[],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"reassign"},{type:"action",title:"百度熊掌号授权登录",name:"post-login-baiduxz-195503",description:"",notes:[],route:{method:"POST",path:"/user/login/baiduxz"},params:[{type:"string",name:"openid",description:""}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"baiduxzLogin"},{type:"action",title:"百度熊掌号授权注册",name:"post-register-baiduxz-b924b6",description:"",notes:[],route:{method:"POST",path:"/user/register/baiduxz"},params:[{type:"string",name:"phone",description:""},{type:"string",name:"countryCode",description:""},{type:"string",name:"captcha",description:""},{type:"string",name:"openid",description:""},{type:"string",name:"accessToken",description:""}],middlewares:[{name:"queue",args:"key=login"}],filename:"user",funcname:"registerBaiduxzUser"},{type:"action",title:"获取图形验证码",name:"get-captcha-image-916c5c",description:"",notes:[],route:{method:"GET",path:"/user/captcha/image"},params:[{type:"boolean",name:"img",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"user",funcname:"getImageCaptcha"},{type:"action",title:"发送手机验证码",name:"post-captcha-6c6f18",description:"",notes:[],route:{method:"POST",path:"/user/captcha"},params:[{type:"string",name:"phone",description:""},{type:"string",name:"countryCode",description:""},{type:"string",name:"captcha",description:"图形验证码（WEB需要用到）"},{type:"string",name:"nonce",description:"如果提供此参数，将以选校帝自己的图形验证码方式验证"}],middlewares:[{name:"singlepass",args:""}],filename:"user",funcname:"sendCaptcha"},{type:"action",title:"发送邮件验证码",name:"post-captcha-email-2bfae0",description:"",notes:[],route:{method:"POST",path:"/user/captcha/email"},params:[{type:"string",name:"email",description:""},{type:"string",name:"captcha",description:"图形验证码"},{type:"string",name:"nonce",description:"如果提供此参数，将以选校帝自己的图形验证码方式验证"}],middlewares:[],filename:"user",funcname:"sendEmailCaptcha"},{type:"action",title:"验证码验证",name:"post-captcha-verify-8b3557",description:"",notes:["也许没人用这个接口了呢。"],route:{method:"POST",path:"/user/captcha/verify"},params:[{type:"string",name:"phone",description:""},{type:"string",name:"countryCode",description:""},{type:"string",name:"captcha",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"user",funcname:"verifyCaptcha"},{type:"action",title:"邮件验证码验证",name:"post-captcha-email-verify-be75e0",description:"",notes:["也许没人用这个接口了呢。"],route:{method:"POST",path:"/user/captcha/email/verify"},params:[{type:"string",name:"email",description:""},{type:"string",name:"captcha",description:""}],middlewares:[{name:"singlepass",args:""}],filename:"user",funcname:"verifyEmailCaptcha"},{type:"action",title:"增加销售标签",name:"put-sale-tag-ff72b3",description:"",notes:[],route:{method:"PUT",path:"/user/sale_tag"},params:[],middlewares:[],filename:"user",funcname:"putSaleTag"},{type:"action",title:"验证二维码是否有效",name:"post-qrcode-verify-aa8e01",description:"",notes:[],route:{method:"POST",path:"/user/qrcode/verify"},params:[{type:"string",name:"token",description:"解析 “用于登录的二维码” 得到的字符串"}],middlewares:[{name:"sessioncheck",args:""}],filename:"user",funcname:"qrcodeVerify"},{type:"action",title:"确认要通过此二维码登录",name:"post-qrcode-confirm-235e45",description:"",notes:[],route:{method:"POST",path:"/user/qrcode/confirm"},params:[{type:"string",name:"token",description:"解析 “用于登录的二维码” 得到的字符串"}],middlewares:[{name:"sessioncheck",args:""}],filename:"user",funcname:"qrcodeConfirm"},{type:"action",title:"二维码登录",name:"post-qrcode-login-4e23d8",description:"",notes:[],route:{method:"POST",path:"/user/qrcode/login"},params:[{type:"string",name:"token",description:"通过二维码登录机制得到的登录参数"}],middlewares:[],filename:"user",funcname:"qrcodeLogin"},{type:"action",title:"获取折线图数据（30天）",name:"get-login-linechart-data-c73064",description:"",notes:[],route:{method:"GET",path:"/user/login_linechart_data"},params:[],middlewares:[],filename:"user",funcname:"loginLineChartData"}]},{type:"module",title:"管理员用户管理",name:"user-admin-a10227",path:"",description:"",middlewares:[],notes:[],filename:"user_admin",actions:[{type:"action",title:"获取管理员",name:"get-admins-5207b9",description:"",notes:[],route:{method:"GET",path:"/admins"},params:[{type:"string",name:"keyword",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"for",description:"= select"}],middlewares:[{name:"admincheck",args:"key=admin.list"}],filename:"user_admin",funcname:"getAdmins"},{type:"action",title:"获取管理员",name:"get-admin-id-71ebad",description:"",notes:[],route:{method:"GET",path:"/admin/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=admin.get"}],filename:"user_admin",funcname:"getAdmin"},{type:"action",title:"启用／禁用管理员",name:"put-admin-id-active-3e2fd3",description:"",notes:[],route:{method:"PUT",path:"/admin/:id/active"},params:[{type:"number",name:"id",description:"管理员编号"},{type:"string",name:"setto",description:"on, off"}],middlewares:[{name:"admincheck",args:"key=admin.active"}],filename:"user_admin",funcname:"activeAdmin"},{type:"action",title:"创建管理员",name:"post-admin-ce8a6e",description:"",notes:[],route:{method:"POST",path:"/admin"},params:[{type:"string",name:"account",description:""},{type:"string",name:"name",description:""},{type:"number",name:"roleId",description:""}],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=admin.create"}],filename:"user_admin",funcname:"createAdmin"},{type:"action",title:"更新管理员",name:"post-admin-id-697bd2",description:"",notes:[],route:{method:"POST",path:"/admin/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"number",name:"roleId",description:""}],middlewares:[{name:"admincheck",args:"key=admin.update"}],filename:"user_admin",funcname:"updateAdmin"},{type:"action",title:"开除管理员",name:"delete-admin-id-becf98",description:"",notes:[],route:{method:"DELETE",path:"/admin/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=admin.dismiss"}],filename:"user_admin",funcname:"dismissAdmin"}]},{type:"module",title:"普通用户管理",name:"user-customer-3366b7",path:"",description:"",middlewares:[],notes:[],filename:"user_customer",actions:[{type:"action",title:"获取用户",name:"get-customers-b8266a",description:"",notes:[],route:{method:"GET",path:"/customers"},params:[{type:"string",name:"keyword",description:""},{type:"string",name:"sourceAction",description:""},{type:"string",name:"note",description:""},{type:"string",name:"allocateDest",description:""},{type:"Date",name:"loginTimeMin",description:""},{type:"Date",name:"loginTimeMax",description:""},{type:"Date",name:"signupTimeMin",description:""},{type:"Date",name:"signupTimeMax",description:""},{type:"Date",name:"updateTimeMin",description:""},{type:"Date",name:"updateTimeMax",description:""},{type:"string",name:"active",description:"on|off"},{type:"string",name:"willing",description:"on|off"},{type:"Number",name:"page",description:""},{type:"Number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=customer.list"}],filename:"user_customer",funcname:"getCustomers"},{type:"action",title:"获取用户",name:"get-customer-id-74e914",description:"",notes:[],route:{method:"GET",path:"/customer/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=customer.get"}],filename:"user_customer",funcname:"getCustomer"},{type:"action",title:"启用／禁用用户",name:"put-customers-id-active-d1e129",description:"",notes:[],route:{method:"PUT",path:"/customers/:id/active"},params:[{type:"number",name:"id",description:"用户编号"},{type:"string",name:"setto",description:"on, off"}],middlewares:[{name:"admincheck",args:"key=customer.active"}],filename:"user_customer",funcname:"activateCustomer"},{type:"action",title:"设为／取消意向用户",name:"put-customers-id-willing-9b7269",description:"",notes:[],route:{method:"PUT",path:"/customers/:id/willing"},params:[{type:"number",name:"id",description:"用户编号"},{type:"string",name:"setto",description:"on, off"}],middlewares:[{name:"admincheck",args:"key=customer.willing"}],filename:"user_customer",funcname:"setWillingCustomer"},{type:"action",title:"编辑用户信息",name:"put-customer-id-0f1768",description:"",notes:[],route:{method:"PUT",path:"/customer/:id"},params:[{type:"number",name:"id",description:"用户编号"},{type:"string",name:"name",description:"用户昵称"},{type:"string",name:"contact",description:"联系电话"},{type:"string",name:"weixin",description:"微信号"},{type:"string",name:"email",description:""},{type:"string",name:"location",description:"城市"},{type:"string",name:"gradeId",description:"年级"},{type:"string",name:"score",description:"成绩"},{type:"string",name:"sat",description:""},{type:"string",name:"toefl",description:""},{type:"string",name:"ielts",description:""},{type:"string",name:"note",description:"备注"},{type:"string",name:"allocateDest",description:"分配路径"},{type:"string",name:"expectSchools",description:"英文逗号空格隔开"},{type:"string",name:"expectMajors",description:"英文逗号空格隔开"}],middlewares:[{name:"admincheck",args:"key=customer.update"}],filename:"user_customer",funcname:"updateCustomer"},{type:"action",title:"获得个人信息选项数据",name:"get-personal-info-options-1915ac",description:"",notes:[],route:{method:"GET",path:"/personal/info/options"},params:[],middlewares:[],filename:"user_customer",funcname:"getPersonalInfoOptions"},{type:"action",title:"用户获得个人信息",name:"get-personal-info-f2eeea",description:"",notes:["`from`, `activity`, `referer` 都是用于SSO的时候如果需要创建用户的话记录的，能传则传吧。","通过结果中的`account`属性可以获取单点登录的结果（和登录接口的结果类似）。"],route:{method:"GET",path:"/personal/info"},params:[{type:"string",name:"token",description:"智课账号的token（已知支持tokenPC, tokenMobile应该也行）,用于支持SSO"},{type:"string",name:"from",description:"平台, app, admin, pc, wxapp"},{type:"string",name:"activity",description:"活动名称"},{type:"string",name:"referer",description:"页面来源"}],middlewares:[],filename:"user_customer",funcname:"getPersonalInfo"},{type:"action",title:"用户修改个人信息",name:"put-personal-info-657862",description:"",notes:[],route:{method:"PUT",path:"/personal/info"},params:[{type:"string",name:"name",description:"昵称"},{type:"Upload",name:"avatar",description:"头像"},{type:"boolean",name:"avatarAlreadyCut",description:"头像已经切过，不需要再切方了（请保证上传的图片是PNG格式的）"},{type:"string",name:"genderId",description:"性别"},{type:"string",name:"contact",description:"联系电话"},{type:"string",name:"email",description:"邮箱"},{type:"string",name:"weixin",description:"微信号"},{type:"string",name:"provinceId",description:"所在省份"},{type:"string",name:"cityId",description:"所在城市"},{type:"string",name:"address",description:"地址"},{type:"string",name:"currentSchool",description:"现读学校"},{type:"string",name:"currentGradeId",description:"现读年纪"},{type:"string",name:"currentMajor",description:"现读专业"},{type:"string",name:"currentRankId",description:"年级排名"},{type:"Date",name:"graduateTime",description:"毕业时间"},{type:"Date",name:"admissionTime",description:"意向入学时间"},{type:"string",name:"targetDegreeId",description:"留学目标（本硕博）"},{type:"string",name:"targetCountryId",description:"意向国家"},{type:"string",name:"targetMajor",description:"意向专业"},{type:"string",name:"targetRangeId",description:"择校倾向"},{type:"number",name:"scoreToefl",description:""},{type:"number",name:"scoreIelts",description:""},{type:"number",name:"scoreSat",description:""},{type:"number",name:"scoreGre",description:""},{type:"number",name:"scoreGmat",description:""},{type:"string",name:"selfIntroduction",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_customer",funcname:"updatePersonalInfo"},{type:"action",title:"后台创建用户",name:"post-customer-6e30b6",description:"该接口已经弃用",notes:[],route:{method:"POST",path:"/customer"},params:[],middlewares:[{name:"singlepass",args:""},{name:"admincheck",args:"key=customer.list"}],filename:"user_customer",funcname:"createCustomer"},{type:"action",title:"获取折线图数据（30天）",name:"get-customers-linechart-data-2f2619",description:"",notes:[],route:{method:"GET",path:"/customers/linechart_data"},params:[],middlewares:[{name:"admincheck",args:"key=customer.linechart"}],filename:"user_customer",funcname:"lineChartData"}]},{type:"module",title:"用户想法模块",name:"user-idea-74a64d",path:"/user/idea",description:"",middlewares:[],notes:[],filename:"user_idea",actions:[{type:"action",title:"获取用户想法列表",name:"get-list-58a952",description:"",notes:[],route:{method:"GET",path:"/user/idea/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_idea",funcname:"listIdeas"},{type:"action",title:"获取标签Meta数据",name:"get-meta-46aee6",description:"",notes:[],route:{method:"GET",path:"/user/idea/meta"},params:[],middlewares:[],filename:"user_idea",funcname:"getMeta"},{type:"action",title:"提交想法",name:"post-e46694",description:"",notes:[],route:{method:"POST",path:"/user/idea/"},params:[{type:"string",name:"content",description:""},{type:"string",name:"tags",description:"TAG_1，TAG_2.。。。默认是TAG_0 无"}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"user_idea",funcname:"submitIdea"},{type:"action",title:"赞同想法",name:"post-id-approval-b7a276",description:"",notes:[],route:{method:"POST",path:"/user/idea/:id/approval"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"user_idea",funcname:"approveIdea"},{type:"action",title:"添加回复",name:"post-id-user-comments-18e6d5",description:"",notes:[],route:{method:"POST",path:"/user/idea/:id/user/comments"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"sessioncheck",args:""},{name:"singlepass",args:""}],filename:"user_idea",funcname:"addUserComments"},{type:"action",title:"获取用户想法回复列表",name:"get-id-comments-5945eb",description:"",notes:[],route:{method:"GET",path:"/user/idea/:id/comments"},params:[{type:"number",name:"id",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_idea",funcname:"getUserIdeaComments"},{type:"action",title:"获取用户想法列表(后台管理)",name:"get-list-datas-e68b71",description:"",notes:[],route:{method:"GET",path:"/user/idea/list/datas"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"tags",description:"TAG_1，TAG_2.。。。"},{type:"string",name:"adminAnswer",description:"回复状态 默认false"},{type:"string",name:"hidden",description:"仅查看隐藏或未隐藏的"}],middlewares:[{name:"admincheck",args:"key=user-idea.list"}],filename:"user_idea",funcname:"getUserIdeaList"},{type:"action",title:"获取用户想法回复列表(后台管理)",name:"get-id-comments-list-84b45e",description:"",notes:[],route:{method:"GET",path:"/user/idea/:id/comments/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[{name:"admincheck",args:"key=user-idea.comments.list"}],filename:"user_idea",funcname:"getUserIdeaCommentsList"},{type:"action",title:"编辑备注",name:"put-id-notes-20264e",description:"",notes:[],route:{method:"PUT",path:"/user/idea/:id/notes"},params:[{type:"number",name:"id",description:""},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=user-idea.notes"},{name:"singlepass",args:""}],filename:"user_idea",funcname:"editUserIdeaNotes"},{type:"action",title:"隐藏用户想法",name:"put-id-hidden-c1c49e",description:"",notes:[],route:{method:"PUT",path:"/user/idea/:id/hidden"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"hidden",description:"默认false"}],middlewares:[{name:"admincheck",args:"key=user-idea.hidden"},{name:"singlepass",args:""}],filename:"user_idea",funcname:"editUserIdeaHidden"},{type:"action",title:"添加回复（后台管理）",name:"post-id-comments-90d8f2",description:"",notes:[],route:{method:"POST",path:"/user/idea/:id/comments"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"top",description:"默认false"},{type:"boolean",name:"hidden",description:"默认false"},{type:"number",name:"adminUserId",description:"默认是自己"},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=user-idea.comments.create"},{name:"singlepass",args:""}],filename:"user_idea",funcname:"addComments"},{type:"action",title:"编辑回复",name:"put-comments-id-715c76",description:"",notes:[],route:{method:"PUT",path:"/user/idea/comments/:id"},params:[{type:"number",name:"id",description:"回复id"},{type:"boolean",name:"top",description:"默认false"},{type:"boolean",name:"hidden",description:"默认false"},{type:"number",name:"adminUserId",description:"默认是自己"},{type:"string",name:"content",description:""}],middlewares:[{name:"admincheck",args:"key=user-idea.comments.update"},{name:"singlepass",args:""}],filename:"user_idea",funcname:"editComments"},{type:"action",title:"隐藏回复",name:"put-comments-id-hidden-cade8b",description:"",notes:[],route:{method:"PUT",path:"/user/idea/comments/:id/hidden"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"hidden",description:"默认false"}],middlewares:[{name:"admincheck",args:"key=user-idea.comments.hidden"},{name:"singlepass",args:""}],filename:"user_idea",funcname:"editUserIdeaCommentsHidden"}]},{type:"module",title:"用户信息v2",name:"user-info-v2-cd6eab",path:"",description:"",middlewares:[{name:"session3rd",args:""}],notes:[],filename:"user_info_v2",actions:[{type:"action",title:"用户获得个人信息",name:"get-personal-info-v2-78887e",description:"`APP >= 1.3.0`",notes:["返回值中包含基本信息`id`, `name`, `avatar`，和详细信息（目标院校信息`targetSection`, 个人背景信息`backgroundSection`），详细信息里的每项个人信息都包括值、显示文本、显示标题和选项信息（或输入类型）。\n\n包含以下几种类型：\n\n**选项型**\n\n```yaml\ntitle: string # 字段显示名\nid: string # 字段值\nname: string # 字段显示值\noptions: [{id: string, name: string}] # 字段选项\n```\n\n**选项型（多选）**\n\n```yaml\ntitle: string # 字段显示名\nid: string # 字段值，每个值以`,`分开\nname: string # 字段显示值\noptions: [{id: string, name: string}] # 字段选项\nmultiple: true # 表示多选\n```\n\n**选项型（分组）**\n\n```yaml\ntitle: string # 字段显示名\nid: string # 字段值\nname: string # 字段显示值\ngroupedOptions: [{group: string, options: [{id: string, name: string}]}] # 字段选项\n```\n\n**输入型**\n\n```yaml\ntitle: string # 字段显示名\nid: string # 字段值\nname: string # 字段显示值（和字段值一样）\ninput: 'text' # 表示是单行文本输入\n```\n\n> 提示：判断的时候，先判断是否输入型，再判断是否分组选项，再判断是否多选"],route:{method:"GET",path:"/personal/info/v2"},params:[{type:"string",name:"token",description:"智课账号的token（已知支持tokenPC, tokenMobile应该也行）,用于支持SSO"},{type:"boolean",name:"needSsUser",description:"是否需要附上ssUser信息"},{type:"string",name:"from",description:"SSO时才需要提供，平台, app, admin, pc, wxapp"},{type:"string",name:"activity",description:"SSO时才需要提供，活动名称"},{type:"string",name:"referer",description:"SSO时才需要提供，页面来源"}],middlewares:[],filename:"user_info_v2",funcname:"getPersonalInfo"},{type:"action",title:"用户修改个人信息",name:"put-personal-info-v2-f41859",description:"",notes:[],route:{method:"PUT",path:"/personal/info/v2"},params:[{type:"string",name:"name",description:"昵称"},{type:"Upload",name:"avatar",description:"头像"},{type:"boolean",name:"avatarAlreadyCut",description:"头像已经切过，不需要再切方了（请保证上传的图片是PNG格式的）"},{type:"string",name:"genderId",description:"性别"},{type:"string",name:"cityId",description:"城市"},{type:"string",name:"provinceId",description:"省份"},{type:"string",name:"currentGradeId",description:"年级"},{type:"string",name:"currentRankId",description:"排名"},{type:"string",name:"targetRangeId",description:"目标学校范围"},{type:"string",name:"contact",description:"联系电话"},{type:"string",name:"email",description:"邮箱"},{type:"string",name:"customerRoleId",description:"（选项ID）用户身份"},{type:"string",name:"admissionTime",description:"（选项ID）出国时间"},{type:"string",name:"targetCountry",description:"（选项ID）意向地"},{type:"string",name:"targetRegions",description:"（选项ID）意向地（新版）"},{type:"string",name:"targetDegree",description:"（选项ID）申请项目"},{type:"string",name:"targetSchoolRank",description:"（选项ID）目标学校"},{type:"string",name:"targetMajorDirection",description:"（选项ID）专业方向"},{type:"string",name:"currentSchool",description:"本科学校／高中学校"},{type:"string",name:"currentMajor",description:"专业"},{type:"string",name:"score",description:"（选项ID）本科成绩／高中成绩"},{type:"string",name:"scoreLanguage",description:"（选项ID）语言成绩"},{type:"string",name:"scoreStandard",description:"（选项ID）GRE/GMAT／SAT/ACT"},{type:"string",name:"activityInternship",description:"（选项ID）实习活动"},{type:"string",name:"activityResearch",description:"（选项ID）科研活动"},{type:"string",name:"activityCommunity",description:"（选项ID）课外活动"},{type:"string",name:"activitySocial",description:"（选项ID）社会活动"},{type:"string",name:"activityExchange",description:"（选项ID）国际交流"},{type:"string",name:"selfIntroduction",description:"个人简介"},{type:"string",name:"budget",description:"资金预算"}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_info_v2",funcname:"updatePersonalInfo"},{type:"action",title:"获取背景详细信息",name:"get-personal-info-v2-background-bc7451",description:"",notes:["内含选项数据"],route:{method:"GET",path:"/personal/info/v2/background"},params:[{type:"boolean",name:"data",description:""},{type:"boolean",name:"withoutOptions",description:""}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_info_v2",funcname:"getBackgroundInfo"},{type:"action",title:"更新背景详细信息",name:"post-personal-info-v2-background-659ff7",description:"",notes:[],route:{method:"POST",path:"/personal/info/v2/background"},params:[{type:"boolean",name:"dontOverwrite",description:"不要覆盖已有值"},{type:"Array.<number>",name:"targetRegionIds",description:"意向地（多选）"},{type:"string",name:"targetDegreeId",description:"申请项目"},{type:"string",name:"currentGradeId",description:"年级"},{type:"string",name:"currentSchool",description:"本科学校／高中学校"},{type:"number",name:"scoreInSchool",description:"平时成绩"},{type:"number",name:"scoreToefl",description:"托福成绩"},{type:"number",name:"scoreIelts",description:"雅思成绩"},{type:"number",name:"scoreToeflJunior",description:"小托福成绩"},{type:"number",name:"scoreSat",description:"SAT成绩"},{type:"number",name:"scoreAct",description:"ACT成绩"},{type:"number",name:"scoreSsat",description:"SSAT成绩"},{type:"number",name:"scoreGre",description:"GRE成绩"},{type:"number",name:"scoreGmat",description:"GMAT成绩"}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_info_v2",funcname:"updateBackgroundInfo"},{type:"action",title:"获得注册引导填充选项",name:"get-personal-info-v2-init-options-710146",description:"",notes:[],route:{method:"GET",path:"/personal/info/v2/init/options"},params:[],middlewares:[],filename:"user_info_v2",funcname:"getInitOptions"},{type:"action",title:"查看其他用户信息",name:"get-user-userId-info-v2-62693e",description:"",notes:[],route:{method:"GET",path:"/user/:userId/info/v2"},params:[{type:"number",name:"userId",description:""}],middlewares:[],filename:"user_info_v2",funcname:"getUserInfo"},{type:"action",title:"查询用户和职员的交流记录",name:"get-user-interaction-data-private-d85d04",description:"",notes:["**Response Schema:**\n\n```\n{\n  code: 0,\n  data: null | {\n    interactionsPageUrl: string,\n    lastInteraction: null | {\n      staffName: string,\n      staffPhone: string\n    }\n  }\n}\n```"],route:{method:"GET",path:"/user/interaction_data/private"},params:[{type:"string",name:"tower",description:""},{type:"number",name:"userId",description:""},{type:"string",name:"phone",description:""}],middlewares:[{name:"privatecheck",args:""}],filename:"user_info_v2",funcname:"getConsultantInteractions"}]},{type:"module",title:"用户设置",name:"user_setting-baee41",path:"/user_setting",description:"",middlewares:[],notes:[],filename:"user_setting",actions:[{type:"action",title:"获取用户设置信息",name:"get-a38259",description:"接口描述：获取用户设置信息包括：应用内提醒、短信提醒、邮件提醒",notes:[],route:{method:"GET",path:"/user_setting/"},params:[],middlewares:[{name:"sessioncheck",args:""}],filename:"user_setting",funcname:"getSettingInfo"},{type:"action",title:"修改用户设置信息",name:"put-3ae9c2",description:"接口描述：修改用户设置信息",notes:[],route:{method:"PUT",path:"/user_setting/"},params:[{type:"boolean",name:"appRemind",description:"应用内提醒"},{type:"boolean",name:"smsRemind",description:"短信提醒"},{type:"boolean",name:"mailRemind",description:"邮件提醒"}],middlewares:[{name:"sessioncheck",args:""}],filename:"user_setting",funcname:"updateSettingInfo"}]},{type:"module",title:"工具模块",name:"util-731b18",path:"",description:"",middlewares:[],notes:[],filename:"util",actions:[{type:"action",title:"iOS通用链接支持",name:"get-well-known-apple-app-site-association-edc2c6",description:"",notes:[],route:{method:"GET",path:"/.well-known/apple-app-site-association"},params:[],middlewares:[],filename:"util",funcname:"iosSiteAssosication"},{type:"action",title:"iOS通用链接支持",name:"get-well-known-apple-app-site-association-edc2c6",description:"",notes:[],route:{method:"GET",path:"/apple-app-site-association"},params:[],middlewares:[],filename:"util",funcname:"iosSiteAssosication"},{type:"action",title:"iOS通用链接支持",name:"get-oia-apple-app-site-association-8d4c26",description:"",notes:[],route:{method:"GET",path:"/oia/apple-app-site-association"},params:[],middlewares:[],filename:"util",funcname:"iosSiteAssosicationForOiaDomain"},{type:"action",title:"iOS通用链接支持",name:"get-oia-apple-app-site-association-8d4c26",description:"",notes:[],route:{method:"GET",path:"/oia/.well-known/apple-app-site-association"},params:[],middlewares:[],filename:"util",funcname:"iosSiteAssosicationForOiaDomain"},{type:"action",title:"安卓通用链接支持",name:"get-well-known-assetlinks-json-5727e3",description:"",notes:[],route:{method:"GET",path:"/.well-known/assetlinks.json"},params:[],middlewares:[],filename:"util",funcname:"androidSiteAssosication"},{type:"action",title:"iOS通用链接支持",name:"get-ios-app-open-0c18df",description:"",notes:[],route:{method:"GET",path:"/ios-app/open"},params:[{type:"string",name:"redirect",description:""}],middlewares:[],filename:"util",funcname:"iosAppRedirect"},{type:"action",title:"",name:"get-cpu-profile-7227a9",description:"",notes:[],route:{method:"GET",path:"/cpu/profile"},params:[{type:"object",name:"seconds",description:""}],middlewares:[],filename:"util",funcname:"cpuProfile"},{type:"action",title:"内存数据",name:"get-memory-stat-5e13e7",description:"",notes:[],route:{method:"GET",path:"/memory/stat"},params:[],middlewares:[],filename:"util",funcname:"memoryStat"},{type:"action",title:"接受百度小程序推送消息",name:"post-baiduapp-message-eb3cda",description:"",notes:[],route:{method:"POST",path:"/baiduapp/message"},params:[{type:"string",name:"signature",description:""},{type:"string",name:"timestamp",description:""},{type:"string",name:"nonce",description:""}],middlewares:[],filename:"util",funcname:"receiveBaiduAppMessage"},{type:"action",title:"内存快照",name:"get-memory-snapshot-b2a52d",description:"",notes:[],route:{method:"GET",path:"/memory/snapshot"},params:[],middlewares:[],filename:"util",funcname:"memorySnapshot"},{type:"action",title:"微信公众号签名",name:"post-wxsns-sign-00dab6",description:"",notes:[],route:{method:"POST",path:"/wxsns/sign"},params:[{type:"String",name:"url",description:""}],middlewares:[],filename:"util",funcname:"weixinSign"},{type:"action",title:"微信公众号用户授权",name:"post-wxsns-authorize-e60419",description:"",notes:[],route:{method:"POST",path:"/wxsns/authorize"},params:[{type:"String",name:"code",description:""}],middlewares:[],filename:"util",funcname:"weixinAuthorize"},{type:"action",title:"百度熊掌号签名",name:"get-baiduxz-sign-ea04a8",description:"",notes:[],route:{method:"GET",path:"/baiduxz/sign"},params:[{type:"String",name:"url",description:""}],middlewares:[],filename:"util",funcname:"baiduxzSign"},{type:"action",title:"",name:"get-abtest-redirect-10ca7f",description:"",notes:[],route:{method:"GET",path:"/abtest/redirect"},params:[{type:"string",name:"suite",description:""},{type:"string",name:"case",description:""},{type:"string",name:"url",description:""}],middlewares:[],filename:"util",funcname:"redirect"},{type:"action",title:"",name:"get-abtest-redirect-url-2dfe78",description:"",notes:[],route:{method:"GET",path:"/abtest/redirect_url"},params:[{type:"string",name:"suite",description:""},{type:"string",name:"case",description:""},{type:"string",name:"url",description:""}],middlewares:[],filename:"util",funcname:"getRedirectUrl"},{type:"action",title:"百度熊掌号获得openid",name:"get-baiduxz-openid-0e1ef4",description:"",notes:[],route:{method:"GET",path:"/baiduxz/openid"},params:[{type:"String",name:"code",description:""},{type:"String",name:"redirectUri",description:""}],middlewares:[],filename:"util",funcname:"getBaiduxzOpenID"},{type:"action",title:"百度熊掌号openid查询",name:"get-baiduxz-openid-query-16e043",description:"",notes:[],route:{method:"GET",path:"/baiduxz/openid/query"},params:[{type:"String",name:"openid",description:""}],middlewares:[],filename:"util",funcname:"queryBaiduxzOpenID"},{type:"action",title:"百度熊掌号用户授权",name:"get-baiduxz-authorize-ff20f5",description:"",notes:[],route:{method:"GET",path:"/baiduxz/authorize"},params:[{type:"String",name:"code",description:""},{type:"String",name:"redirectUri",description:""}],middlewares:[],filename:"util",funcname:"baiduxzUserAuthorize"},{type:"action",title:"微信小程序登录",name:"post-wxapp-login-e526cb",description:"",notes:[],route:{method:"POST",path:"/wxapp/login"},params:[{type:"String",name:"code",description:""}],middlewares:[],filename:"util",funcname:"wxappLogin"},{type:"action",title:"微信小程序私密信息",name:"post-wxapp-session-7ab98b",description:"",notes:[],route:{method:"POST",path:"/wxapp/session"},params:[{type:"String",name:"sessionToken",description:""}],middlewares:[],filename:"util",funcname:"wxappSession"},{type:"action",title:"",name:"get-wxapp-config-key-cb6aba",description:"",notes:[],route:{method:"GET",path:"/wxapp/config/:key"},params:[],middlewares:[],filename:"util",funcname:"getWeixinAppConfig"},{type:"action",title:"获取中国省市",name:"get-cities-china-c69154",description:"",notes:[],route:{method:"GET",path:"/cities/china"},params:[],middlewares:[],filename:"util",funcname:"getChineseCities"},{type:"action",title:"获取选择中学用的省市",name:"get-zx-general-30fdce",description:"",notes:[],route:{method:"GET",path:"/zx/general"},params:[],middlewares:[],filename:"util",funcname:"getCitiesForZX"},{type:"action",title:"获取选择中学用的县和学校",name:"get-zx-narrow-eba871",description:"",notes:[],route:{method:"GET",path:"/zx/narrow"},params:[{type:"String",name:"parentId",description:""},{type:"String",name:"for",description:"= junior|high|college"}],middlewares:[],filename:"util",funcname:"getSchoolsForZX"},{type:"action",title:"获取选择大学用的地域选项",name:"get-dx-general-e7c61e",description:"",notes:[],route:{method:"GET",path:"/dx/general"},params:[],middlewares:[],filename:"util",funcname:"getLocationForDX"},{type:"action",title:"获取选择大学用的学校",name:"get-dx-narrow-ad3b91",description:"",notes:[],route:{method:"GET",path:"/dx/narrow"},params:[{type:"String",name:"parentId",description:"/dx/general中的最后一级ID"}],middlewares:[],filename:"util",funcname:"getSchoolsForDX"},{type:"action",title:"搜索国内大学",name:"get-dx-search-6ed132",description:"",notes:[],route:{method:"GET",path:"/dx/search"},params:[{type:"string",name:"keyword",description:"学校关键字"},{type:"string",name:"refresh",description:"刷新缓存"}],middlewares:[],filename:"util",funcname:"searchChineseUniversities"},{type:"action",title:"搜索国内高中初中",name:"get-zx-search-a3aa6f",description:"",notes:[],route:{method:"GET",path:"/zx/search"},params:[{type:"string",name:"keyword",description:"学校关键字"},{type:"string",name:"type",description:"学校类型 高中-senior,初中-junior"},{type:"number",name:"pageSize",description:""},{type:"boolean",name:"refresh",description:"刷新缓存"}],middlewares:[],filename:"util",funcname:"searchChineseHighschool"},{type:"action",title:"获取上传授权",name:"get-upload-credentials-b794fd",description:"",notes:["与上传接口的区别：原本上传接口在处理图片时，会获取图片的宽高，并且会自动修复图片旋转；处理视频时，会获取视频宽高与时长。本接口没有这些功能。","上传文件时务必带上preset，禁止不带preset的请求，无可用的preset可以再加。\n\nPreset枚举：\n\n| Preset        | Description   |\n| ------------- | ------------- |\n| `news-image`  | 资讯图片      |\n| `feed-image`  | 动态图片、动态视频截帧 |\n| `feed-video`  | 动态视频(MP4) |\n| `faq-video`   | 精选问答视频  |\n| `org-photo`   | 三方机构图片  |\n| `story-cover` | 案例故事封面  |\n| `video-cover` | 视频板块封面  |"],route:{method:"GET",path:"/upload/credentials"},params:[{type:"string",name:"preset",description:"预设"},{type:"string",name:"filename",description:"文件名，用来判断Content-Type"},{type:"number",name:"filesize",description:"文件大小，用于生成上传地址（务必使用真实值）"},{type:"string",name:"md5",description:"文件MD5值，用于生成上传地址（务必使用真实MD5值）"}],middlewares:[],filename:"util",funcname:"getUploadCredentials"},{type:"action",title:"上传文件接口",name:"post-upload-ufile-32d1d0",description:"",notes:["上传文件时务必带上preset，禁止不带preset的请求，无可用的preset可以再加。\n\nPreset枚举：\n\n| Preset        | Description   |\n| ------------- | ------------- |\n| `news-image`  | 资讯图片      |\n| `feed-image`  | 动态图片、动态视频截帧 |\n| `feed-video`  | 动态视频(MP4) |\n| `faq-video`   | 精选问答视频  |\n| `org-photo`   | 三方机构图片  |\n| `story-cover` | 案例故事封面  |\n| `video-cover` | 视频板块封面  |\n| `common-image` | 通用图片资源  |\n| `common-video-mp4` | 通用MP4视频资源  |"],route:{method:"POST",path:"/upload/ufile"},params:[{type:"file",name:"file",description:""},{type:"string",name:"preset",description:"见上面表格"},{type:"string",name:"mark",description:"这个参数会直接返给客户端"}],middlewares:[],filename:"util",funcname:"uploadUnifiedFile"},{type:"action",title:"判断APP下载Banner是否可见",name:"get-app-banner-visible-cd0118",description:"",notes:[],route:{method:"GET",path:"/app_banner/visible"},params:[{type:"string",name:"ip",description:""}],middlewares:[],filename:"util",funcname:"getAppBannerVisible"},{type:"action",title:"记录IDFA并返回是否为推广用户",name:"post-idfa-e276ce",description:"",notes:[],route:{method:"POST",path:"/idfa"},params:[{type:"string",name:"idfa",description:""}],middlewares:[],filename:"util",funcname:"idfaRecord"},{type:"action",title:"记录IDFA并返回是否为推广用户（GPA计算器）",name:"post-gpa-idfa-fbbe3f",description:"",notes:[],route:{method:"POST",path:"/gpa/idfa"},params:[{type:"string",name:"idfa",description:""}],middlewares:[],filename:"util",funcname:"gpaIdfaRecord"},{type:"action",title:"显示所有的APP Scheme链接规则",name:"get-app-schemas-cfe19b",description:"",notes:[],route:{method:"GET",path:"/app/schemas"},params:[],middlewares:[],filename:"util",funcname:"showAllAppSchemes"},{type:"action",title:"显示所有的APP Scheme链接规则",name:"get-app-schemas-cfe19b",description:"",notes:[],route:{method:"GET",path:"/app/schemes"},params:[],middlewares:[],filename:"util",funcname:"showAllAppSchemes"},{type:"action",title:"获取APP路由",name:"get-app-routes-d87860",description:"",notes:[],route:{method:"GET",path:"/app/routes"},params:[],middlewares:[],filename:"util",funcname:"getAppRoutes"},{type:"action",title:"解析APP路由",name:"get-app-jump-65d679",description:"",notes:[],route:{method:"GET",path:"/app/jump/*"},params:[{type:"object",name:"0",description:""}],middlewares:[],filename:"util",funcname:"resolveAppRoute"},{type:"action",title:"解析APP路由",name:"get-app-jump-65d679",description:"",notes:[],route:{method:"GET",path:"/app/jump"},params:[{type:"object",name:"0",description:""}],middlewares:[],filename:"util",funcname:"resolveAppRoute"},{type:"action",title:"处理 Universal Link 未成功调起时的请求",name:"get-oia-c0eb6f",description:"",notes:[],route:{method:"GET",path:"/oia/*"},params:[{type:"object",name:"0",description:""}],middlewares:[],filename:"util",funcname:"resolveUniversalLink"},{type:"action",title:"处理 Universal Link 未成功调起时的请求",name:"get-oia-c0eb6f",description:"",notes:[],route:{method:"GET",path:"/oia"},params:[{type:"object",name:"0",description:""}],middlewares:[],filename:"util",funcname:"resolveUniversalLink"},{type:"action",title:"同步前端路由",name:"put-frontend-routes-5056ad",description:"",notes:[],route:{method:"PUT",path:"/frontend/routes"},params:[],middlewares:[],filename:"util",funcname:"syncFrontendRoutes"},{type:"action",title:"后台用临时存储空间",name:"put-admin-storage-temp-de9470",description:"",notes:[],route:{method:"PUT",path:"/admin/storage/temp"},params:[{type:"string",name:"key",description:""},{type:"object",name:"value",description:""}],middlewares:[{name:"admincheck",args:""}],filename:"util",funcname:"adminStorageSet"},{type:"action",title:"后台用临时存储空间",name:"get-admin-storage-temp-2170e1",description:"",notes:[],route:{method:"GET",path:"/admin/storage/temp"},params:[{type:"string",name:"key",description:""}],middlewares:[],filename:"util",funcname:"adminStorageGet"},{type:"action",title:"生成二维码",name:"get-qrcode-withlogo-db52b4",description:"",notes:[],route:{method:"GET",path:"/qrcode/withlogo"},params:[{type:"string",name:"content",description:""},{type:"string",name:"filename",description:""}],middlewares:[],filename:"util",funcname:"generateQrcodeWithLogo"},{type:"action",title:"APP下载",name:"get-app-download-955857",description:"",notes:[],route:{method:"GET",path:"/app/download"},params:[{type:"string",name:"source",description:""}],middlewares:[],filename:"util",funcname:"getUniversalAppDownloadUrl"},{type:"action",title:"获得易思汇留学付下单地址",name:"get-school-schoolId-easy-transfer-order-url-0601bc",description:"",notes:[],route:{method:"GET",path:"/school/:schoolId/easy_transfer/order_url"},params:[{type:"number",name:"schoolId",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"util",funcname:"getEasyTransferOrderUrl"},{type:"action",title:"ACS视频内容检测",name:"get-acs-video-check-152a26",description:"",notes:[],route:{method:"GET",path:"/acs/video/check"},params:[{type:"string",name:"videoUrl",description:"视频链接，需要是上传相关接口提供的完整URL地址"},{type:"number",name:"videoDuration",description:"视频时长（秒），务必传真实的值，会影响阿里云截帧数量，影响检测费用"}],middlewares:[],filename:"util",funcname:"acsVideoCheck"},{type:"action",title:"【阿里云】ACS视频内容检测回调",name:"post-acs-video-check-callback-a1d762",description:"",notes:[],route:{method:"POST",path:"/acs/video/check/callback"},params:[{type:"string",name:"checksum",description:""},{type:"string",name:"content",description:""}],middlewares:[],filename:"util",funcname:"acsVideoCheckCallback"},{type:"action",title:"【七牛云】视频审核回调",name:"post-qiniu-video-scan-callback-74e436",description:"",notes:[],route:{method:"POST",path:"/qiniu/video/scan/callback"},params:[{type:"string",name:"id",description:""},{type:"object",name:"request",description:""},{type:"string",name:"status",description:""},{type:"object",name:"result",description:""}],middlewares:[],filename:"util",funcname:"qiniuVideoCheckCallback"},{type:"action",title:"解析页面基本信息（若不带协议，默认https）",name:"get-fetch-metadata-773ae8",description:"",notes:[],route:{method:"GET",path:"/fetch/metadata"},params:[{type:"string",name:"uri",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"util",funcname:"getMetadataFromUri"},{type:"action",title:"获取CIP专业",name:"get-cip-codes-228a88",description:"",notes:[],route:{method:"GET",path:"/cip/codes"},params:[{type:"string",name:"parentId",description:""}],middlewares:[],filename:"util",funcname:"getCIPCodes"},{type:"action",title:"搜索CIP专业",name:"get-cip-codes-search-688b49",description:"",notes:[],route:{method:"GET",path:"/cip/codes/search"},params:[{type:"string",name:"id",description:""},{type:"string",name:"keyword",description:""}],middlewares:[],filename:"util",funcname:"searchCIPCodes"},{type:"action",title:"获取手机号国家代码",name:"get-phone-codes-27f166",description:"",notes:[],route:{method:"GET",path:"/phone/codes"},params:[],middlewares:[],filename:"util",funcname:"getPhoneCountryCodes"},{type:"action",title:"获取随机昵称",name:"get-data-nickname-random-3ba20a",description:"",notes:[],route:{method:"GET",path:"/data/nickname/random"},params:[{type:"number",name:"size",description:""}],middlewares:[],filename:"util",funcname:"getRandomNickname"},{type:"action",title:"临时接口：更新教师分数",name:"get-temp-update-scores-6ee942",description:"",notes:[],route:{method:"GET",path:"/temp/update/scores"},params:[],middlewares:[{name:"singlepass",args:""}],filename:"util",funcname:"updateScores"}]},{type:"module",title:"视频管理",name:"video-cb1840",path:"/video",description:"",middlewares:[],notes:[],filename:"video",actions:[{type:"action",title:"获得APP首页数据",name:"get-app-index-efa743",description:"",notes:[],route:{method:"GET",path:"/video/app/index"},params:[],middlewares:[],filename:"video",funcname:"getAppIndexData"},{type:"action",title:"获得栏目页面数据",name:"get-column-id-index-fe5f3d",description:"",notes:[],route:{method:"GET",path:"/video/column/:id/index"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"video",funcname:"getColumnIndex"},{type:"action",title:"获取系列视频列表",name:"get-series-seriesId-videos-83668b",description:"",notes:[],route:{method:"GET",path:"/video/series/:seriesId/videos"},params:[{type:"number",name:"seriesId",description:""},{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"video",funcname:"getSeriesVideos"},{type:"action",title:"获取视频页面数据",name:"get-id-index-ccce04",description:"",notes:[],route:{method:"GET",path:"/video/:id/index"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"video",funcname:"getVideoData"},{type:"action",title:"获取视频相关问答数据",name:"get-id-questions-e70210",description:"",notes:[],route:{method:"GET",path:"/video/:id/questions"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"object",name:"id",description:"视频ID"}],middlewares:[],filename:"video",funcname:"getVideoRelatedQuestions"},{type:"action",title:"开始播放视频",name:"get-id-play-67182f",description:"",notes:[],route:{method:"GET",path:"/video/:id/play"},params:[{type:"number",name:"id",description:"视频ID"}],middlewares:[],filename:"video",funcname:"playCourse"},{type:"action",title:"记录播放进度",name:"put-id-play-1b8c67",description:"",notes:[],route:{method:"PUT",path:"/video/:id/play"},params:[{type:"number",name:"id",description:"视频ID"},{type:"string",name:"source",description:"视频页面来源"},{type:"number",name:"playTime",description:"播放时间（就是当前播放到的时间，单位：毫秒）"},{type:"number",name:"playDuration",description:"播放时长（就是从开始播放开始过了多久，单位：毫秒，**这个字段是直接累加的，客户端每次调用此接口后需要重新开始计时**）"},{type:"Date",name:"playStartTime",description:"播放开始时间（就是视频开始时间，需要JSON支持的格式：ISO 8601格式、或UNIX毫秒数）"}],middlewares:[],filename:"video",funcname:"recordPlayProgress"},{type:"action",title:"获取视频列表",name:"get-list-81fd48",description:"",notes:[],route:{method:"GET",path:"/video/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"number",name:"columnId",description:""}],middlewares:[{name:"admincheck",args:"key=video.list"}],filename:"video",funcname:"getVideoList"},{type:"action",title:"获取学校的视频列表",name:"get-school-list-bc2b29",description:"",notes:[],route:{method:"GET",path:"/video/school/list"},params:[{type:"number",name:"schoolId",description:""},{type:"boolean",name:"withRecommendedVideos",description:""}],middlewares:[],filename:"video",funcname:"getSchoolVideoList"},{type:"action",title:"获取栏目列表",name:"get-column-list-9ff880",description:"",notes:[],route:{method:"GET",path:"/video/column/list"},params:[],middlewares:[{name:"admincheck",args:"key=video.column.list"}],filename:"video",funcname:"getColumnList"},{type:"action",title:"获取栏目详情",name:"get-column-id-91c73f",description:"",notes:[],route:{method:"GET",path:"/video/column/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=video.column.info"}],filename:"video",funcname:"getColumnDetail"},{type:"action",title:"创建栏目",name:"post-column-8e4246",description:"",notes:[],route:{method:"POST",path:"/video/column"},params:[{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"Upload",name:"coverImage",description:""}],middlewares:[{name:"admincheck",args:"key=video.column.create"},{name:"singlepass",args:""}],filename:"video",funcname:"createColumn"},{type:"action",title:"编辑栏目",name:"put-column-id-4d2536",description:"",notes:[],route:{method:"PUT",path:"/video/column/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"Upload",name:"coverImage",description:""}],middlewares:[{name:"admincheck",args:"key=video.column.update"},{name:"singlepass",args:""}],filename:"video",funcname:"editColumn"},{type:"action",title:"删除栏目",name:"delete-column-id-9d1c0c",description:"",notes:[],route:{method:"DELETE",path:"/video/column/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=video.column.delete"},{name:"singlepass",args:""}],filename:"video",funcname:"deleteColumn"},{type:"action",title:"移动栏目",name:"post-column-id-move-direction-47387a",description:"",notes:[],route:{method:"POST",path:"/video/column/:id/move/:direction"},params:[{type:"number",name:"id",description:""},{type:"string",name:"direction",description:"up | down"}],middlewares:[{name:"admincheck",args:"key=video.column.move"},{name:"singlepass",args:""}],filename:"video",funcname:"moveColumn"},{type:"action",title:"获取系列详情",name:"get-series-id-b45dbd",description:"",notes:[],route:{method:"GET",path:"/video/series/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=video.series.info"}],filename:"video",funcname:"getSeriesDetail"},{type:"action",title:"创建系列",name:"post-series-e80a6d",description:"",notes:[],route:{method:"POST",path:"/video/series"},params:[{type:"string",name:"name",description:""},{type:"string",name:"columnId",description:""}],middlewares:[{name:"admincheck",args:"key=video.series.create"},{name:"singlepass",args:""}],filename:"video",funcname:"createSeries"},{type:"action",title:"编辑系列",name:"put-series-id-0000ac",description:"",notes:[],route:{method:"PUT",path:"/video/series/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"columnId",description:""}],middlewares:[{name:"admincheck",args:"key=video.series.update"},{name:"singlepass",args:""}],filename:"video",funcname:"editSeries"},{type:"action",title:"删除系列",name:"delete-series-id-2ec4d0",description:"",notes:[],route:{method:"DELETE",path:"/video/series/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=video.series.delete"},{name:"singlepass",args:""}],filename:"video",funcname:"deleteSeries"},{type:"action",title:"移动系列",name:"post-series-id-move-direction-8000cf",description:"",notes:[],route:{method:"POST",path:"/video/series/:id/move/:direction"},params:[{type:"number",name:"id",description:""},{type:"string",name:"direction",description:"up | down"}],middlewares:[{name:"admincheck",args:"key=video.series.move"},{name:"singlepass",args:""}],filename:"video",funcname:"moveSeries"},{type:"action",title:"获取视频详情",name:"get-id-fede78",description:"",notes:[],route:{method:"GET",path:"/video/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=video.info"}],filename:"video",funcname:"getVideoDetail"},{type:"action",title:"创建视频",name:"post-add497",description:"",notes:[],route:{method:"POST",path:"/video/"},params:[{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"Upload",name:"coverImage",description:""},{type:"number",name:"videoId",description:""},{type:"number",name:"videoDuration",description:"视频时长"},{type:"Array.<string>",name:"tags",description:""},{type:"number",name:"seriesId",description:""},{type:"Array.<number>",name:"schoolIds",description:""},{type:"number",name:"consultantId",description:""},{type:"Array.<number>",name:"intSchoolIds",description:""}],middlewares:[{name:"admincheck",args:"key=video.create"},{name:"singlepass",args:""}],filename:"video",funcname:"createVideo"},{type:"action",title:"编辑视频",name:"put-id-6be1c2",description:"",notes:[],route:{method:"PUT",path:"/video/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"introduction",description:""},{type:"number",name:"videoId",description:""},{type:"number",name:"videoDuration",description:""},{type:"Upload",name:"coverImage",description:""},{type:"Array.<string>",name:"tags",description:""},{type:"number",name:"seriesId",description:""},{type:"Array.<number>",name:"schoolIds",description:""},{type:"number",name:"consultantId",description:""},{type:"Array.<number>",name:"intSchoolIds",description:""}],middlewares:[{name:"admincheck",args:"key=video.update"},{name:"singlepass",args:""}],filename:"video",funcname:"editVideo"},{type:"action",title:"删除视频",name:"delete-id-71d01f",description:"",notes:[],route:{method:"DELETE",path:"/video/:id"},params:[{type:"number",name:"id",description:""}],middlewares:[{name:"admincheck",args:"key=video.delete"},{name:"singlepass",args:""}],filename:"video",funcname:"deleteVideo"},{type:"action",title:"上下线视频",name:"post-id-enabled-4ea85a",description:"",notes:[],route:{method:"POST",path:"/video/:id/enabled"},params:[{type:"number",name:"id",description:""},{type:"boolean",name:"enabled",description:"true-上线，false-下线"}],middlewares:[{name:"admincheck",args:"key=video.enable"},{name:"singlepass",args:""}],filename:"video",funcname:"editVideoEnableStatus"},{type:"action",title:"获取单一视频数据统计",name:"get-statistics-list-5cf3eb",description:"",notes:[],route:{method:"GET",path:"/video/statistics/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""},{type:"string",name:"rangeTime",description:"startTime,endTime"}],middlewares:[{name:"admincheck",args:"key=video.statistics"}],filename:"video",funcname:"getVideoStatisticsList"},{type:"action",title:"获取统计图表数据",name:"get-statistics-chart-b77590",description:"",notes:[],route:{method:"GET",path:"/video/statistics/chart"},params:[{type:"number",name:"columnId",description:""}],middlewares:[{name:"admincheck",args:"key=video.chart"}],filename:"video",funcname:"getStatisticsChartData"},{type:"action",title:"获取全部的栏目Meta数据",name:"get-column-meta-91b9ed",description:"",notes:[],route:{method:"GET",path:"/video/column/meta"},params:[],middlewares:[{name:"admincheck",args:"key=video.column.meta"}],filename:"video",funcname:"getColumnMeta"},{type:"action",title:"获取全部的系列Meta数据",name:"get-series-meta-42530e",description:"",notes:[],route:{method:"GET",path:"/video/series/meta"},params:[],middlewares:[{name:"admincheck",args:"key=video.series.meta"}],filename:"video",funcname:"getSeriesMeta"},{type:"action",title:"获取指定的视频ID对应的时长",name:"get-duration-1498a3",description:"",notes:[],route:{method:"GET",path:"/video/duration"},params:[{type:"number",name:"videoId",description:""}],middlewares:[],filename:"video",funcname:"getVideoDuration"}]},{type:"module",title:"视图数据模块",name:"view-da8574",path:"/view",description:"",middlewares:[],notes:[],filename:"view",actions:[{type:"action",title:"获得随机的问题和资讯列表",name:"get-random-news-and-questions-adba0b",description:"",notes:[],route:{method:"GET",path:"/view/random/news_and_questions"},params:[],middlewares:[],filename:"view",funcname:"randomQuestionsAndNews"},{type:"action",title:"获得学校首页数据",name:"get-school-index-f71f0c",description:"",notes:[],route:{method:"GET",path:"/view/school/index"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"view",funcname:"getSchoolIndex"},{type:"action",title:"获得高中APP页面数据",name:"get-app-highschool-index-0ea57b",description:"",notes:[],route:{method:"GET",path:"/view/app/highschool/index"},params:[{type:"number",name:"id",description:""}],middlewares:[],filename:"view",funcname:"getHighschoolIndex"},{type:"action",title:"获得学校简明申请信息",name:"get-school-brief-f84609",description:"",notes:[],route:{method:"GET",path:"/view/school/brief"},params:[{type:"number",name:"id",description:""},{type:"string",name:"degreeId",description:"指定展示的申请信息是本科还是研究生；默认为本科，从我的选校访问的时候，如果选校中附带了degreeId，需要带过来"}],middlewares:[],filename:"view",funcname:"getSchoolBrief"},{type:"action",title:"获得WEB电脑端首页",name:"get-web-index-pc-e15278",description:"",notes:[],route:{method:"GET",path:"/view/web/index/pc"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"view",funcname:"getWebIndexPC"},{type:"action",title:"获得WEB移动端首页",name:"get-web-index-5f99c9",description:"",notes:[],route:{method:"GET",path:"/view/web/index"},params:[{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"view",funcname:"getWebIndex"},{type:"action",title:"获得移动端院校首页数据",name:"get-app-tab-school-48f153",description:"",notes:[],route:{method:"GET",path:"/view/app/tab/school"},params:[],middlewares:[],filename:"view",funcname:"getAppSchoolTabIndex"},{type:"action",title:"获得APP首页数据",name:"get-app-tab-index-69c593",description:"",notes:["此接口通过UA来判断style","也可以直接传style，有如下可用值：\n\n- `laborday`（录取率测试v2） `Android v2.36.0`, `iOS v2.36.0`\n- `christmas`（各类名师推荐） `Android v2.49.0`, `iOS v2.49.0`"],route:{method:"GET",path:"/view/app/tab/index"},params:[{type:"string",name:"style",description:"APP不需要提供此参数"},{type:"string",name:"regionId",description:"`>=v1.1.0` 学生的意向地；现在基本为countryId，之后可能会出现香港 (`PROVINCE_33`)等值；默认会读取用户的意向地，APP知道意向地的情况下需要传递，以免信息不同步"},{type:"number",name:"degreeId",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"view",funcname:"getAppIndexData"},{type:"action",title:"获得APP首页数据（高中版）",name:"get-app-tab-index-highschool-93e0b3",description:"",notes:["此接口通过UA来判断style","也可以直接传style，有如下可用值：\n\n- `laborday`（录取率测试v2） `Android v2.36.0`, `iOS v2.36.0`\n- `christmas`（各类名师推荐） `Android v2.49.0`, `iOS v2.49.0`"],route:{method:"GET",path:"/view/app/tab/index/highschool"},params:[{type:"string",name:"style",description:"APP不需要提供此参数"},{type:"string",name:"regionId",description:"`>=v1.1.0` 学生的意向地；现在基本为countryId，之后可能会出现香港 (`PROVINCE_33`)等值；默认会读取用户的意向地，APP知道意向地的情况下需要传递，以免信息不同步"},{type:"number",name:"degreeId",description:""},{type:"boolean",name:"refresh",description:""}],middlewares:[],filename:"view",funcname:"getAppIndexDataForHighschool"},{type:"action",title:"获得移动端留学服务首页数据",name:"get-abroad-service-index-mobile-e85211",description:"",notes:[],route:{method:"GET",path:"/view/abroad_service/index/mobile"},params:[{type:"number",name:"lat",description:"你的纬度"},{type:"number",name:"lng",description:"你的经度"}],middlewares:[],filename:"view",funcname:"getAbroadServiceIndexForMobile"},{type:"action",title:"获得咨询详情",name:"get-news-id-5fa0e0",description:"",notes:[],route:{method:"GET",path:"/view/news/:id"},params:[{type:"number",name:"id",description:"资讯ID"}],middlewares:[],filename:"view",funcname:"getNewsInfo"},{type:"action",title:"获取国际的学校聚合页数据",name:"get-app-intschool-ac867c",description:"",notes:[],route:{method:"GET",path:"/view/app/intschool"},params:[],middlewares:[],filename:"view",funcname:"getIntschoolAppIndex"}]},{type:"module",title:"短效二维码管理模块",name:"volatile-qrcode-628784",path:"/volatileQrcode",description:"",middlewares:[{name:"admincheck",args:"key=volatile-qrcode"}],notes:[],filename:"volatile_qrcode",actions:[{type:"action",title:"获取列表",name:"get-list-196b77",description:"",notes:[],route:{method:"GET",path:"/volatileQrcode/list"},params:[{type:"number",name:"page",description:""},{type:"number",name:"pageSize",description:""}],middlewares:[],filename:"volatile_qrcode",funcname:"getList"},{type:"action",title:"上传新的二维码",name:"post-e93566",description:"",notes:[],route:{method:"POST",path:"/volatileQrcode/"},params:[{type:"string",name:"name",description:""},{type:"string",name:"key",description:""},{type:"Upload",name:"qrcodeImage",description:""},{type:"Date",name:"expireTime",description:""}],middlewares:[],filename:"volatile_qrcode",funcname:"postItem"},{type:"action",title:"编辑二维码信息",name:"put-id-36bca1",description:"",notes:[],route:{method:"PUT",path:"/volatileQrcode/:id"},params:[{type:"number",name:"id",description:""},{type:"string",name:"name",description:""},{type:"string",name:"key",description:""},{type:"Upload",name:"qrcodeImage",description:""},{type:"Date",name:"expireTime",description:""}],middlewares:[],filename:"volatile_qrcode",funcname:"editItem"}]}],docs:[{prefix:"",list:[{link:"/articles/app_schemes.md",title:"APP 可跳转页面列表",content:["APP 可跳转页面列表 录取率测试 智能选校 智能选专业 视频详情 海外大学学校详情 美高学校详情 国际学校详情 解决方案详情 解决方案订单详情 自己的个人主页 老师个人主页 用户个人主页 排行榜页面 推送消息中心 课程列表 课程详情 留学规划 考试时间查询 考试地点查询","这个是旧的路由映射，新的要参考其他的文档"],markdown:"# APP 可跳转页面列表\n\n- [APP 可跳转页面列表](#app-%e5%8f%af%e8%b7%b3%e8%bd%ac%e9%a1%b5%e9%9d%a2%e5%88%97%e8%a1%a8)\n  - [录取率测试](#%e5%bd%95%e5%8f%96%e7%8e%87%e6%b5%8b%e8%af%95)\n  - [智能选校](#%e6%99%ba%e8%83%bd%e9%80%89%e6%a0%a1)\n  - [智能选专业](#%e6%99%ba%e8%83%bd%e9%80%89%e4%b8%93%e4%b8%9a)\n  - [视频详情](#%e8%a7%86%e9%a2%91%e8%af%a6%e6%83%85)\n  - [海外大学学校详情](#%e6%b5%b7%e5%a4%96%e5%a4%a7%e5%ad%a6%e5%ad%a6%e6%a0%a1%e8%af%a6%e6%83%85)\n  - [美高学校详情](#%e7%be%8e%e9%ab%98%e5%ad%a6%e6%a0%a1%e8%af%a6%e6%83%85)\n  - [国际学校详情](#%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e8%af%a6%e6%83%85)\n  - [解决方案详情](#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e8%af%a6%e6%83%85)\n  - [解决方案订单详情](#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e8%ae%a2%e5%8d%95%e8%af%a6%e6%83%85)\n  - [自己的个人主页](#%e8%87%aa%e5%b7%b1%e7%9a%84%e4%b8%aa%e4%ba%ba%e4%b8%bb%e9%a1%b5)\n  - [老师个人主页](#%e8%80%81%e5%b8%88%e4%b8%aa%e4%ba%ba%e4%b8%bb%e9%a1%b5)\n  - [用户个人主页](#%e7%94%a8%e6%88%b7%e4%b8%aa%e4%ba%ba%e4%b8%bb%e9%a1%b5)\n  - [排行榜页面](#%e6%8e%92%e8%a1%8c%e6%a6%9c%e9%a1%b5%e9%9d%a2)\n  - [推送消息中心](#%e6%8e%a8%e9%80%81%e6%b6%88%e6%81%af%e4%b8%ad%e5%bf%83)\n  - [课程列表](#%e8%af%be%e7%a8%8b%e5%88%97%e8%a1%a8)\n  - [课程详情](#%e8%af%be%e7%a8%8b%e8%af%a6%e6%83%85)\n  - [留学规划](#%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92)\n  - [考试时间查询](#%e8%80%83%e8%af%95%e6%97%b6%e9%97%b4%e6%9f%a5%e8%af%a2)\n  - [考试地点查询](#%e8%80%83%e8%af%95%e5%9c%b0%e7%82%b9%e6%9f%a5%e8%af%a2)\n\n> 这个是旧的路由映射，新的要参考其他的文档\n\n## 录取率测试\n\n```link\nxuanxiaodi://tool/admission_rate\nxuanxiaodi://tool/admission_rate?schoolId=\n```\n\n测试链接：\n\n- [需要选择学校](xuanxiaodi://tool/admission_rate)\n- [测试哈佛大学](xuanxiaodi://tool/admission_rate?schoolId=4)\n\n## 智能选校\n\n```link\nxuanxiaodi://tool/match_school\n```\n\n[测试链接](xuanxiaodi://tool/match_school)\n\n## 智能选专业\n\n```link\nxuanxiaodi://tool/match_major\n```\n\n[测试链接](xuanxiaodi://tool/match_major)\n\n## 视频详情\n\n```link\nxuanxiaodi://video?id=\n```\n\n[测试链接](xuanxiaodi://video?id=4)\n\n## 海外大学学校详情\n\n```link\nxuanxiaodi://school?id=\n```\n\n[测试链接](xuanxiaodi://school?id=4)\n\n## 美高学校详情\n\n```link\nxuanxiaodi://highschool?id=\n```\n\n[测试链接](xuanxiaodi://highschool?id=4)\n\n## 国际学校详情\n\n```link\nxuanxiaodi://intschool?id=\n```\n\n[测试链接](xuanxiaodi://intschool?id=4)\n\n## 解决方案详情\n\n```link\nxuanxiaodi://service/plan?id=\n```\n\n[测试链接](xuanxiaodi://service/plan?id=107)\n\n```link\nmobile://service_plan?id=\n```\n\n## 解决方案订单详情\n\n```link\nxuanxiaodi://service/order?id=\n```\n\n[测试链接](xuanxiaodi://service/order?id=4)\n\n## 自己的个人主页\n\n```link\nxuanxiaodi://profile\n```\n\n[测试链接](xuanxiaodi://profile)\n\n## 老师个人主页\n\n```link\nxuanxiaodi://consultant?id=\n```\n\n[测试链接](xuanxiaodi://consultant?id=4)\n\n## 用户个人主页\n\n```link\nxuanxiaodi://user?id=\n```\n\n[测试链接](xuanxiaodi://user?id=4)\n\n## 排行榜页面\n\n```link\nxuanxiaodi://rank?id=\n```\n\n[测试链接](xuanxiaodi://rank?id=1000)\n\n## 推送消息中心\n\n```link\nxuanxiaodi://notifications\n```\n\n[测试链接](xuanxiaodi://notifications)\n\n## 课程列表\n\n```link\nxuanxiaodi://course/list?exam=\n```\n\n[测试链接](xuanxiaodi://course/list?exam=IELTS)\n\n注：exam 参数的值可以参考后端名师课程模块中的 exam 的 id（一般是大写字母缩写）\n\n## 课程详情\n\n```link\nxuanxiaodi://course/introduction?id=\n```\n\n[测试链接](xuanxiaodi://course/introduction?id=2330)\n\n## 留学规划\n\n```link\nxuanxiaodi://tool/planning\n```\n\n[测试链接](xuanxiaodi://tool/planning)\n\n## 考试时间查询\n\n```link\nxuanxiaodi://tool/exam_date?exam=\n```\n\n[测试链接](xuanxiaodi://tool/exam_date?exam=IELTS)\n\n注：exam 参数的值可以参考后端考试地点时间查询模块中的 exam 的 id（一般是大写字母缩写）\n\n## 考试地点查询\n\n```link\nxuanxiaodi://tool/exam_place?exam=\n```\n\n[测试链接](xuanxiaodi://tool/exam_place?exam=IELTS)\n\n注：exam 参数的值可以参考后端考试地点时间查询模块中的 exam 的 id（一般是大写字母缩写）\n",children:[{link:"/articles/app_schemes.md#录取率测试",title:"录取率测试",content:["xuanxiaodi://tool/admission_rate xuanxiaodi://tool/admission_rate?schoolId=","测试链接：","需要选择学校 测试哈佛大学"]},{link:"/articles/app_schemes.md#智能选校",title:"智能选校",content:["xuanxiaodi://tool/match_school","测试链接"]},{link:"/articles/app_schemes.md#智能选专业",title:"智能选专业",content:["xuanxiaodi://tool/match_major","测试链接"]},{link:"/articles/app_schemes.md#视频详情",title:"视频详情",content:["xuanxiaodi://video?id=","测试链接"]},{link:"/articles/app_schemes.md#海外大学学校详情",title:"海外大学学校详情",content:["xuanxiaodi://school?id=","测试链接"]},{link:"/articles/app_schemes.md#美高学校详情",title:"美高学校详情",content:["xuanxiaodi://highschool?id=","测试链接"]},{link:"/articles/app_schemes.md#国际学校详情",title:"国际学校详情",content:["xuanxiaodi://intschool?id=","测试链接"]},{link:"/articles/app_schemes.md#解决方案详情",title:"解决方案详情",content:["xuanxiaodi://service/plan?id=","测试链接","mobile://service_plan?id="]},{link:"/articles/app_schemes.md#解决方案订单详情",title:"解决方案订单详情",content:["xuanxiaodi://service/order?id=","测试链接"]},{link:"/articles/app_schemes.md#自己的个人主页",title:"自己的个人主页",content:["xuanxiaodi://profile","测试链接"]},{link:"/articles/app_schemes.md#老师个人主页",title:"老师个人主页",content:["xuanxiaodi://consultant?id=","测试链接"]},{link:"/articles/app_schemes.md#用户个人主页",title:"用户个人主页",content:["xuanxiaodi://user?id=","测试链接"]},{link:"/articles/app_schemes.md#排行榜页面",title:"排行榜页面",content:["xuanxiaodi://rank?id=","测试链接"]},{link:"/articles/app_schemes.md#推送消息中心",title:"推送消息中心",content:["xuanxiaodi://notifications","测试链接"]},{link:"/articles/app_schemes.md#课程列表",title:"课程列表",content:["xuanxiaodi://course/list?exam=","测试链接","注：exam 参数的值可以参考后端名师课程模块中的 exam 的 id（一般是大写字母缩写）"]},{link:"/articles/app_schemes.md#课程详情",title:"课程详情",content:["xuanxiaodi://course/introduction?id=","测试链接"]},{link:"/articles/app_schemes.md#留学规划",title:"留学规划",content:["xuanxiaodi://tool/planning","测试链接"]},{link:"/articles/app_schemes.md#考试时间查询",title:"考试时间查询",content:["xuanxiaodi://tool/exam_date?exam=","测试链接","注：exam 参数的值可以参考后端考试地点时间查询模块中的 exam 的 id（一般是大写字母缩写）"]},{link:"/articles/app_schemes.md#考试地点查询",title:"考试地点查询",content:["xuanxiaodi://tool/exam_place?exam=","测试链接","注：exam 参数的值可以参考后端考试地点时间查询模块中的 exam 的 id（一般是大写字母缩写）"]}]},{link:"/articles/coop_api.md",title:"选校帝对外合作接口文档",content:["测试地址：http://api.staging.xuanxiaodi.com/coop","线上地址：https://api.xuanxiaodi.com/coop"],markdown:'# 选校帝对外合作接口文档\n\n测试地址：http://api.staging.xuanxiaodi.com/coop\n\n线上地址：https://api.xuanxiaodi.com/coop\n\n## 文档版本\n\n当前版本：v1.3.0\n\n| 版本号 | 编辑人 | 编辑内容                                                                                               |\n| ------ | ------ | ------------------------------------------------------------------------------------------------------ |\n| v0.0.1 | 林康   | 增加了页面跳转、排行榜、咨询相关接口                                                                   |\n| v0.0.2 | 林康   | 增加了活动库相关接口、错误码列表                                                                       |\n| v0.0.3 | 林康   | 修改排行榜学校列表接口 URL 错误，及排行榜大全接口返回的数据结构                                        |\n| v1.0.0 | 林康   | 正式发布文档（无内容变化）                                                                             |\n| v1.0.1 | 林康   | 修改排行榜大全接口（统一字段），修改活动库项目接口（增加字段）                                         |\n| v1.0.2 | 林康   | 排行榜大学学校列表增加关于学校 LOGO 的描述                                                             |\n| v1.1.0 | 林康   | 新增大学数据、高中数据相关接口                                                                         |\n| v1.2.0 | 林康   | 调整跳转接口（默认不重定向）；<br>增加排名机构介绍接口，学校专业相关接口；<br>活动详情接口增加教师信息 |\n| v1.3.0 | 林康   | 新增活动预约接口                                                                                       |\n\n> 版本号说明：\n>\n> - 版本号遵循语义化版本规范，由 Major (A), Minor (B), Patch (C) 三部分组成。\n> - A=0 的版本为预览版，文档已有内容极可能会变化，仅供参考。\n> - A>0 时，仅修改已有内容的问题增加 C，添加新的内容则增加 B，增加了和之前文档不兼容的内容增加 A。\n\n## 目录\n\n[TOC]\n\n## 1、页面跳转相关接口\n\n跳转相关接口均需要单独配置对应跳转功能的 pid 才能开启，否则无法进行跳转。\n\n### 1.1、跳转到大学学校页面\n\n地址：GET /h5/school\n\n参数：\n\n- **schoolId**: _integer_ 学校的 ID\n- **redirect**: _boolean_ 是否响应为 302 重定向\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "url": "https://..." //跳转地址\n  }\n}\n```\n\n### 1.2、跳转到高中学校页面\n\n地址：GET /h5/highschool\n\n参数：\n\n- **highschoolId**: _integer_ 高中的 ID\n- **redirect**: _boolean_ 是否响应为 302 重定向\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "url": "https://..." //跳转地址\n  }\n}\n```\n\n### 1.3、跳转到录取率测试工具\n\n地址：GET /h5/tool/admission_rate\n\n参数：\n\n- **redirect**: _boolean_ 是否响应为 302 重定向\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "url": "https://..." //跳转地址\n  }\n}\n```\n\n### 1.4、跳转到智能选校工具\n\n地址：GET /h5/tool/match_school\n\n参数：\n\n- **redirect**: _boolean_ 是否响应为 302 重定向\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "url": "https://..." //跳转地址\n  }\n}\n```\n\n## 2、大学排名相关接口\n\n### 2.1、排行榜大全接口\n\n地址：GET /data/rankings\n\n参数：\n\n- 无\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": [\n    {\n      "groupId": 1,\n      "groupName": "院校排名", // 有：院校排名、专业排名\n      "lists": [\n        {\n          "listId": 1,\n          "listName": "世界大学", // 院校排名下有：世界大学、各国大学、北美高中\n          // 专业排名下有：世界专业、美国专业\n          "schoolType": "school", // 有 school 和 highschool 两种，对应的后续不同的接口\n          "rankings": [\n            {\n              // 排行榜对象\n              "id": 1, // 排行榜ID，用于排行榜学校列表\n              "title": "世界大学排名", // 榜单名称\n              "type": "USNEWS", // 排名机构\n              "year": 2019, // year + type + title 可以组成完整排行榜名称\n              "isWorldRank": true, // 是否世界排名\n              "isMajorRank": false, // 是否专业排名\n              "majorDirection": 1, // 仅专业排名有这一项，用于区分不同方向的专业排名\n              "schoolType": "school" // 有 school 和 highschool 两种，对应的后续不同的接口（和外层的一样）\n            }\n          ],\n          "majorDirections": [\n            // 仅专业排名有这一项，对应上面的majorDirection，用于分类展示排行榜\n            {\n              "id": 1,\n              "name": "商科"\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n```\n\n### 2.2、大学排行榜学校列表接口\n\n地址：GET /data/rankings/schools\n\n参数：\n\n- **rankingId**: _integer_ 排行榜的 ID\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "meta": {\n      "category": {\n        // 排行榜对象\n        "id": 1, // 排行榜ID\n        "title": "世界大学排名", // 榜单名称\n        "type": "USNEWS", // 机构名\n        "year": 2019, // year + type + title 可以组成完整排行榜名称\n        "isWorldRank": true, // 是否世界排名\n        "isMajorRank": false, // 是否专业排名\n        "info": {\n          // 机构介绍信息，如果没有介绍信息，则无此字段\n          "id": 1, // 自增的ID\n          "key": "USNEWS", // 与排行榜列表中的机构字段对应\n          "name": "USNEWS", // 完整介绍名称\n          "logo": "https://...", // 机构LOGO\n          "introduction": "《USNEWS..." // 机构介绍\n        }\n      }\n    },\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 1, // 递增ID，没有意义\n        "schoolId": 4, // 学校ID\n        "logo": "https://...", // 学校LOGO\n        "chineseName": "", // 学校中文名\n        "englishName": "", // 学校英文名\n        "rank": "1", // 排名字符串\n        "rankValue": 1, // 排名值（排名为范围时取最高值）\n        "countryName": "", // 国家\n        "provinceName": "", // 省份\n        "cityName": "" // 城市\n      }\n      // ...\n    ]\n  }\n}\n```\n\n### 2.3、高中排行榜学校列表接口\n\n地址：GET /data/rankings/highschools\n\n参数：\n\n- **rankingId**: _integer_ 排行榜的 ID\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "meta": {\n      "categoryId": 1, // 排行榜ID\n      "title": "世界大学排名", // 榜单名称\n      "org": "USNEWS", // 机构名\n      "year": 2019 // year + org + title 可以组成完整排行榜名称\n    },\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 1, // 递增ID，没有意义\n        "highschoolId": 4, // 高中ID\n        // 高中学校没有LOGO\n        "chineseName": "", // 高中中文名\n        "englishName": "", // 高中英文名\n        "rank": "1", // 排名字符串\n        "rankValue": 1, // 排名值（排名为范围时取最高值）\n        "countryName": "", // 国家\n        "provinceName": "", // 省份\n        "cityName": "" // 城市\n      }\n      // ...\n    ]\n  }\n}\n```\n\n### 2.4、排名机构介绍接口\n\n该接口用于获取排名机构的介绍信息。\n\n地址：GET /data/rankings/info\n\n参数：\n\n- 无\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": [\n    {\n      "id": 1, // 自增的ID\n      "key": "泰晤士", // 与排行榜列表中的机构字段对应\n      "name": "泰晤士高等教育（THE）", // 完整介绍名称\n      "logo": "https://...", // 机构LOGO\n      "introduction": "《泰晤士高等教..." // 机构介绍\n    }\n  ]\n}\n```\n\n## 3、资讯相关接口\n\n### 3.1、资讯列表数据\n\n获取资讯列表（分页）\n\n地址：GET /data/news/list\n\n参数：\n\n- **categoryId**: _string_ 资讯的分类，接口 3.3 中可以获取到（路径为 `data.categories`，具有两层结构）\n- **regionId**: _string_ 资讯相关地区 ID，接口 3.3 中可以获取到（路径为 `data.regions`，单层接口）\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 1, // 资讯ID\n        "title": "", // 资讯标题\n        "coverUrl": "", // 资讯封面图\n        "publishTime": "", // 发布时间（ISO-8601）\n        "publishDate": "", // 发布日期（YYYY-MM-DD）\n        "preview": "", // 资讯内容提要（纯文本）\n        "categoryGroupName": "", // 一级分类名\n        "categoryName": "" // 二级分类名\n      }\n      // ...\n    ]\n  }\n}\n```\n\n### 3.2、资讯详情数据\n\n地址：GET /data/news/item\n\n参数：\n\n- **newsId**: _integer_ 资讯 ID\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "id": 1, // 资讯ID\n    "title": "", // 资讯标题\n    "coverUrl": "", // 资讯封面图\n    "content": "", // 资讯内容（HTML）\n    "publishTime": "", // 发布时间（ISO-8601）\n    "publishDate": "", // 发布日期（YYYY-MM-DD）\n    "regionName": "", // 相关国家名\n    "categoryGroupName": "", // 一级分类名\n    "categoryName": "" // 二级分类名\n  }\n}\n```\n\n### 3.3、资讯列表筛选项数据\n\n获取用于资讯列表参数的筛选项数据，筛选项为 `{ id, name }` 结构的数据，`name` 用于展示，`id` 用于参数传递。\n\n地址：GET /data/news/list/filters\n\n参数：\n\n- 无\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "categories": [\n      {\n        "group": "GROUP_1",\n        "groupName": "分类1",\n        "options": [\n          {\n            "id": "OPTION_1",\n            "name": "分类1选项1"\n          }\n        ]\n      }\n    ],\n    "regions": [\n      {\n        "id": "REGION_1",\n        "name": "地区1"\n      }\n    ]\n  }\n}\n```\n\n## 4、活动库相关接口\n\n### 4.1、活动库列表数据\n\n地址：GET /data/activities/list\n\n参数：\n\n- **adeptGrade**: _integer_ 按当前年级筛选活动，数据见接口 4.3\n- **adeptMajor**: _integer_ 按专业方向筛选活动\n- **adeptType**: _integer_ 按类型筛选活动\n- **adeptMonth**: _integer_ 按时间筛选活动\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 470, // 活动项目ID\n        "name": "马尔可夫决策过程（MDP）", // 活动名称\n        "activityTime": "滚动", // 活动时间（和筛选项不同，这是更详细的描述）\n        "place": "南京" // 活动地点\n      }\n    ]\n  }\n}\n```\n\n### 4.2、活动库项目数据\n\n注：活动预约资讯需要 `appointEnabled` 字段为 `true` 才可以进行预约资讯（不管是通过 `appointUrl` 跳转到预约页面，还是通过接口提交预约）\n\n地址：GET /data/activities/item\n\n参数：\n\n- **activityId**: _integer_ 活动项目 ID\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "id": 470, // 活动项目ID\n    "name": "马尔可夫决策过程（MDP）", // 活动名称\n    "activityTime": "滚动", // 活动时间（和筛选项不同，这是更详细的描述）\n    "place": "南京", // 活动地点\n    "major": "理工科", // 活动适合专业\n    "introduction": "当今，社会信息化，特别是大数据、人工智能迅猛发展，作为其实现技术的程序设计变得越来越重要。程序设计课程体系也已经不仅仅是大学计算机专业的必修课程，而是逐渐成为一种时代的基本素颜。然而，在目前国内外程序设计课程体系的教材和教学侧重于理论教学，缺乏编程解决问题能力的实践训练。为此，本课程系统、全面磨炼编程解决问题的能力为目的，基于程序设计的知识体系（程序设计语言、数据结构、算法、数学），以案例教学的方法，教授知识点及相关试题，并让学生编程解决问题。", // 活动描述\n    "expectedOutcome": "课题科研报告&学术论文发表、纸质推荐信、教授网络推荐信、官方项目结业证书", // 项目预期成果\n    "note": "清北等985/211院校博士导师1对1线上指导。", // 备注\n    "appointEnabled": true, // 是否可预约\n    "appointUrl": "https://xxxxxx", // 预约链接，需要配置预约功能的pid才能获取到\n    "consultant": {\n      // 活动提供者（导师账号）\n      // 有些活动没有提供者，则没有此对象\n      "id": 1, // 提供者 ID，用于在预约接口（暂无）中指定预约导师\n      "name": "张三", // 提供者姓名\n      "avatar": "https://..." // 提供者头像\n    }\n  }\n}\n```\n\n### 4.3、活动库列表筛选项数据\n\n地址：GET /data/activities/list/filters\n\n参数：\n\n- 无\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "adeptGrade": [\n      {\n        "id": 1, // 选项ID，用于接口中\n        "name": "初中", // 选项名称，用于展示\n        "isDefault": false // 是否默认选项\n      }\n    ],\n    "adeptMajor": [\n      {\n        "id": 1, // 选项ID，用于接口中\n        "name": "工科", // 选项名称，用于展示\n        "isDefault": false // 是否默认选项\n      }\n    ],\n    "adeptType": [\n      {\n        "id": 1, // 选项ID，用于接口中\n        "name": "实习实训", // 选项名称，用于展示\n        "isDefault": false // 是否默认选项\n      }\n    ],\n    "adeptMonth": [\n      {\n        "id": 1, // 选项ID，用于接口中\n        "name": "1月", // 选项名称，用于展示\n        "isDefault": false // 是否默认选项\n      }\n    ]\n  }\n}\n```\n\n### 4.4、活动预约接口\n\n注：接入方需要保证填写的手机号是有效的。\n\n地址：POST /action/activities/appoint\n\n参数：\n\n- **activityId**: _number_ 活动 ID（必须是可预约的活动）\n- **contactName**: _string_ 预约人姓名（必填）\n- **contactPhone**: _string_ 预约人手机号（必填）\n- **cityName**: _string_ 预约人所在城市（非必填，默认值为 `"未知"`）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "success": true\n  }\n}\n```\n\n## 5、大学相关接口\n\n### 5.1、大学列表数据\n\n地址：GET /data/school/list\n\n参数：\n\n- **country**: _string_ 按国家筛选（取值见接口 5.2）\n- **ranking**: _string_ 按国内排名筛选（取值见接口 5.2）\n- **toefl**: _string_ 按托福要求筛选（取值见接口 5.2）\n- **ielts**: _string_ 按雅思要求筛选（取值见接口 5.2）\n- **fee**: _string_ 按每年费用筛选（取值见接口 5.2）\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n```json\n{\n  "code": 0,\n  "data": {\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 7, // 学校ID\n        "chineseName": "多伦多大学", // 学校中文名\n        "englishName": "University of Toronto", // 学校英文名\n        "logo": "https://...", // 学校LOGO\n        "coverPicture": "https://...", // 背景图片\n        "establishmentYear": 1827, // 建校年份\n        "feeTotal": "43,180美元", // 学费\n        "scoreToefl": "100", // 托福要求\n        "scoreIelts": "6.5", // 雅思要求\n        "scoreSat": null, // SAT要求\n        "gpa": null, // GPA要求\n        "scoreGreGrad": null, // 研究生GRE要求\n        "scoreGmatGrad": null, // 研究生GMAT要求\n        "scoreAct": null, // ACT要求\n        "countryName": "加拿大", // 国家\n        "provinceName": "加拿大", // 州省\n        "cityName": "多伦多", // 城市\n        "cityPath": "加拿大-多伦多", // 国家-州省-城市\n        "typeName": "公立", // 学校性质\n        "TIE_ADMINSSION_RATE": "10.0%", // 录取率\n        "worldRankings": [\n          // 世界排名\n          {\n            "id": 1271, // 榜单ID\n            "type": "QS", // 排名机构\n            "year": 2020, // 榜单年份\n            "title": "世界大学排名", // 榜单名称\n            "rank": 29 // 学校的排名\n          }\n          // ...\n        ],\n        "localRankings": [\n          // 国内排名\n          {\n            "id": 1294,\n            "type": "USNEWS",\n            "year": 2019,\n            "title": "加拿大大学排名",\n            "rank": 1\n          }\n          // ...\n        ]\n      }\n      // ...\n    ]\n  }\n}\n```\n\n### 5.2、大学列表筛选项数据\n\n地址：GET /data/school/list/filters\n\n参数：\n\n- 无\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "countries": [\n      // 国家筛选项，id用于接口参数，name用于展示\n      { "id": "", "name": "全球" },\n      { "id": "226", "name": "美国" }\n      // ...\n    ],\n    "rankings": [\n      // 国内排名筛选项，id用于接口参数，name用于展示\n      { "id": "", "name": "不限" },\n      { "id": "1,10", "name": "1-10名" }\n      // ...\n    ],\n    "toefl": [\n      // 托福要求筛选项，id用于接口参数，name用于展示\n      { "id": "", "name": "不限" },\n      { "id": "null", "name": "不要求" },\n      { "id": ",80", "name": "80分以下" }\n      // ...\n    ],\n    "ielts": [\n      // 雅思要求筛选项，id用于接口参数，name用于展示\n      { "id": "", "name": "不限" },\n      { "id": "null", "name": "不要求" },\n      { "id": ",5.4999", "name": "5.5分以下" }\n      // ...\n    ],\n    "fees": [\n      // 每年费用筛选项，id用于接口参数，name用于展示\n      { "id": "", "name": "不限" },\n      { "id": ",19999", "name": "2万美元以下" }\n      // ...\n    ]\n  }\n}\n```\n\n### 5.3、大学详情数据\n\n地址：GET /data/school/item\n\n参数：\n\n- **schoolId**: _integer_ 大学 ID\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "id": 4,\n    "chineseName": "哈佛大学", // 学校中文名\n    "englishName": "Harvard University", // 学校英文名\n    "logo": "https://...", // 学校LOGO\n    "motto": "Veritas (Truth)", // 校训\n    "establishmentYear": 1636, // 建校年份\n    "area": "总面积20.6Km2，市区", // 占地面积\n    "group": "常春藤盟校、美国大学协会（AAU）", // 学校所属集团\n    "website": "http://www.harvard.edu/", // 学校官网\n    "textIntroduction": "哈佛大学（Harvard University）成立于1636年。。。", // 文字简介\n    "address": "Massachusetts Hall, Cambridge, Massachusetts 02138", // 学校地址\n    "coverPicture": "https://...", // 页面头部底图\n    "hotMajors": [\n      // 热门专业\n      "广告学",\n      "物理科学",\n      "生物科学"\n    ],\n    "features": [\n      // 学校特色\n      {\n        "keyword": "世界顶尖大学",\n        "description": "哈佛大学是全美第一所大学，同时是。。。"\n      },\n      {\n        "keyword": "世界顶尖教学水平",\n        "description": "哈佛大学的所有本科专业教育水平都。。。"\n      }\n      // ...\n    ],\n    "nativeName": null, // 本国名（比如日本院校的日文名）\n    "worldRankings": [\n      // 排名信息（世界排名）\n      {\n        "id": 1271, // 榜单ID\n        "type": "QS", // 排名机构\n        "year": 2020, // 榜单年份\n        "title": "世界大学排名", // 榜单名称\n        "rank": 3 // 学校的排名\n      },\n      {\n        "id": 1222,\n        "type": "USNEWS",\n        "year": 2019,\n        "title": "世界大学排名",\n        "rank": 1\n      }\n      // ...\n    ],\n    "localRankings": [\n      // 排名信息（本国排名）\n      {\n        "id": 1298, // 和上面一样\n        "type": "USNEWS",\n        "year": 2020,\n        "title": "美国综合性大学排名",\n        "rank": 2\n      },\n      {\n        "id": 1218,\n        "type": "泰晤士",\n        "year": 2019,\n        "title": "美国大学排名",\n        "rank": 1\n      }\n      // ...\n    ],\n    "extraInfo": {\n      // 这里面的都是描述性的文本信息\n      "TIE_LOCATION": "它的总部。。。", // 地理位置\n      "TIE_HISTORY": "15世纪末，由。。。", // 学校历史\n      "TIE_FEATURE": "截止2014年，哈。。。", // 学校特色\n      "TIE_LIBRARY": "哈佛大学图书馆。。。", // 图书馆介绍\n      "TIE_INSTALLATION": "哈佛大学校。。。", // 校园设施\n      "TIE_ACCOMMODATION": "哈佛的住。。。", // 学校住宿\n      "TIE_DEPARTMENT_MAJOR": "截至2014年。。。", // 院系设置介绍\n      "TIE_TEACHING": "哈佛采用半。。。", // 教学特色\n      "TIE_CAMPUS": "哈佛大学占地85公顷的。。。", // 校园环境\n      "TIE_ADMINSSION_RATE": "5%", // 学校录取率（一般指本科）\n      "TIE_APPLICATION_STUDENT_AMOUNT": "", // 申请学生人数\n      "TIE_ADMISSIONS_OFFICE": "本科招办联系方。。。", // 招生办信息\n      "TIE_STUDENT_AMOUNT": "21,966", // 学生人数\n      "TIE_UNDERGRADUATE_AMOUNT": "7,029", // 本科生人数\n      "TIE_GRADUATE_AMOUNT": "14,937", // 研究生人数\n      "TIE_INTERNATIONAL_STUDENT_RATIO": "21.4%", // 国际学生比\n      "TIE_FACULTY_STUDENT_RATIO": "1:7", // 师生比\n      "TIE_GRADUATION_RATE": "86%", // 毕业率\n      "TIE_EMPLOYMENT_RATE": "91.1%", // 就业率\n      "TIE_EMPLOYMENT_PAY": "毕业起薪：$。。。", // 就业薪资\n      "TIE_BOY_GIRL_RATIO": "53:47" // 男女比例\n    },\n    "evaluationBad": [\n      // 学校差评项\n      "People often focus too much on future careers and making money, and sometimes lose track of enjoying the present.",\n      "Professors are brilliant, but tracking them down for a one-on-one conversation requires a degree of patience."\n      // ...\n    ],\n    "evaluationGood": [\n      // 学校好评项\n      "Access to the best professors and minds of our time",\n      "The student motivation and ambition on campus is contagious."\n      // ...\n    ],\n    "strongMajors": [\n      // 强势专业\n      "商学院",\n      "法学院",\n      "教育学院",\n      "生物医学领域专业"\n    ],\n    "aceFields": [\n      // 王牌领域（和强势专业类似，不一定指专业）\n      "商业",\n      "法律",\n      "生物医学领域"\n    ],\n    "selectionReason": [\n      // 择校理由\n      "哈佛大学(Harvard University)，美国大学教育的旗舰，常青藤联盟的代表。",\n      "哈佛大学商学院是这个星球上最好的商学院，没有其他。",\n      "哈佛大学的所有本科学科教育水平都是世界顶级的。",\n      "哈佛大学图书馆是世界上最大的大学图书馆。"\n    ],\n    "videos": [\n      // 相关视频\n      {\n        "id": 4, // 视频ID\n        "name": "小俊好帅", // 视频标题\n        "coverUrl": "https://...", // 视频封面\n        "videoDuration": 43023, // 视频时长（秒）\n        "watchCount": 2212, // 观看次数\n        "likeCount": 0 // 点赞次数\n      }\n      // ...\n    ],\n    "countryName": "美国", // 国家\n    "provinceName": "马萨诸塞", // 州省\n    "cityName": "波士顿", // 城市\n    "typeName": "私立", // 学校性质\n    "cityPath": "美国-马萨诸塞-波士顿", // 国家-州省-城市（其中会省略重复或者缺失的部分）\n    "photos": [\n      // 学校图片\n      "https://...",\n      "https://...",\n      "https://...",\n      "https://..."\n    ],\n    "coverBottomColor": "#2C2C13", // 头部区域底色（一般与头部底图配合使用）\n    "application": {\n      // 申请信息\n      "undergraduate": {\n        // 本科申请信息\n        "adminssionRate": "5%", // 录取率\n        "applicationStudentAmount": "42,749", // 申请人数\n        "introduction": "", // 申请简介\n        "material": "申请表：在线填写。。。", // 申请材料\n        "scoreToefl": "接受，暂无最低分数要求", // 托福成绩要求\n        "scoreIelts": "6.5", // 雅思成绩要求\n        "scoreSat": "总分：1420-1560，阅。。。", // SAT分数要求（本科）\n        "scoreGre": "...", // GRE分数要求（研究生）\n        "scoreGmat": "...", // GMAT分数要求（研究生）\n        "gpa": 3.8, // GPA要求\n        "feeApplication": "75美元", // 申请费\n        "feeTuition": "US$51,925", // 学费\n        "feeAccommodation": "US$17,682", // 住宿费\n        "feeBook": "US$1,200", // 书本费\n        "feeLife": "US$2,993", // 生活费\n        "scholarship": "哈佛大学奖学金十。。。", // 奖学金描述\n        "timeApplicationDeadline": "1月1日（EA：11月1日 RD：1月1日）", // 申请截止时间\n        "timeOffer": "4月1日", // Offer发放时间\n        "timeOfferDeadline": "5月1日", // Offer发放截止时间\n        "semester": "秋季", // 申请学期\n        "adminssionElements": "...", // 申请要点（描述）\n        "scoreSat2": "650-800", // SAT2成绩要求（本科）\n        "scoreAct": "32-35", // ACT要求（本科）\n        "feeTotal": "US$73,800", // 总费用（参考值）\n        "flow": "1. 参加标准化的入学考。。。", // 申请流程\n        "requireInterview": false, // 是否需要面试\n        "feeOthers": "...", // 其他费用\n        "scoreNative": "...", // 本地语言考试成绩要求\n        "scoreOthers": "..." // 其他分数要求\n      },\n      "graduate": {\n        // 研究生申请信息\n        // 同本科申请\n      },\n      "arts": {\n        // 艺术申请信息\n        "admissionRate": 0.06, // 录取率\n        "strongMajors": "景观设计", // 强势艺术专业\n        "undergraduateMajors": "艺术史，。。。", // 本科艺术专业\n        "graduateMajors": "建筑，景观建筑，。。。", // 研究生艺术专业\n        "textIntroduction": "哈佛大学。。。", // 艺术申请简介\n        "alumni": "胡复刚\\n物理学家、教育家。。。", // 校友介绍\n        "locationInfo": "位置\\n哈佛大学位于波士顿，。。。", // 地理位置\n        "feeTuition": "47,047美元", // 学费\n        "feeLife": null, // 生活费\n        "feeAccommodation": "15,951美元", // 住宿费\n        "feeBook": "2,000美元", // 书本费\n        "feeTraffic": "950美元", // 交通费\n        "feeOther": "1,875美元", // 其他费用\n        "feeTotal": "67,823美元", // 总费用（参考值）\n        "averageScholarship": "46409", // 平均奖学金\n        "applicationExperience": "哈佛是全世。。。", // 申请经验\n        "undergraduateApplicationDeadline": "早申：11月1日\\n常规：1月1日", // 本科申请截止时间\n        "undergraduateScoreToefl": "100", // 本科托福要求\n        "undergraduateScoreIelts": null, // 本科雅思要求\n        "undergraduateScoreOther": "SAT或ACT。。。", // 本科其他分数要求\n        "undergraduateRequirements": "需要在网上。。。", // 本科申请要求\n        "undergraduateWorksRequirement": "不需要作品集", // 本科作品集要求\n        "graduateApplicationDeadline": null, // 研究生申请截止时间\n        "graduateScoreToefl": "100", // 研究生托福要求\n        "graduateScoreIelts": null, // 研究生雅思要求\n        "graduateScoreOther": "GRE", // 研究生其他分数要求\n        "graduateRequirements": "需要在网上申请，提交成绩单、语言成绩、GRE成绩、推荐信、个人陈述和作品集。有面试。", // 研究生申请要求\n        "graduateWorksRequirement": "通过slideroom上传。", // 研究生作品集要求\n        "difficultyName": "难" // 艺术申请难度\n      }\n    }\n  }\n}\n```\n\n### 5.4、大学案例列表数据\n\n地址：GET /data/school/offer/list\n\n参数：\n\n- **schoolId**: _integer_ 大学 ID\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 11296, // 案例ID\n        "title": "哈佛大学公共卫生专业硕士成功申请案例", // 案例标题\n        "targetMajorName": "公共卫生", // 申请专业中文名\n        "targetMajorEnglishName": null, // 申请专业英文名\n        "targetSchool": {\n          // 申请学校\n          "id": 4, // 学校ID\n          "chineseName": "哈佛大学", // 学校中文名\n          "englishName": "Harvard University", // 学校英文名\n          "logo": "https://..." // 学校LOGO\n        }\n      }\n      // ...\n    ]\n  }\n}\n```\n\n### 5.5、大学案例详情数据\n\n地址：GET /data/school/offer/item\n\n参数：\n\n- **offerId**: _integer_ 案例 ID\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "id": 11296, // 案例ID\n    "title": "哈佛大学公共卫生专业硕士成功申请案例", // 案例标题\n    "studentName": "萧同学", // 学生姓名\n    "currentSchoolName": null, // 就读学校\n    "currentMajorName": null, // 就读专业\n    "currentDegreeName": "大学", // 就读年级\n    "score": null, // 学术成绩\n    "scoreToefl": null, // 托福成绩\n    "scoreIelts": null, // 雅思成绩\n    "scoreSat": null, // SAT成绩\n    "scoreGre": "320-329", // GRE成绩\n    "scoreGmat": null, // GMAT成绩\n    "targetMajorName": "公共卫生", // 申请专业中文名\n    "targetMajorEnglishName": null, // 申请专业英文名\n    "applyTime": "2018-03-01", // 申请时间\n    "targetSchool": {\n      // 申请学校（同上一个接口）\n      "id": 4,\n      "chineseName": "哈佛大学",\n      "englishName": "Harvard University",\n      "logo": "https://media.xuanxiaodi.com/school/logo/af/c5/afc5ce19d2c7037cbcbd579549451b89144b0.png"\n    },\n    "targetCountryName": "美国", // 申请国家\n    "targetDegreeName": "研究生", // 申请项目\n    "relatedOffers": [\n      // 相关案例\n      {\n        "id": 4084,\n        "title": "布朗大学公共卫生专业硕士成功申请案例",\n        "targetMajorName": "公共卫生",\n        "targetMajorEnglishName": null,\n        "targetSchool": {\n          "id": 2305,\n          "chineseName": "布朗大学",\n          "englishName": "Brown University",\n          "logo": "https://media.xuanxiaodi.com/school/logo/34/a5/34a534e98c4f05a2a2c880819adfe4ec7a58.png"\n        }\n      },\n      {\n        "id": 11978,\n        "title": "埃默里大学公共卫生专业硕士成功申请案例",\n        "targetMajorName": "公共卫生",\n        "targetMajorEnglishName": null,\n        "targetSchool": {\n          "id": 2295,\n          "chineseName": "埃默里大学",\n          "englishName": "Emory University",\n          "logo": "https://media.xuanxiaodi.com/school/logo/ed/e7/ede7b5aa07f323bb1be779895c5a4745.jpg"\n        }\n      },\n      {\n        "id": 2336,\n        "title": "专业文书 收获埃默里大学公共卫生专业offer",\n        "targetMajorName": "公共卫生",\n        "targetMajorEnglishName": null,\n        "targetSchool": {\n          "id": 2295,\n          "chineseName": "埃默里大学",\n          "englishName": "Emory University",\n          "logo": "https://media.xuanxiaodi.com/school/logo/ed/e7/ede7b5aa07f323bb1be779895c5a4745.jpg"\n        }\n      }\n    ]\n  }\n}\n```\n\n### 5.6、大学专业列表数据\n\n地址：GET /data/school/major/list\n\n参数：\n\n- **schoolId**: _integer_ 大学 ID\n- **degree**: _string_ 学位类型：本科专业（`undergraduate`），研究生专业（`graduate`）\n- **categoryName**: _string_ 专业分类（筛选项，见接口 5.7）\n- **page**: _integer_ 分页页码（从 1 开始）\n- **pageSize**: _integer_ 分页尺寸（默认 20，最大 100）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "pagination": {\n      "page": 1, // 当前页码\n      "pageSize": 20, // 当前尺寸\n      "count": 1000 // 分页数据总数\n    },\n    "data": [\n      {\n        "id": 20607, // 专业ID\n        "chineseName": "法律文科学士", // 专业中文名\n        "englishName": "BA in Law", // 专业英文名\n        "lengthOfSchool": "11个月", // 学制\n        "feeTuition": "13011英镑/学年", // 学费\n        "scoreIelts": "7.0", // 雅思要求\n        "degreeName": "本科" // 学位类型文本\n      }\n    ]\n  }\n}\n```\n\n### 5.7、大学专业列表筛选项\n\n获取专业列表的筛选项（对不同的大学和学位，筛选项中的数据可能有所不同）\n\n地址：GET /data/school/major/list/filters\n\n参数：\n\n- **schoolId**: _integer_ 大学 ID\n- **degree**: _string_ 学位类型：本科专业（`undergraduate`），研究生专业（`graduate`）\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "categories": [\n      // 专业分类筛选项（仅包括该大学/学位对应的专业存在的分类值）\n      // 对应 5.6 接口中的 categoryName 参数\n      {\n        "id": "商科", // 用于接口参数\n        "name": "商科", // 用于展示\n        "selected": false\n      }\n    ]\n  }\n}\n```\n\n### 5.8、大学专业详情数据\n\n地址：GET /data/school/major/item\n\n参数：\n\n- **majorId**: _integer_ 专业 ID\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "id": 43385, // 专业ID\n    "chineseName": "社会学硕士(现代社会与全球转型)（MPhil）", // 专业中文名\n    "englishName": "MPhil in Sociology (Modern Society and Global Transformations)", // 专业英文名\n    "degreeName": "研究生", // 学位名称\n    "categoryName": "人文社科", // 专业分类名称\n    "introduction": "", // 专业介绍\n    "lengthOfSchool": "9个月", // 学制\n    "timeApplicationDeadline": "4月26日", // 申请截止时间\n    "timeOffer": "", // Offer发放时间\n    "timeOfferDeadline": "", // Offer发放最晚时间\n    "semester": "秋季", // 开学学期\n    "feeTotal": "", // 总费用（不一定等于下面的费用的和）\n    "feeApplication": "60英镑", // 申请费\n    "feeTuition": "", // 学费\n    "feeAccommodation": "", // 住宿费\n    "feeBook": "", // 书本费\n    "feeLife": "", // 生活费\n    "feeOthers": "", // 其他费用\n    "scoreToefl": "总分：110，听力：25，阅读：25，口语：110，写作：110", // 托福要求\n    "scoreIelts": "总分：7.5，听力：7，阅读：7，口语：7.5，写作：7.5", // 雅思要求\n    "scoreNative": "", // 其他语言成绩要求\n    "scoreOthers": "", // 其他学术成绩要求\n    "scoreSat": "", // SAT要求\n    "scoreSat2": "", // SAT2要求\n    "scoreGre": "", // GRE要求\n    "scoreGmat": "", // GMAT要求\n    "scoreAct": "", // ACT要求\n    "gpa": "", // GPA要求\n    "material": "Transcript:\\nUncertified copies o...", // 申请材料\n    "scholarship": "", // 奖学金\n    "admissionElements": "学位要求：Bachelor/Mas...", // 申请要点\n    "flow": "", // 申请流程\n    "school": {\n      // 专业所在大学\n      "id": 3, // 大学ID\n      "chineseName": "剑桥大学", // 中文名\n      "englishName": "University of Cambridge", // 英文名\n      "logo": "https://..." // 学校LOGO\n    },\n    "courses": [\n      {\n        "id": 1, //  专业课程ID\n        "chineseName": "化学与环境工程中的数学方法", // 课程中文名\n        "englishName": "Mathematical Methods in Chemical & Environmental Engineering" // 课程英文名\n      }\n    ]\n  }\n}\n```\n\n## 6、高中相关接口\n\n### 6.1、高中详情数据\n\n地址：GET /data/highschool/item\n\n参数：\n\n- **highschoolId**: _integer_ 高中 ID\n\n响应：\n\n```json\n{\n  "code": 0,\n  "data": {\n    "id": 100, // 高中ID\n    "chineseName": "教堂山高中", // 高中中文名\n    "englishName": "Chapel Hill-Chauncy Hall", // 高中英文名\n    "logo": "https://...", // 高中LOGO\n    "coverImage": "https://...", // 头部区域底图\n    "introduction": "教堂山高中位于马萨。。。", // 介绍\n    "grades": "9-12, PG", // 开设年级\n    "establishmentYear": 1828, // 建校年份\n    "website": "http://www.chch.org", // 主页\n    "address": "785 Beaver Street Waltham, MA 02452", // 地址\n    "area": "40英亩", // 占地面积\n    "classSize": "10", // 班级大小\n    "tel": "781-314-0800", // 联系电话\n    "email": "admissions@chch.org", // 联系邮箱\n    "rank": "169", // 综合排名\n    "application": {\n      // 申请信息\n      "applicationDeadline": "2月1日", // 申请截止时间\n      "toeflCode": "8636", // 托福送分代码\n      "ssatCode": "2278", // SSAT送分代码\n      "iseeCode": null, // ISEE送分代码\n      "tel": "781-314-0800", // 申请联系电话\n      "email": null, // 申请联系邮箱\n      "interview": "Skype,来华面试", // 面试\n      "acceptScores": null, // 接受考试分数\n      "chineseApplicationAmount": "40", // 中国学生申请人数\n      "chineseAdmissionAmount": "5", // 中国学生录取人数\n      "chineseStudentAmount": "24", // 中国学生在读人数\n      "gradesForChineseStudent": "9 - 10", // 中国学生开放年级\n      "amountForChineseStudent": "6", // 中国学生开放名额\n      "chineseThirdpartyPreinterview": "没有要求", // 中国学生第三方预面试\n      "chineseToeflAverage": 75, // 中国学生托福平均分\n      "chineseToeflLowest": 55, // 中国学生托福最低分\n      "chineseSsatAverage": null, // 中国学生SSAT平均分\n      "chineseSsatLowest": null // 中国学生SSAT最低分\n    },\n    "summerSchool": {\n      // 暑期学校\n      "website": "...", // 官网\n      "startTime": "...", // 开始时间\n      "endTime": "...", // 结束时间\n      "grades": "...", // 年级要求\n      "ages": "...", // 年龄要求\n      "genders": "...", // 性别要求\n      "feeTuition": "...", // 学费\n      "eslCourse": "...", // ESL课程\n      "checklist": "...", // ？？？\n      "tel": "...", // 联系电话\n      "email": "..." // 联系邮箱\n    },\n    "photos": [\n      // 学校图片\n      "https://...",\n      "https://...",\n      "https://...",\n      "https://..."\n    ],\n    "apCourses": [\n      // AP课程\n      {\n        "chineseName": "工作室艺术：绘画",\n        "englishName": "Studio Art: Drawing"\n      },\n      {\n        "chineseName": "微积分AB",\n        "englishName": "Calculus AB"\n      }\n    ],\n    "sports": [\n      // 体育项目\n      {\n        "chineseName": "羽毛球",\n        "englishName": "Badminton"\n      },\n      {\n        "chineseName": "棒球",\n        "englishName": "Baseball"\n      }\n    ],\n    "communities": [\n      // 社团\n      {\n        "chineseName": null,\n        "englishName": "Admissions Tour Guides"\n      },\n      {\n        "chineseName": "国际学生组织",\n        "englishName": "International Student Organization"\n      }\n    ],\n    "countryName": "美国", // 国家\n    "provinceName": "马萨诸塞", // 州省\n    "cityName": null, // 城市\n    "cityPath": "美国-马萨诸塞", // 国家-州省-城市\n    "boarderTypeName": "寄宿学校", // 寄宿类型\n    "sexualTypeName": "男女混校", // 男女类型\n    "schoolTypeName": "大学预备", // 学校类型\n    "locationTypeName": "城市", // 地理位置\n    "religonName": "非宗教学校", // 宗教类型\n    "features": [\n      // 学校特色\n      "名校录取率高",\n      "热门学区"\n    ],\n    "pros": [\n      // 学校优势\n      "一年中三季提供24 项多层级CIF",\n      "体育项目及8 个运动俱乐部，"\n    ],\n    "honors": [\n      // 学校荣誉\n      "学校荣获100 项CIF、州及国家级锦标赛冠军"\n    ],\n    "facilities": [\n      // 校园设施\n      "健身房",\n      "棒球场",\n      "图书馆"\n    ],\n    "eslCourse": "提供ESL课程", // ESL课程\n    "apCourseCount": 4, // AP课程数\n    "feeTuition": "$59,000", // 学费\n    "studentAmount": "180", // 学生人数\n    "facultyStudentRatio": "1:5", // 师生比\n    "internationalStudentRatio": "18%", // 国际学生比\n    "boarderRatio": "40%", // 寄宿比例\n    "seniorFacultyRatio": "70%", // 高级教师比\n    "apAttendRate": null, // AP提交率\n    "apPassRate": null, // AP通过率\n    "scoreSat": "1220", // SAT分数参考\n    "alumniFund": "$11,111/人", // 校友捐赠\n    "scholarship": "..." // 奖学金\n  }\n}\n```\n\n## 附录 A：错误码列表\n\n| 错误码      | 错误原因                          | 解决方法                                                                          |\n| ----------- | --------------------------------- | --------------------------------------------------------------------------------- |\n| SCHOOL_1    | 服务器未知错误                    | 联系对接人员修复 BUG                                                              |\n| SCHOOL_4    | 请求缺少一些必要的参数            | 补充缺失的参数即可                                                                |\n| SCHOOL_11   | 请求了尚未配置的功能              | 联系对接人员申请配置对应的功能                                                    |\n| SCHOOL_20   | 请求中没有找到 appid              | 参考对接文档在请求中正确添加 appid（x-xxd-appid）                                 |\n| SCHOOL_21   | 请求提供的 appid 不正确           | 检查请求中添加的 appid 是否正确                                                   |\n| SCHOOL_22   | 请求中缺少签名相关参数            | 参考对接文档正确添加签名相关参数（x-xxd-nonce, x-xxd-timestamp, x-xxd-signature） |\n| SCHOOL_23   | 在规定时间内使用了相同的 noncestr | 检查 noncestr 生成的逻辑，确保短时间内不会生成相同的值                            |\n| SCHOOL_24   | 签名时间戳与服务器时间差距过大    | 检查调用方的时间是否与标准时间同步                                                |\n| SCHOOL_25   | 签名校验失败                      | 检查签名算法是否正确实现                                                          |\n| SCHOOL_1601 | 没有找到 ID 对应的资源            | 检查请求中提供的资源 ID 是否正确                                                  |\n\n> 注：如果出现其他的错误码，可以根据接口提供的错误信息自行处理，或者询问对接人员\n',children:[{link:"/articles/coop_api.md#文档版本",title:"文档版本",content:["当前版本：v1.3.0","版本号 编辑人 编辑内容 v0.0.1 林康 增加了页面跳转、排行榜、咨询相关接口 v0.0.2 林康 增加了活动库相关接口、错误码列表 v0.0.3 林康 修改排行榜学校列表接口 URL 错误，及排行榜大全接口返回的数据结构 v1.0.0 林康 正式发布文档（无内容变化） v1.0.1 林康 修改排行榜大全接口（统一字段），修改活动库项目接口（增加字段） v1.0.2 林康 排行榜大学学校列表增加关于学校 LOGO 的描述 v1.1.0 林康 新增大学数据、高中数据相关接口 v1.2.0 林康 调整跳转接口（默认不重定向）；增加排名机构介绍接口，学校专业相关接口；活动详情接口增加教师信息 v1.3.0 林康 新增活动预约接口","版本号说明： 版本号遵循语义化版本规范，由 Major (A), Minor (B), Patch (C) 三部分组成。 A=0 的版本为预览版，文档已有内容极可能会变化，仅供参考。 A>0 时，仅修改已有内容的问题增加 C，添加新的内容则增加 B，增加了和之前文档不兼容的内容增加 A。"]},{link:"/articles/coop_api.md#目录",title:"目录",content:["[TOC]"]},{link:"/articles/coop_api.md#1、页面跳转相关接口",title:"1、页面跳转相关接口",content:["跳转相关接口均需要单独配置对应跳转功能的 pid 才能开启，否则无法进行跳转。","1.1、跳转到大学学校页面","地址：GET /h5/school","参数：","schoolId: integer 学校的 ID redirect: boolean 是否响应为 302 重定向","响应：",'{ "code": 0, "data": { "url": "https://..." //跳转地址 } }',"1.2、跳转到高中学校页面","地址：GET /h5/highschool","参数：","highschoolId: integer 高中的 ID redirect: boolean 是否响应为 302 重定向","响应：",'{ "code": 0, "data": { "url": "https://..." //跳转地址 } }',"1.3、跳转到录取率测试工具","地址：GET /h5/tool/admission_rate","参数：","redirect: boolean 是否响应为 302 重定向","响应：",'{ "code": 0, "data": { "url": "https://..." //跳转地址 } }',"1.4、跳转到智能选校工具","地址：GET /h5/tool/match_school","参数：","redirect: boolean 是否响应为 302 重定向","响应：",'{ "code": 0, "data": { "url": "https://..." //跳转地址 } }']},{link:"/articles/coop_api.md#2、大学排名相关接口",title:"2、大学排名相关接口",content:["2.1、排行榜大全接口","地址：GET /data/rankings","参数：","无","响应：",'{ "code": 0, "data": [ { "groupId": 1, "groupName": "院校排名", // 有：院校排名、专业排名 "lists": [ { "listId": 1, "listName": "世界大学", // 院校排名下有：世界大学、各国大学、北美高中 // 专业排名下有：世界专业、美国专业 "schoolType": "school", // 有 school 和 highschool 两种，对应的后续不同的接口 "rankings": [ { // 排行榜对象 "id": 1, // 排行榜ID，用于排行榜学校列表 "title": "世界大学排名", // 榜单名称 "type": "USNEWS", // 排名机构 "year": 2019, // year + type + title 可以组成完整排行榜名称 "isWorldRank": true, // 是否世界排名 "isMajorRank": false, // 是否专业排名 "majorDirection": 1, // 仅专业排名有这一项，用于区分不同方向的专业排名 "schoolType": "school" // 有 school 和 highschool 两种，对应的后续不同的接口（和外层的一样） } ], "majorDirections": [ // 仅专业排名有这一项，对应上面的majorDirection，用于分类展示排行榜 { "id": 1, "name": "商科" } ] } ] } ] }',"2.2、大学排行榜学校列表接口","地址：GET /data/rankings/schools","参数：","rankingId: integer 排行榜的 ID page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）","响应：",'{ "code": 0, "data": { "meta": { "category": { // 排行榜对象 "id": 1, // 排行榜ID "title": "世界大学排名", // 榜单名称 "type": "USNEWS", // 机构名 "year": 2019, // year + type + title 可以组成完整排行榜名称 "isWorldRank": true, // 是否世界排名 "isMajorRank": false, // 是否专业排名 "info": { // 机构介绍信息，如果没有介绍信息，则无此字段 "id": 1, // 自增的ID "key": "USNEWS", // 与排行榜列表中的机构字段对应 "name": "USNEWS", // 完整介绍名称 "logo": "https://...", // 机构LOGO "introduction": "《USNEWS..." // 机构介绍 } } }, "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 1, // 递增ID，没有意义 "schoolId": 4, // 学校ID "logo": "https://...", // 学校LOGO "chineseName": "", // 学校中文名 "englishName": "", // 学校英文名 "rank": "1", // 排名字符串 "rankValue": 1, // 排名值（排名为范围时取最高值） "countryName": "", // 国家 "provinceName": "", // 省份 "cityName": "" // 城市 } // ... ] } }',"2.3、高中排行榜学校列表接口","地址：GET /data/rankings/highschools","参数：","rankingId: integer 排行榜的 ID page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）","响应：",'{ "code": 0, "data": { "meta": { "categoryId": 1, // 排行榜ID "title": "世界大学排名", // 榜单名称 "org": "USNEWS", // 机构名 "year": 2019 // year + org + title 可以组成完整排行榜名称 }, "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 1, // 递增ID，没有意义 "highschoolId": 4, // 高中ID // 高中学校没有LOGO "chineseName": "", // 高中中文名 "englishName": "", // 高中英文名 "rank": "1", // 排名字符串 "rankValue": 1, // 排名值（排名为范围时取最高值） "countryName": "", // 国家 "provinceName": "", // 省份 "cityName": "" // 城市 } // ... ] } }',"2.4、排名机构介绍接口","该接口用于获取排名机构的介绍信息。","地址：GET /data/rankings/info","参数：","无","响应：",'{ "code": 0, "data": [ { "id": 1, // 自增的ID "key": "泰晤士", // 与排行榜列表中的机构字段对应 "name": "泰晤士高等教育（THE）", // 完整介绍名称 "logo": "https://...", // 机构LOGO "introduction": "《泰晤士高等教..." // 机构介绍 } ] }']},{link:"/articles/coop_api.md#3、资讯相关接口",title:"3、资讯相关接口",content:["3.1、资讯列表数据","获取资讯列表（分页）","地址：GET /data/news/list","参数：","categoryId: string 资讯的分类，接口 3.3 中可以获取到（路径为 data.categories，具有两层结构） regionId: string 资讯相关地区 ID，接口 3.3 中可以获取到（路径为 data.regions，单层接口） page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）","响应：",'{ "code": 0, "data": { "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 1, // 资讯ID "title": "", // 资讯标题 "coverUrl": "", // 资讯封面图 "publishTime": "", // 发布时间（ISO-8601） "publishDate": "", // 发布日期（YYYY-MM-DD） "preview": "", // 资讯内容提要（纯文本） "categoryGroupName": "", // 一级分类名 "categoryName": "" // 二级分类名 } // ... ] } }',"3.2、资讯详情数据","地址：GET /data/news/item","参数：","newsId: integer 资讯 ID","响应：",'{ "code": 0, "data": { "id": 1, // 资讯ID "title": "", // 资讯标题 "coverUrl": "", // 资讯封面图 "content": "", // 资讯内容（HTML） "publishTime": "", // 发布时间（ISO-8601） "publishDate": "", // 发布日期（YYYY-MM-DD） "regionName": "", // 相关国家名 "categoryGroupName": "", // 一级分类名 "categoryName": "" // 二级分类名 } }',"3.3、资讯列表筛选项数据","获取用于资讯列表参数的筛选项数据，筛选项为 { id, name } 结构的数据，name 用于展示，id 用于参数传递。","地址：GET /data/news/list/filters","参数：","无","响应：",'{ "code": 0, "data": { "categories": [ { "group": "GROUP_1", "groupName": "分类1", "options": [ { "id": "OPTION_1", "name": "分类1选项1" } ] } ], "regions": [ { "id": "REGION_1", "name": "地区1" } ] } }']},{link:"/articles/coop_api.md#4、活动库相关接口",title:"4、活动库相关接口",content:["4.1、活动库列表数据","地址：GET /data/activities/list","参数：","adeptGrade: integer 按当前年级筛选活动，数据见接口 4.3 adeptMajor: integer 按专业方向筛选活动 adeptType: integer 按类型筛选活动 adeptMonth: integer 按时间筛选活动 page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）","响应：",'{ "code": 0, "data": { "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 470, // 活动项目ID "name": "马尔可夫决策过程（MDP）", // 活动名称 "activityTime": "滚动", // 活动时间（和筛选项不同，这是更详细的描述） "place": "南京" // 活动地点 } ] } }',"4.2、活动库项目数据","注：活动预约资讯需要 appointEnabled 字段为 true 才可以进行预约资讯（不管是通过 appointUrl 跳转到预约页面，还是通过接口提交预约）","地址：GET /data/activities/item","参数：","activityId: integer 活动项目 ID","响应：",'{ "code": 0, "data": { "id": 470, // 活动项目ID "name": "马尔可夫决策过程（MDP）", // 活动名称 "activityTime": "滚动", // 活动时间（和筛选项不同，这是更详细的描述） "place": "南京", // 活动地点 "major": "理工科", // 活动适合专业 "introduction": "当今，社会信息化，特别是大数据、人工智能迅猛发展，作为其实现技术的程序设计变得越来越重要。程序设计课程体系也已经不仅仅是大学计算机专业的必修课程，而是逐渐成为一种时代的基本素颜。然而，在目前国内外程序设计课程体系的教材和教学侧重于理论教学，缺乏编程解决问题能力的实践训练。为此，本课程系统、全面磨炼编程解决问题的能力为目的，基于程序设计的知识体系（程序设计语言、数据结构、算法、数学），以案例教学的方法，教授知识点及相关试题，并让学生编程解决问题。", // 活动描述 "expectedOutcome": "课题科研报告&学术论文发表、纸质推荐信、教授网络推荐信、官方项目结业证书", // 项目预期成果 "note": "清北等985/211院校博士导师1对1线上指导。", // 备注 "appointEnabled": true, // 是否可预约 "appointUrl": "https://xxxxxx", // 预约链接，需要配置预约功能的pid才能获取到 "consultant": { // 活动提供者（导师账号） // 有些活动没有提供者，则没有此对象 "id": 1, // 提供者 ID，用于在预约接口（暂无）中指定预约导师 "name": "张三", // 提供者姓名 "avatar": "https://..." // 提供者头像 } } }',"4.3、活动库列表筛选项数据","地址：GET /data/activities/list/filters","参数：","无","响应：",'{ "code": 0, "data": { "adeptGrade": [ { "id": 1, // 选项ID，用于接口中 "name": "初中", // 选项名称，用于展示 "isDefault": false // 是否默认选项 } ], "adeptMajor": [ { "id": 1, // 选项ID，用于接口中 "name": "工科", // 选项名称，用于展示 "isDefault": false // 是否默认选项 } ], "adeptType": [ { "id": 1, // 选项ID，用于接口中 "name": "实习实训", // 选项名称，用于展示 "isDefault": false // 是否默认选项 } ], "adeptMonth": [ { "id": 1, // 选项ID，用于接口中 "name": "1月", // 选项名称，用于展示 "isDefault": false // 是否默认选项 } ] } }',"4.4、活动预约接口","注：接入方需要保证填写的手机号是有效的。","地址：POST /action/activities/appoint","参数：",'activityId: number 活动 ID（必须是可预约的活动） contactName: string 预约人姓名（必填） contactPhone: string 预约人手机号（必填） cityName: string 预约人所在城市（非必填，默认值为 "未知"）',"响应：",'{ "code": 0, "data": { "success": true } }']},{link:"/articles/coop_api.md#5、大学相关接口",title:"5、大学相关接口",content:["5.1、大学列表数据","地址：GET /data/school/list","参数：","country: string 按国家筛选（取值见接口 5.2） ranking: string 按国内排名筛选（取值见接口 5.2） toefl: string 按托福要求筛选（取值见接口 5.2） ielts: string 按雅思要求筛选（取值见接口 5.2） fee: string 按每年费用筛选（取值见接口 5.2） page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）",'{ "code": 0, "data": { "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 7, // 学校ID "chineseName": "多伦多大学", // 学校中文名 "englishName": "University of Toronto", // 学校英文名 "logo": "https://...", // 学校LOGO "coverPicture": "https://...", // 背景图片 "establishmentYear": 1827, // 建校年份 "feeTotal": "43,180美元", // 学费 "scoreToefl": "100", // 托福要求 "scoreIelts": "6.5", // 雅思要求 "scoreSat": null, // SAT要求 "gpa": null, // GPA要求 "scoreGreGrad": null, // 研究生GRE要求 "scoreGmatGrad": null, // 研究生GMAT要求 "scoreAct": null, // ACT要求 "countryName": "加拿大", // 国家 "provinceName": "加拿大", // 州省 "cityName": "多伦多", // 城市 "cityPath": "加拿大-多伦多", // 国家-州省-城市 "typeName": "公立", // 学校性质 "TIE_ADMINSSION_RATE": "10.0%", // 录取率 "worldRankings": [ // 世界排名 { "id": 1271, // 榜单ID "type": "QS", // 排名机构 "year": 2020, // 榜单年份 "title": "世界大学排名", // 榜单名称 "rank": 29 // 学校的排名 } // ... ], "localRankings": [ // 国内排名 { "id": 1294, "type": "USNEWS", "year": 2019, "title": "加拿大大学排名", "rank": 1 } // ... ] } // ... ] } }',"5.2、大学列表筛选项数据","地址：GET /data/school/list/filters","参数：","无","响应：",'{ "code": 0, "data": { "countries": [ // 国家筛选项，id用于接口参数，name用于展示 { "id": "", "name": "全球" }, { "id": "226", "name": "美国" } // ... ], "rankings": [ // 国内排名筛选项，id用于接口参数，name用于展示 { "id": "", "name": "不限" }, { "id": "1,10", "name": "1-10名" } // ... ], "toefl": [ // 托福要求筛选项，id用于接口参数，name用于展示 { "id": "", "name": "不限" }, { "id": "null", "name": "不要求" }, { "id": ",80", "name": "80分以下" } // ... ], "ielts": [ // 雅思要求筛选项，id用于接口参数，name用于展示 { "id": "", "name": "不限" }, { "id": "null", "name": "不要求" }, { "id": ",5.4999", "name": "5.5分以下" } // ... ], "fees": [ // 每年费用筛选项，id用于接口参数，name用于展示 { "id": "", "name": "不限" }, { "id": ",19999", "name": "2万美元以下" } // ... ] } }',"5.3、大学详情数据","地址：GET /data/school/item","参数：","schoolId: integer 大学 ID","响应：",'{ "code": 0, "data": { "id": 4, "chineseName": "哈佛大学", // 学校中文名 "englishName": "Harvard University", // 学校英文名 "logo": "https://...", // 学校LOGO "motto": "Veritas (Truth)", // 校训 "establishmentYear": 1636, // 建校年份 "area": "总面积20.6Km2，市区", // 占地面积 "group": "常春藤盟校、美国大学协会（AAU）", // 学校所属集团 "website": "http://www.harvard.edu/", // 学校官网 "textIntroduction": "哈佛大学（Harvard University）成立于1636年。。。", // 文字简介 "address": "Massachusetts Hall, Cambridge, Massachusetts 02138", // 学校地址 "coverPicture": "https://...", // 页面头部底图 "hotMajors": [ // 热门专业 "广告学", "物理科学", "生物科学" ], "features": [ // 学校特色 { "keyword": "世界顶尖大学", "description": "哈佛大学是全美第一所大学，同时是。。。" }, { "keyword": "世界顶尖教学水平", "description": "哈佛大学的所有本科专业教育水平都。。。" } // ... ], "nativeName": null, // 本国名（比如日本院校的日文名） "worldRankings": [ // 排名信息（世界排名） { "id": 1271, // 榜单ID "type": "QS", // 排名机构 "year": 2020, // 榜单年份 "title": "世界大学排名", // 榜单名称 "rank": 3 // 学校的排名 }, { "id": 1222, "type": "USNEWS", "year": 2019, "title": "世界大学排名", "rank": 1 } // ... ], "localRankings": [ // 排名信息（本国排名） { "id": 1298, // 和上面一样 "type": "USNEWS", "year": 2020, "title": "美国综合性大学排名", "rank": 2 }, { "id": 1218, "type": "泰晤士", "year": 2019, "title": "美国大学排名", "rank": 1 } // ... ], "extraInfo": { // 这里面的都是描述性的文本信息 "TIE_LOCATION": "它的总部。。。", // 地理位置 "TIE_HISTORY": "15世纪末，由。。。", // 学校历史 "TIE_FEATURE": "截止2014年，哈。。。", // 学校特色 "TIE_LIBRARY": "哈佛大学图书馆。。。", // 图书馆介绍 "TIE_INSTALLATION": "哈佛大学校。。。", // 校园设施 "TIE_ACCOMMODATION": "哈佛的住。。。", // 学校住宿 "TIE_DEPARTMENT_MAJOR": "截至2014年。。。", // 院系设置介绍 "TIE_TEACHING": "哈佛采用半。。。", // 教学特色 "TIE_CAMPUS": "哈佛大学占地85公顷的。。。", // 校园环境 "TIE_ADMINSSION_RATE": "5%", // 学校录取率（一般指本科） "TIE_APPLICATION_STUDENT_AMOUNT": "", // 申请学生人数 "TIE_ADMISSIONS_OFFICE": "本科招办联系方。。。", // 招生办信息 "TIE_STUDENT_AMOUNT": "21,966", // 学生人数 "TIE_UNDERGRADUATE_AMOUNT": "7,029", // 本科生人数 "TIE_GRADUATE_AMOUNT": "14,937", // 研究生人数 "TIE_INTERNATIONAL_STUDENT_RATIO": "21.4%", // 国际学生比 "TIE_FACULTY_STUDENT_RATIO": "1:7", // 师生比 "TIE_GRADUATION_RATE": "86%", // 毕业率 "TIE_EMPLOYMENT_RATE": "91.1%", // 就业率 "TIE_EMPLOYMENT_PAY": "毕业起薪：$。。。", // 就业薪资 "TIE_BOY_GIRL_RATIO": "53:47" // 男女比例 }, "evaluationBad": [ // 学校差评项 "People often focus too much on future careers and making money, and sometimes lose track of enjoying the present.", "Professors are brilliant, but tracking them down for a one-on-one conversation requires a degree of patience." // ... ], "evaluationGood": [ // 学校好评项 "Access to the best professors and minds of our time", "The student motivation and ambition on campus is contagious." // ... ], "strongMajors": [ // 强势专业 "商学院", "法学院", "教育学院", "生物医学领域专业" ], "aceFields": [ // 王牌领域（和强势专业类似，不一定指专业） "商业", "法律", "生物医学领域" ], "selectionReason": [ // 择校理由 "哈佛大学(Harvard University)，美国大学教育的旗舰，常青藤联盟的代表。", "哈佛大学商学院是这个星球上最好的商学院，没有其他。", "哈佛大学的所有本科学科教育水平都是世界顶级的。", "哈佛大学图书馆是世界上最大的大学图书馆。" ], "videos": [ // 相关视频 { "id": 4, // 视频ID "name": "小俊好帅", // 视频标题 "coverUrl": "https://...", // 视频封面 "videoDuration": 43023, // 视频时长（秒） "watchCount": 2212, // 观看次数 "likeCount": 0 // 点赞次数 } // ... ], "countryName": "美国", // 国家 "provinceName": "马萨诸塞", // 州省 "cityName": "波士顿", // 城市 "typeName": "私立", // 学校性质 "cityPath": "美国-马萨诸塞-波士顿", // 国家-州省-城市（其中会省略重复或者缺失的部分） "photos": [ // 学校图片 "https://...", "https://...", "https://...", "https://..." ], "coverBottomColor": "#2C2C13", // 头部区域底色（一般与头部底图配合使用） "application": { // 申请信息 "undergraduate": { // 本科申请信息 "adminssionRate": "5%", // 录取率 "applicationStudentAmount": "42,749", // 申请人数 "introduction": "", // 申请简介 "material": "申请表：在线填写。。。", // 申请材料 "scoreToefl": "接受，暂无最低分数要求", // 托福成绩要求 "scoreIelts": "6.5", // 雅思成绩要求 "scoreSat": "总分：1420-1560，阅。。。", // SAT分数要求（本科） "scoreGre": "...", // GRE分数要求（研究生） "scoreGmat": "...", // GMAT分数要求（研究生） "gpa": 3.8, // GPA要求 "feeApplication": "75美元", // 申请费 "feeTuition": "US$51,925", // 学费 "feeAccommodation": "US$17,682", // 住宿费 "feeBook": "US$1,200", // 书本费 "feeLife": "US$2,993", // 生活费 "scholarship": "哈佛大学奖学金十。。。", // 奖学金描述 "timeApplicationDeadline": "1月1日（EA：11月1日 RD：1月1日）", // 申请截止时间 "timeOffer": "4月1日", // Offer发放时间 "timeOfferDeadline": "5月1日", // Offer发放截止时间 "semester": "秋季", // 申请学期 "adminssionElements": "...", // 申请要点（描述） "scoreSat2": "650-800", // SAT2成绩要求（本科） "scoreAct": "32-35", // ACT要求（本科） "feeTotal": "US$73,800", // 总费用（参考值） "flow": "1. 参加标准化的入学考。。。", // 申请流程 "requireInterview": false, // 是否需要面试 "feeOthers": "...", // 其他费用 "scoreNative": "...", // 本地语言考试成绩要求 "scoreOthers": "..." // 其他分数要求 }, "graduate": { // 研究生申请信息 // 同本科申请 }, "arts": { // 艺术申请信息 "admissionRate": 0.06, // 录取率 "strongMajors": "景观设计", // 强势艺术专业 "undergraduateMajors": "艺术史，。。。", // 本科艺术专业 "graduateMajors": "建筑，景观建筑，。。。", // 研究生艺术专业 "textIntroduction": "哈佛大学。。。", // 艺术申请简介 "alumni": "胡复刚\\n物理学家、教育家。。。", // 校友介绍 "locationInfo": "位置\\n哈佛大学位于波士顿，。。。", // 地理位置 "feeTuition": "47,047美元", // 学费 "feeLife": null, // 生活费 "feeAccommodation": "15,951美元", // 住宿费 "feeBook": "2,000美元", // 书本费 "feeTraffic": "950美元", // 交通费 "feeOther": "1,875美元", // 其他费用 "feeTotal": "67,823美元", // 总费用（参考值） "averageScholarship": "46409", // 平均奖学金 "applicationExperience": "哈佛是全世。。。", // 申请经验 "undergraduateApplicationDeadline": "早申：11月1日\\n常规：1月1日", // 本科申请截止时间 "undergraduateScoreToefl": "100", // 本科托福要求 "undergraduateScoreIelts": null, // 本科雅思要求 "undergraduateScoreOther": "SAT或ACT。。。", // 本科其他分数要求 "undergraduateRequirements": "需要在网上。。。", // 本科申请要求 "undergraduateWorksRequirement": "不需要作品集", // 本科作品集要求 "graduateApplicationDeadline": null, // 研究生申请截止时间 "graduateScoreToefl": "100", // 研究生托福要求 "graduateScoreIelts": null, // 研究生雅思要求 "graduateScoreOther": "GRE", // 研究生其他分数要求 "graduateRequirements": "需要在网上申请，提交成绩单、语言成绩、GRE成绩、推荐信、个人陈述和作品集。有面试。", // 研究生申请要求 "graduateWorksRequirement": "通过slideroom上传。", // 研究生作品集要求 "difficultyName": "难" // 艺术申请难度 } } } }',"5.4、大学案例列表数据","地址：GET /data/school/offer/list","参数：","schoolId: integer 大学 ID page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）","响应：",'{ "code": 0, "data": { "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 11296, // 案例ID "title": "哈佛大学公共卫生专业硕士成功申请案例", // 案例标题 "targetMajorName": "公共卫生", // 申请专业中文名 "targetMajorEnglishName": null, // 申请专业英文名 "targetSchool": { // 申请学校 "id": 4, // 学校ID "chineseName": "哈佛大学", // 学校中文名 "englishName": "Harvard University", // 学校英文名 "logo": "https://..." // 学校LOGO } } // ... ] } }',"5.5、大学案例详情数据","地址：GET /data/school/offer/item","参数：","offerId: integer 案例 ID","响应：",'{ "code": 0, "data": { "id": 11296, // 案例ID "title": "哈佛大学公共卫生专业硕士成功申请案例", // 案例标题 "studentName": "萧同学", // 学生姓名 "currentSchoolName": null, // 就读学校 "currentMajorName": null, // 就读专业 "currentDegreeName": "大学", // 就读年级 "score": null, // 学术成绩 "scoreToefl": null, // 托福成绩 "scoreIelts": null, // 雅思成绩 "scoreSat": null, // SAT成绩 "scoreGre": "320-329", // GRE成绩 "scoreGmat": null, // GMAT成绩 "targetMajorName": "公共卫生", // 申请专业中文名 "targetMajorEnglishName": null, // 申请专业英文名 "applyTime": "2018-03-01", // 申请时间 "targetSchool": { // 申请学校（同上一个接口） "id": 4, "chineseName": "哈佛大学", "englishName": "Harvard University", "logo": "https://media.xuanxiaodi.com/school/logo/af/c5/afc5ce19d2c7037cbcbd579549451b89144b0.png" }, "targetCountryName": "美国", // 申请国家 "targetDegreeName": "研究生", // 申请项目 "relatedOffers": [ // 相关案例 { "id": 4084, "title": "布朗大学公共卫生专业硕士成功申请案例", "targetMajorName": "公共卫生", "targetMajorEnglishName": null, "targetSchool": { "id": 2305, "chineseName": "布朗大学", "englishName": "Brown University", "logo": "https://media.xuanxiaodi.com/school/logo/34/a5/34a534e98c4f05a2a2c880819adfe4ec7a58.png" } }, { "id": 11978, "title": "埃默里大学公共卫生专业硕士成功申请案例", "targetMajorName": "公共卫生", "targetMajorEnglishName": null, "targetSchool": { "id": 2295, "chineseName": "埃默里大学", "englishName": "Emory University", "logo": "https://media.xuanxiaodi.com/school/logo/ed/e7/ede7b5aa07f323bb1be779895c5a4745.jpg" } }, { "id": 2336, "title": "专业文书 收获埃默里大学公共卫生专业offer", "targetMajorName": "公共卫生", "targetMajorEnglishName": null, "targetSchool": { "id": 2295, "chineseName": "埃默里大学", "englishName": "Emory University", "logo": "https://media.xuanxiaodi.com/school/logo/ed/e7/ede7b5aa07f323bb1be779895c5a4745.jpg" } } ] } }',"5.6、大学专业列表数据","地址：GET /data/school/major/list","参数：","schoolId: integer 大学 ID degree: string 学位类型：本科专业（undergraduate），研究生专业（graduate） categoryName: string 专业分类（筛选项，见接口 5.7） page: integer 分页页码（从 1 开始） pageSize: integer 分页尺寸（默认 20，最大 100）","响应：",'{ "code": 0, "data": { "pagination": { "page": 1, // 当前页码 "pageSize": 20, // 当前尺寸 "count": 1000 // 分页数据总数 }, "data": [ { "id": 20607, // 专业ID "chineseName": "法律文科学士", // 专业中文名 "englishName": "BA in Law", // 专业英文名 "lengthOfSchool": "11个月", // 学制 "feeTuition": "13011英镑/学年", // 学费 "scoreIelts": "7.0", // 雅思要求 "degreeName": "本科" // 学位类型文本 } ] } }',"5.7、大学专业列表筛选项","获取专业列表的筛选项（对不同的大学和学位，筛选项中的数据可能有所不同）","地址：GET /data/school/major/list/filters","参数：","schoolId: integer 大学 ID degree: string 学位类型：本科专业（undergraduate），研究生专业（graduate）","响应：",'{ "code": 0, "data": { "categories": [ // 专业分类筛选项（仅包括该大学/学位对应的专业存在的分类值） // 对应 5.6 接口中的 categoryName 参数 { "id": "商科", // 用于接口参数 "name": "商科", // 用于展示 "selected": false } ] } }',"5.8、大学专业详情数据","地址：GET /data/school/major/item","参数：","majorId: integer 专业 ID","响应：",'{ "code": 0, "data": { "id": 43385, // 专业ID "chineseName": "社会学硕士(现代社会与全球转型)（MPhil）", // 专业中文名 "englishName": "MPhil in Sociology (Modern Society and Global Transformations)", // 专业英文名 "degreeName": "研究生", // 学位名称 "categoryName": "人文社科", // 专业分类名称 "introduction": "", // 专业介绍 "lengthOfSchool": "9个月", // 学制 "timeApplicationDeadline": "4月26日", // 申请截止时间 "timeOffer": "", // Offer发放时间 "timeOfferDeadline": "", // Offer发放最晚时间 "semester": "秋季", // 开学学期 "feeTotal": "", // 总费用（不一定等于下面的费用的和） "feeApplication": "60英镑", // 申请费 "feeTuition": "", // 学费 "feeAccommodation": "", // 住宿费 "feeBook": "", // 书本费 "feeLife": "", // 生活费 "feeOthers": "", // 其他费用 "scoreToefl": "总分：110，听力：25，阅读：25，口语：110，写作：110", // 托福要求 "scoreIelts": "总分：7.5，听力：7，阅读：7，口语：7.5，写作：7.5", // 雅思要求 "scoreNative": "", // 其他语言成绩要求 "scoreOthers": "", // 其他学术成绩要求 "scoreSat": "", // SAT要求 "scoreSat2": "", // SAT2要求 "scoreGre": "", // GRE要求 "scoreGmat": "", // GMAT要求 "scoreAct": "", // ACT要求 "gpa": "", // GPA要求 "material": "Transcript:\\nUncertified copies o...", // 申请材料 "scholarship": "", // 奖学金 "admissionElements": "学位要求：Bachelor/Mas...", // 申请要点 "flow": "", // 申请流程 "school": { // 专业所在大学 "id": 3, // 大学ID "chineseName": "剑桥大学", // 中文名 "englishName": "University of Cambridge", // 英文名 "logo": "https://..." // 学校LOGO }, "courses": [ { "id": 1, // 专业课程ID "chineseName": "化学与环境工程中的数学方法", // 课程中文名 "englishName": "Mathematical Methods in Chemical & Environmental Engineering" // 课程英文名 } ] } }']},{link:"/articles/coop_api.md#6、高中相关接口",title:"6、高中相关接口",content:["6.1、高中详情数据","地址：GET /data/highschool/item","参数：","highschoolId: integer 高中 ID","响应：",'{ "code": 0, "data": { "id": 100, // 高中ID "chineseName": "教堂山高中", // 高中中文名 "englishName": "Chapel Hill-Chauncy Hall", // 高中英文名 "logo": "https://...", // 高中LOGO "coverImage": "https://...", // 头部区域底图 "introduction": "教堂山高中位于马萨。。。", // 介绍 "grades": "9-12, PG", // 开设年级 "establishmentYear": 1828, // 建校年份 "website": "http://www.chch.org", // 主页 "address": "785 Beaver Street Waltham, MA 02452", // 地址 "area": "40英亩", // 占地面积 "classSize": "10", // 班级大小 "tel": "781-314-0800", // 联系电话 "email": "admissions@chch.org", // 联系邮箱 "rank": "169", // 综合排名 "application": { // 申请信息 "applicationDeadline": "2月1日", // 申请截止时间 "toeflCode": "8636", // 托福送分代码 "ssatCode": "2278", // SSAT送分代码 "iseeCode": null, // ISEE送分代码 "tel": "781-314-0800", // 申请联系电话 "email": null, // 申请联系邮箱 "interview": "Skype,来华面试", // 面试 "acceptScores": null, // 接受考试分数 "chineseApplicationAmount": "40", // 中国学生申请人数 "chineseAdmissionAmount": "5", // 中国学生录取人数 "chineseStudentAmount": "24", // 中国学生在读人数 "gradesForChineseStudent": "9 - 10", // 中国学生开放年级 "amountForChineseStudent": "6", // 中国学生开放名额 "chineseThirdpartyPreinterview": "没有要求", // 中国学生第三方预面试 "chineseToeflAverage": 75, // 中国学生托福平均分 "chineseToeflLowest": 55, // 中国学生托福最低分 "chineseSsatAverage": null, // 中国学生SSAT平均分 "chineseSsatLowest": null // 中国学生SSAT最低分 }, "summerSchool": { // 暑期学校 "website": "...", // 官网 "startTime": "...", // 开始时间 "endTime": "...", // 结束时间 "grades": "...", // 年级要求 "ages": "...", // 年龄要求 "genders": "...", // 性别要求 "feeTuition": "...", // 学费 "eslCourse": "...", // ESL课程 "checklist": "...", // ？？？ "tel": "...", // 联系电话 "email": "..." // 联系邮箱 }, "photos": [ // 学校图片 "https://...", "https://...", "https://...", "https://..." ], "apCourses": [ // AP课程 { "chineseName": "工作室艺术：绘画", "englishName": "Studio Art: Drawing" }, { "chineseName": "微积分AB", "englishName": "Calculus AB" } ], "sports": [ // 体育项目 { "chineseName": "羽毛球", "englishName": "Badminton" }, { "chineseName": "棒球", "englishName": "Baseball" } ], "communities": [ // 社团 { "chineseName": null, "englishName": "Admissions Tour Guides" }, { "chineseName": "国际学生组织", "englishName": "International Student Organization" } ], "countryName": "美国", // 国家 "provinceName": "马萨诸塞", // 州省 "cityName": null, // 城市 "cityPath": "美国-马萨诸塞", // 国家-州省-城市 "boarderTypeName": "寄宿学校", // 寄宿类型 "sexualTypeName": "男女混校", // 男女类型 "schoolTypeName": "大学预备", // 学校类型 "locationTypeName": "城市", // 地理位置 "religonName": "非宗教学校", // 宗教类型 "features": [ // 学校特色 "名校录取率高", "热门学区" ], "pros": [ // 学校优势 "一年中三季提供24 项多层级CIF", "体育项目及8 个运动俱乐部，" ], "honors": [ // 学校荣誉 "学校荣获100 项CIF、州及国家级锦标赛冠军" ], "facilities": [ // 校园设施 "健身房", "棒球场", "图书馆" ], "eslCourse": "提供ESL课程", // ESL课程 "apCourseCount": 4, // AP课程数 "feeTuition": "$59,000", // 学费 "studentAmount": "180", // 学生人数 "facultyStudentRatio": "1:5", // 师生比 "internationalStudentRatio": "18%", // 国际学生比 "boarderRatio": "40%", // 寄宿比例 "seniorFacultyRatio": "70%", // 高级教师比 "apAttendRate": null, // AP提交率 "apPassRate": null, // AP通过率 "scoreSat": "1220", // SAT分数参考 "alumniFund": "$11,111/人", // 校友捐赠 "scholarship": "..." // 奖学金 } }']},{link:"/articles/coop_api.md#附录-a：错误码列表",title:"附录 A：错误码列表",content:["错误码 错误原因 解决方法 SCHOOL_1 服务器未知错误 联系对接人员修复 BUG SCHOOL_4 请求缺少一些必要的参数 补充缺失的参数即可 SCHOOL_11 请求了尚未配置的功能 联系对接人员申请配置对应的功能 SCHOOL_20 请求中没有找到 appid 参考对接文档在请求中正确添加 appid（x-xxd-appid） SCHOOL_21 请求提供的 appid 不正确 检查请求中添加的 appid 是否正确 SCHOOL_22 请求中缺少签名相关参数 参考对接文档正确添加签名相关参数（x-xxd-nonce, x-xxd-timestamp, x-xxd-signature） SCHOOL_23 在规定时间内使用了相同的 noncestr 检查 noncestr 生成的逻辑，确保短时间内不会生成相同的值 SCHOOL_24 签名时间戳与服务器时间差距过大 检查调用方的时间是否与标准时间同步 SCHOOL_25 签名校验失败 检查签名算法是否正确实现 SCHOOL_1601 没有找到 ID 对应的资源 检查请求中提供的资源 ID 是否正确","注：如果出现其他的错误码，可以根据接口提供的错误信息自行处理，或者询问对接人员"]}]},{link:"/articles/coop_spec.md",title:"选校帝对外接口规范",content:["本文档描述选校帝对外接口的基本调用规范。"],markdown:'# 选校帝对外接口规范\n\n本文档描述选校帝对外接口的基本调用规范。\n\n## 文档版本\n\n当前版本：v1.1.0\n\n| 版本号 | 编辑人 | 编辑内容                                                         |\n| ------ | ------ | ---------------------------------------------------------------- |\n| v0.0.1 | 林康   | 增加了接口数据传输方式的文档；增加了接口签名相关文档和示例代码。 |\n| v1.0.0 | 林康   | 正式发布文档（无内容变化）                                       |\n| v1.1.0 | 林康   | 添加验签部分的文档；调整附录代码                                 |\n\n> 版本号说明：\n>\n> - 版本号遵循语义化版本规范，由 Major (A), Minor (B), Patch (C) 三部分组成。\n> - A=0 的版本为预览版，文档已有内容极可能会变化，仅供参考。\n> - A>0 时，仅修改已有内容的问题增加 C，添加新的内容则增加 B，增加了和之前文档不兼容的内容增加 A。\n\n## 目录\n\n[TOC]\n\n## 1、接口数据传输方式\n\n**请求参数：**\n\nGET 请求的参数使用请求地址中的 query 部分传递。\n\nPOST 请求的参数使用请求体传输（支持 application/json 与 application/x-www-form-urlencoded 格式）\n\n**请求响应结构：**\n\n接口响应均为 application/json 类型（除非遇到网关级别的错误）\n\n正常返回的响应结构：\n\n```json\n{\n    "code": 0, // 状态码，成功时一定返回0\n    "data": ... // 结果数据，根据接口不同有不同结构\n}\n```\n\n错误返回的响应结构：\n\n```json\n{\n  "code": "SCHOOL_4", // 状态码，出错时一定是字符串\n  "msg": "参数错误" // 错误提示\n}\n```\n\n## 2、合作方身份标识与签名机制\n\n### 2.1、合作方的身份标识\n\n每个合作方都分配一对密码（appid 与 secret）\n\n- appid 是合作方的身份标识，需要在鉴权时提供给选校帝接口\n- secret 是合作方的密钥，不通过接口传输，仅参与签名等内部运算\n\n**注：key 需要在调用接口时由请求头 `x-xxd-appid` 传递给选校帝服务器。**\n\n### 2.2、签名机制\n\n调用选校帝的对外接口时，需要对接口的参数进行签名，签名规则如下：\n\n**参与签名的数据：**\n\n- 接口参数（如果参数值不是基础数据类型，需要转换为 JSON 格式的字符串）\n- 随机字符串（noncestr），1 小时内不能重复（每个 appid 独立判断）\n- 当前时间（UNIX 毫秒数），与服务器时间差不能超过 10 分钟\n- secret\n\n**签名步骤：**\n\n1. 将参数按照参数名字典排序，并以 URLSearchParams 的规则（即：`key1=value1&key2=value2`，其中 key 与 value 均要进行 URL 编码）组成字符串 str1（如果接口没有参数，则 str1 为空字符串）\n2. 将 str1 与随机字符串、时间与 secret 用 `&` 拼接起来，得到 str2\n3. 对 str2 进行 sha256 哈希运算，并以 Base64 的格式输出，得到签名 signValue\n\n**签名的传递方式：**\n\n签名的相关数据以 HTTP Header 传输，相关 key 值如下：\n\n- `x-xxd-nonce` 传输参与签名的随机字符串（noncestr）\n- `x-xxd-timestamp` 传输参与签名的当前时间（UNIX 毫秒数）\n- `x-xxd-signature` 传输签名值（signValue）\n\n### 2.3、验签机制\n\n选校帝接口的响应头中会包括对响应值的签名，客户端可根据自身安全需求进行签名验证。\n\n签名生成算法与 2.2 中基本一致。\n\n**响应签名出现条件：**\n\n- 响应体为文本类型时\n\n**签名的传递方式：**\n\n响应的签名数据位于响应头部，有如下几个值：\n\n- `x-xxd-nonce` 参与响应签名的随机字符串（noncestr）\n- `x-xxd-timestamp` 参与响应签名的当前时间（UNIX 毫秒数）\n- `x-xxd-signature` 响应签名值（signValue）\n\n**验证签名的步骤：**\n\n- 根据响应中提供的 nonce 与 timestamp，对响应体内容进行签名（算法如下）\n- 对比生成的签名与响应中提供的签名值是否一致\n\n**生成签名的算法：**\n\n响应签名算法与请求参数签名相似，仅仅是去掉了由请求参数生成 str1 的过程（见 2.2 中的签名步骤）\n\n1. 将响应体与随机字符串、时间与 secret 用 `&` 拼接起来，得到 str\n2. 对 str 进行 sha256 哈希运算，并以 Base64 的格式输出，得到签名 signValue\n\n## 附录 A：签名数据示例\n\n如果签名算法的实现，针对下面这一组数据可以生成同样的结果，则可以认为签名算法是正确的\n\n数据：\n\n- **appid** = `"exgNUaWvOXyEVvJr"`\n- **secret** = `D0oa6poVh+dcN6AZ9otBVAyLt70u55QC`\n- **params** = `{ "keywords": "哈佛大学" }`\n- **nonce** = `"t//rEXBfazWcPcbEgO6WfA=="`\n- **timestamp** = `1571744890063`\n\n期望结果：`8WOhZ+qD57gg2/O/jf0b1dVUh6hIEJ+M52vGm500Ejk=`\n\n## 附录 B：代码示例\n\n### 签名函数的代码示例（Node.js）\n\n```js\n/* eslint-disable no-console */\nconst crypto = require("crypto");\n\nclass SignUtils {\n  constructor(appid, secret) {\n    this.appid = appid;\n    this.secret = secret;\n  }\n\n  /**\n   * 对字符串进行签名\n   * @param {string} str 要签名的字符串\n   * @param {string} nonce 随机字符串\n   * @param {number} timestamp UNIX毫秒数\n   */\n  signString(str, nonce, timestamp) {\n    // 拼接签名所需数据\n    const str2 = [\n      str,\n      encodeURIComponent(nonce),\n      encodeURIComponent(String(timestamp)),\n      encodeURIComponent(this.secret)\n    ].join("&");\n\n    // 生成哈希值\n    return crypto\n      .createHash("sha256")\n      .update(str2)\n      .digest("base64");\n  }\n\n  /**\n   * 对参数集合进行签名\n   * @param {object} params 参数集合\n   * @param {string} nonce 随机字符串\n   * @param {number} timestamp UNIX毫秒数\n   */\n  signParams(params, nonce, timestamp) {\n    // 根据参数生成字符串\n    const keys = Object.keys(params).sort();\n    const entries = keys\n      .map(key => [key, wrapValue(params[key])])\n      .filter(entry => entry[1] != null);\n    const str1 = entries\n      .map(\n        ([key, value]) =>\n          `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n      )\n      .join("&");\n\n    // 对生成的字符串签名\n    return this.signString(str1, nonce, timestamp);\n  }\n}\n\nfunction wrapValue(value) {\n  // 如果参数为null/undefined或者文件，忽略该参数（返回null）\n  if (value == null) {\n    return null;\n  }\n  // 否则一定返回字符串\n\n  // 如果是对象类型（包括数组），用JSON转字符串\n  if (typeof value === "object") {\n    return JSON.stringify(value);\n  }\n  // 否则（基础类型），直接转字符串\n  return String(value);\n}\n```\n',children:[{link:"/articles/coop_spec.md#文档版本",title:"文档版本",content:["当前版本：v1.1.0","版本号 编辑人 编辑内容 v0.0.1 林康 增加了接口数据传输方式的文档；增加了接口签名相关文档和示例代码。 v1.0.0 林康 正式发布文档（无内容变化） v1.1.0 林康 添加验签部分的文档；调整附录代码","版本号说明： 版本号遵循语义化版本规范，由 Major (A), Minor (B), Patch (C) 三部分组成。 A=0 的版本为预览版，文档已有内容极可能会变化，仅供参考。 A>0 时，仅修改已有内容的问题增加 C，添加新的内容则增加 B，增加了和之前文档不兼容的内容增加 A。"]},{link:"/articles/coop_spec.md#目录",title:"目录",content:["[TOC]"]},{link:"/articles/coop_spec.md#1、接口数据传输方式",title:"1、接口数据传输方式",content:["请求参数：","GET 请求的参数使用请求地址中的 query 部分传递。","POST 请求的参数使用请求体传输（支持 application/json 与 application/x-www-form-urlencoded 格式）","请求响应结构：","接口响应均为 application/json 类型（除非遇到网关级别的错误）","正常返回的响应结构：",'{ "code": 0, // 状态码，成功时一定返回0 "data": ... // 结果数据，根据接口不同有不同结构 }',"错误返回的响应结构：",'{ "code": "SCHOOL_4", // 状态码，出错时一定是字符串 "msg": "参数错误" // 错误提示 }']},{link:"/articles/coop_spec.md#2、合作方身份标识与签名机制",title:"2、合作方身份标识与签名机制",content:["2.1、合作方的身份标识","每个合作方都分配一对密码（appid 与 secret）","appid 是合作方的身份标识，需要在鉴权时提供给选校帝接口 secret 是合作方的密钥，不通过接口传输，仅参与签名等内部运算","注：key 需要在调用接口时由请求头 x-xxd-appid 传递给选校帝服务器。","2.2、签名机制","调用选校帝的对外接口时，需要对接口的参数进行签名，签名规则如下：","参与签名的数据：","接口参数（如果参数值不是基础数据类型，需要转换为 JSON 格式的字符串） 随机字符串（noncestr），1 小时内不能重复（每个 appid 独立判断） 当前时间（UNIX 毫秒数），与服务器时间差不能超过 10 分钟 secret","签名步骤：","将参数按照参数名字典排序，并以 URLSearchParams 的规则（即：key1=value1&key2=value2，其中 key 与 value 均要进行 URL 编码）组成字符串 str1（如果接口没有参数，则 str1 为空字符串） 将 str1 与随机字符串、时间与 secret 用 & 拼接起来，得到 str2 对 str2 进行 sha256 哈希运算，并以 Base64 的格式输出，得到签名 signValue","签名的传递方式：","签名的相关数据以 HTTP Header 传输，相关 key 值如下：","x-xxd-nonce 传输参与签名的随机字符串（noncestr） x-xxd-timestamp 传输参与签名的当前时间（UNIX 毫秒数） x-xxd-signature 传输签名值（signValue）","2.3、验签机制","选校帝接口的响应头中会包括对响应值的签名，客户端可根据自身安全需求进行签名验证。","签名生成算法与 2.2 中基本一致。","响应签名出现条件：","响应体为文本类型时","签名的传递方式：","响应的签名数据位于响应头部，有如下几个值：","x-xxd-nonce 参与响应签名的随机字符串（noncestr） x-xxd-timestamp 参与响应签名的当前时间（UNIX 毫秒数） x-xxd-signature 响应签名值（signValue）","验证签名的步骤：","根据响应中提供的 nonce 与 timestamp，对响应体内容进行签名（算法如下） 对比生成的签名与响应中提供的签名值是否一致","生成签名的算法：","响应签名算法与请求参数签名相似，仅仅是去掉了由请求参数生成 str1 的过程（见 2.2 中的签名步骤）","将响应体与随机字符串、时间与 secret 用 & 拼接起来，得到 str 对 str 进行 sha256 哈希运算，并以 Base64 的格式输出，得到签名 signValue"]},{link:"/articles/coop_spec.md#附录-a：签名数据示例",title:"附录 A：签名数据示例",content:["如果签名算法的实现，针对下面这一组数据可以生成同样的结果，则可以认为签名算法是正确的","数据：",'appid = "exgNUaWvOXyEVvJr" secret = D0oa6poVh+dcN6AZ9otBVAyLt70u55QC params = { "keywords": "哈佛大学" } nonce = "t//rEXBfazWcPcbEgO6WfA==" timestamp = 1571744890063',"期望结果：8WOhZ+qD57gg2/O/jf0b1dVUh6hIEJ+M52vGm500Ejk="]},{link:"/articles/coop_spec.md#附录-b：代码示例",title:"附录 B：代码示例",content:["签名函数的代码示例（Node.js）",'/* eslint-disable no-console */ const crypto = require("crypto"); class SignUtils { constructor(appid, secret) { this.appid = appid; this.secret = secret; } /** * 对字符串进行签名 * @param {string} str 要签名的字符串 * @param {string} nonce 随机字符串 * @param {number} timestamp UNIX毫秒数 */ signString(str, nonce, timestamp) { // 拼接签名所需数据 const str2 = [ str, encodeURIComponent(nonce), encodeURIComponent(String(timestamp)), encodeURIComponent(this.secret) ].join("&"); // 生成哈希值 return crypto .createHash("sha256") .update(str2) .digest("base64"); } /** * 对参数集合进行签名 * @param {object} params 参数集合 * @param {string} nonce 随机字符串 * @param {number} timestamp UNIX毫秒数 */ signParams(params, nonce, timestamp) { // 根据参数生成字符串 const keys = Object.keys(params).sort(); const entries = keys .map(key => [key, wrapValue(params[key])]) .filter(entry => entry[1] != null); const str1 = entries .map( ([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}` ) .join("&"); // 对生成的字符串签名 return this.signString(str1, nonce, timestamp); } } function wrapValue(value) { // 如果参数为null/undefined或者文件，忽略该参数（返回null） if (value == null) { return null; } // 否则一定返回字符串 // 如果是对象类型（包括数组），用JSON转字符串 if (typeof value === "object") { return JSON.stringify(value); } // 否则（基础类型），直接转字符串 return String(value); }']}]},{link:"/articles/data_ops.md",title:"数据操作文档",content:[],markdown:'# 数据操作文档\n\n## 排名抓取指南（迁木网）\n\n1. 执行 `bin/shell/download_school_data.js` 下载最新学校数据\n2. 在 `bin/data_process/tmp/fetch_list.txt` 中填写要抓取的页面地址（一行一个）\n3. 执行 `bin/data_process/rankinfo_fetch.js` 抓取页面重的排名\n4. 检查 `bin/data_process/tmp/fetched.json` 的内容，并手动修改不正确的部分（至少保证每个排名前100（重要排名前200，专业排名前20）的学校数据正确）\n\n## 排名更新操作指南\n\n> ⚠️ 注意：务必为每个命令设置环境变量 `NODE_ENV`，保证所操作的数据环境正确\n\n1. 准备以下结构的JSON格式的排名数据，保存为 `bin/data_process/tmp/fetched.json`\n    ```json\n    [\n      {\n        "year": 2019, // 排名年份\n        "type": "USNEWS", // 排名机构（有既定名称约定）\n        "title": "世界大学排名", // 排名名称\n        "isWorldRank": true, // 是否世界排名\n        "isMajorRank": false, // 是否专业排名\n        "rank": 421920, // 排名初始优先级（有既定算法）\n        "schools": [ // 排名中的学校数据\n          {\n            "rank": "1", // 学校排名（可以是如下格式：`500`，`501+`，`501-1000`，`RNP`（排名未公开），`Unranked`（未给予排名））\n            "schoolId": 4, // 学校ID，可以为null，务必保证这个字段正确，并尽可能少的null（数据库学校表中的）\n            "chineseName": "哈佛大学", // 学校中文名\n            "englishName": "Harvard University", // 学校英文名（或外文名）\n            "rankValue": 1 // 学校排名的数字值（不精确排名取最小值，无法取值可置为null）\n          }\n        ]\n      }\n    ]\n    ```\n\n2. 执行 `bin/shell/download_school_data.js` 下载最新学校数据\n3. 执行 `bin/shell/download_rank_name_map.js` 下载最新排名名称映射\n4. 执行 `bin/data_process/rankinfo_import.js` 将排名导入数据库\n5. 执行 `bin/data_process/rankinfo_fix.js` 整理排名数据\n6. 执行 `bin/data_process/rankorder_update.js` 更新排名优先级\n7. 执行 `bin/data_process/extract_rank.js` 更新学校排名字段\n8. 请求以下接口，更新排名目录缓存\n    ```\n    GET /rank/categories/web/index?refresh=true\n    GET /rank/categories/index?refresh=true&version=2\n    ```\n\n## 更新XML数据\n\n1. 生成新的XML文件：\n    ```bash\n    node bin/shell/download_school_data.js # 先下载最新的学校数据到本地\n    node bin/generator/baidu/application_card_v2 # 百度申请卡片\n    node bin/generator/baidu/export_data/index.js # 百度院校页面数据\n    node bin/generator/baidu/ranking_card_v2 # 百度排名卡片\n    node bin/generator/baidu/school_card/index.js # 百度院校卡片\n    node bin/generator/baidu/school_tabs/index.js # 百度院校卡片TABS\n    node bin/generator/baidu/xzh_service/index.js # 百度服务控件数据\n    node bin/generator/sogou/ranks.js # 搜狗排名卡片\n    node bin/generator/sogou/sogou_all_school.js # 搜狗院校卡片\n    ```\n2. 上传新的XML文件到OSS中（查找git中有变化的文件，找到并替换OSS中现有文件即可）\n3. 可能需要去百度的后台提交一下更新\n',children:[{link:"/articles/data_ops.md#排名抓取指南（迁木网）",title:"排名抓取指南（迁木网）",content:["执行 bin/shell/download_school_data.js 下载最新学校数据 在 bin/data_process/tmp/fetch_list.txt 中填写要抓取的页面地址（一行一个） 执行 bin/data_process/rankinfo_fetch.js 抓取页面重的排名 检查 bin/data_process/tmp/fetched.json 的内容，并手动修改不正确的部分（至少保证每个排名前100（重要排名前200，专业排名前20）的学校数据正确）"]},{link:"/articles/data_ops.md#排名更新操作指南",title:"排名更新操作指南",content:["⚠️ 注意：务必为每个命令设置环境变量 NODE_ENV，保证所操作的数据环境正确",'准备以下结构的JSON格式的排名数据，保存为 bin/data_process/tmp/fetched.json [ { "year": 2019, // 排名年份 "type": "USNEWS", // 排名机构（有既定名称约定） "title": "世界大学排名", // 排名名称 "isWorldRank": true, // 是否世界排名 "isMajorRank": false, // 是否专业排名 "rank": 421920, // 排名初始优先级（有既定算法） "schools": [ // 排名中的学校数据 { "rank": "1", // 学校排名（可以是如下格式：`500`，`501+`，`501-1000`，`RNP`（排名未公开），`Unranked`（未给予排名）） "schoolId": 4, // 学校ID，可以为null，务必保证这个字段正确，并尽可能少的null（数据库学校表中的） "chineseName": "哈佛大学", // 学校中文名 "englishName": "Harvard University", // 学校英文名（或外文名） "rankValue": 1 // 学校排名的数字值（不精确排名取最小值，无法取值可置为null） } ] } ] 执行 bin/shell/download_school_data.js 下载最新学校数据 执行 bin/shell/download_rank_name_map.js 下载最新排名名称映射 执行 bin/data_process/rankinfo_import.js 将排名导入数据库 执行 bin/data_process/rankinfo_fix.js 整理排名数据 执行 bin/data_process/rankorder_update.js 更新排名优先级 执行 bin/data_process/extract_rank.js 更新学校排名字段 请求以下接口，更新排名目录缓存 GET /rank/categories/web/index?refresh=true GET /rank/categories/index?refresh=true&version=2']},{link:"/articles/data_ops.md#更新xml数据",title:"更新XML数据",content:["生成新的XML文件： node bin/shell/download_school_data.js # 先下载最新的学校数据到本地 node bin/generator/baidu/application_card_v2 # 百度申请卡片 node bin/generator/baidu/export_data/index.js # 百度院校页面数据 node bin/generator/baidu/ranking_card_v2 # 百度排名卡片 node bin/generator/baidu/school_card/index.js # 百度院校卡片 node bin/generator/baidu/school_tabs/index.js # 百度院校卡片TABS node bin/generator/baidu/xzh_service/index.js # 百度服务控件数据 node bin/generator/sogou/ranks.js # 搜狗排名卡片 node bin/generator/sogou/sogou_all_school.js # 搜狗院校卡片 上传新的XML文件到OSS中（查找git中有变化的文件，找到并替换OSS中现有文件即可） 可能需要去百度的后台提交一下更新"]}]},{link:"/articles/joi.md",title:"参数验证模块",content:["参数验证模块 参数验证 API Joi Joi 类型扩展 joi.date() joi.boolean() joi.object() joi.array() joi.string() joi.number() joi.uri() Joi 方法扩展 joi.params() joi.cdn() joi.integer() joi.repeat() joi.tuple() joi.text() joi.phone() joi.email() joi.enum() joi.select() joi.checkbox() joi.rowId() joi.pagination()","参数验证模块使用了 Joi 模块来提供验证功能，并在此基础上进行了扩展，旨在能够用少量代码完成常用的验证逻辑。"],markdown:'# 参数验证模块\n\n- [参数验证模块](#%e5%8f%82%e6%95%b0%e9%aa%8c%e8%af%81%e6%a8%a1%e5%9d%97)\n  - [参数验证 API](#%e5%8f%82%e6%95%b0%e9%aa%8c%e8%af%81-api)\n  - [Joi](#joi)\n    - [Joi 类型扩展](#joi-%e7%b1%bb%e5%9e%8b%e6%89%a9%e5%b1%95)\n      - [joi.date()](#joidate)\n      - [joi.boolean()](#joiboolean)\n      - [joi.object()](#joiobject)\n      - [joi.array()](#joiarray)\n      - [joi.string()](#joistring)\n      - [joi.number()](#joinumber)\n      - [joi.uri()](#joiuri)\n    - [Joi 方法扩展](#joi-%e6%96%b9%e6%b3%95%e6%89%a9%e5%b1%95)\n      - [joi.params()](#joiparams)\n      - [joi.cdn()](#joicdn)\n      - [joi.integer()](#joiinteger)\n      - [joi.repeat()](#joirepeat)\n      - [joi.tuple()](#joituple)\n      - [joi.text()](#joitext)\n      - [joi.phone()](#joiphone)\n      - [joi.email()](#joiemail)\n      - [joi.enum()](#joienum)\n      - [joi.select()](#joiselect)\n      - [joi.checkbox()](#joicheckbox)\n      - [joi.rowId()](#joirowid)\n      - [joi.pagination()](#joipagination)\n\n参数验证模块使用了 Joi 模块来提供验证功能，并在此基础上进行了扩展，旨在能够用少量代码完成常用的验证逻辑。\n\n## 参数验证 API\n\n```js\nconst { validate } = require("./src/common");\n\nasync function buildAndExecute() {\n  const { phone, captcha } = await validate\n    .build(joi =>\n      joi.params({\n        phone: joi.phone({ required: true }),\n        captcha: joi.text({ required: true })\n      })\n    )\n    .exec({ phone: "15669928870", captcha: "1234" });\n  // phone = 15669928870\n  // captcha = 1234\n}\n\nasync function executeOnly() {\n  const { phone, captcha } = await validate.exec(\n    { phone: "15669928870", captcha: "1234" },\n    joi =>\n      joi.params({\n        phone: joi.phone({ required: true }),\n        captcha: joi.text({ required: true })\n      })\n  );\n  // phone = 15669928870\n  // captcha = 1234\n}\n```\n\n## Joi\n\n官方文档：https://hapi.dev/family/joi/?v=16.1.8#extensions\n\n注意点：\n\n- joi 通过定义 Schema 来描述验证规则\n- joi 所有的 Schema API 都不可变的，符合函数式编程规范\n\n常用功能文档：\n\n```js\njoi\n  .any()\n  .allow(...values) // 允许这些值直接通过验证\n  .invalid(...values) // 不允许这些值通过验证\n  .valid(...values) // 只允许这些值通过验证\n  .concat(schema) // 整合另一个schema，生成一个新的schema\n  .default(value) // 默认值\n  .empty(valueOrSchema) // 如果符合条件，将当前验证的值设为空值\n  .error(errorObject) // 自定义一个错误\n  .forbidden() // 禁止当前验证的值出现\n  .optional() // 允许当前验证的值出现\n  .required(); // 必须要当前验证的值出现\n\njoi\n  .string() // 默认不允许空字符串\n  .alphanum() // 只允许[a-zA-Z0-9]\n  .base64(options) // 必须是合法的base64字符串\n  .creditCard() // 必须是合法的信用卡号\n  .dataUri() // 必须是合法的data-uri\n  .domain() // 必须是合法的域名\n  .uri() // 必须是合法的链接\n  .email() // 必须是合法的电子邮箱\n  .uuid(options) // 必须是合法的UUID\n  .hex(options) // 是合法的十六进制字符串\n  .hostname() // 是合法的域名\n  .ip(options) // 是合法的IP地址\n  .token() // 只允许[a-zA-Z0-9_]\n  .lowercase() // 转换成小写或者只允许小写\n  .uppercase() // 转换成大写或者只允许大写\n  .normalize(mode) // Unicode标准化（转换或者要求）\n  .pattern(regexp) // 正则验证\n  .replace(before, after) // 替换（正则替换或者全局字符串替换）\n  .truncate() // 丢弃长度超出部分\n  .length(len) // 必须是固定长度\n  .max(len) // 限制最大长度\n  .min(len); // 限制最小长度\n\njoi\n  .boolean()\n  .falsy(...value) // 将一些值视为false\n  .truthy(...value); // 将一些值视为true\n\njoi\n  .date()\n  .iso() // 只接受ISO格式字符串\n  .timestamp() // 只接受JS时间戳（毫秒数）\n  .timestamp("unix") // 直接受UNIX时间戳（秒数）\n  .greater(value) // 必须大于一个时间\n  .less(value) // 必须小于一个时间\n  .max(value) // 限制最大时间\n  .min(value); // 限制最小时间\n\njoi\n  .number()\n  .integer() // 必须是整数\n  .multiple(base) // 必须是一个数的倍数\n  .positive() // 必须是正数\n  .negative() // 必须是负数\n  .port() // 必须是合法的端口号（0-65535）\n  .unsafe() // 允许范围超过 [MIN_SAFE_INTEGER, MAX_SAFE_INTEGER]\n  .greater(value) // 必须大于一个值\n  .less(value) // 必须小于一个值\n  .max(value) // 限制最大值\n  .min(value); // 限制最小值\n\njoi\n  .object({\n    a: joi.any(),\n    b: joi.any()\n  })\n  // 覆盖字段的定义\n  .keys({\n    a: joi.any(),\n    b: joi.any()\n  })\n  // 增加一些字段的定义\n  .append({\n    c: joi.any()\n  })\n  .unknown() // 允许出现未定义的字段\n  .and("a", "b", "c") // a,b,c 必须同时出现\n  .or("a", "b", "c") // a,b,c 至少出现一个\n  .xor("a", "b", "c") // a,b,c 只能且必须出现一个\n  .oxor("a", "b", "c") // a,b,c 最多只能出现一个\n  .nand("a", "b", "c") // a,b,c 不能全部出现\n  .with("a", "b", "c") // a出现，则b,c必须出现\n  .without("a", "b", "c") // a出现，则b,c不能出现\n  .length(len) // 必须是n个字段\n  .min(len) // 最少要有n个字段\n  .max(len); // 最多有n个字段\n\njoi\n  .array()\n  .items(...schemas) // 数组可以包括这些内容\n  .ordered(...schemas) // 数组对应下标必须是对应内容\n  .has(schema) // 数组需要包含这个内容\n  .length(limit) // 数组必须是指定长度\n  .max(limit) // 数组最长长度\n  .min(limit) // 数组最小长度\n  .sort(options) // 排序\n  .sparse() // 允许稀疏数组，即允许undefined出现\n  .unique(comparator); // 要求内容是唯一的，可以提供一个比较器，默认\n\n// 自定义验证\njoi\n  .any()\n  // 同步验证\n  .custom((value, helpers) => {\n    if (invalid) {\n      // 使用joi内部报错机制\n      return helpers.error("error.code");\n    }\n    if (customError) {\n      // 直接抛出任意错误\n      throw new Error("custom error");\n    }\n    if (changed) {\n      // 如果需要改变值\n      return newValue;\n    }\n    if (unset) {\n      // 如果需要去掉值\n      return undefined;\n    }\n    // 不需要改变值\n    return value;\n  })\n  // 异步验证\n  .external(async value => {});\n```\n\n### Joi 类型扩展\n\n#### joi.date()\n\n注：由于 Joi 提供的 date 类型很不好用，这里基于 any 类型重写了。\n\n```js\nbase = joi.any();\n```\n\n解析：\n\n- 空值不进行解析，统一处理为 undefined\n- 如果是数字或纯数字字符串，用毫秒数转为 Date（如果指定了 unix 方法，则按秒数转换）\n- 如果是字符串，尝试用 new Date 构造\n- 如果是 Date 实例，判读是否有效值\n- 如果无法解析为有效的 Date 实例，则抛出错误\n\n方法：\n\n- `unix()` 按照秒数解析数字值（convert 开启时才有用）\n- `max(date)`, `min(date)` 指定最大值/最小值\n- `greater(date)`, `less(date)` 时间必须大于/小于指定时间\n- `startOf(unit)`, `endOf(unit)` 将时间转换为时间单位的开始或结束（convert 开启时才有用）\n\n#### joi.boolean()\n\n```js\nbase = joi\n  .boolean()\n  .truthy("t", "T", "1", 1)\n  .falsy("f", "F", "0", 0);\n```\n\n#### joi.object()\n\n```js\nbase = joi.object();\n```\n\n- 增加转型逻辑（从字符串）：可以从 JSON 字符串转型\n\n#### joi.array()\n\n```js\nbase = joi.array();\n```\n\n- 增加转型逻辑（从字符串）：可以从 JSON 字符串转型\n- 增加方法 `.joined(delimiter)`，可以额外解析分隔符分割的字符串为数组\n\n#### joi.string()\n\n```js\nbase = joi.string();\n```\n\n- 增加方法 `.phone()`，要求值为合法的 11 位手机号\n- 增加错误代码 `string.phone`\n\n#### joi.number()\n\n```js\nbase = joi.number();\n```\n\n- 增加方法 `.clamp(min, max)`，可以将数字限定到一定的范围里（下限可以使用 `-Infinity`，上限可以使用 `Infinity`）\n\n#### joi.uri()\n\n```js\nbase = joi.string().uri();\n```\n\n- 增加方法 `.origin(value)` 对 uri 进行源验证\n- 增加方法 `.format(formatString)` 将值进行格式转换\n- 增加方法 `.mime(type)` 对 uri 的扩展名进行 mime-type 验证\n\n### Joi 方法扩展\n\n#### joi.params()\n\n和 `joi.object()` 类似，但是默认接受未定义的字段，且支持一些选项。\n\n```js\njoi.params(shape, options);\n\nconst base = joi.object(shape).unknown(true);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证\n- **default**: _any_ - 给空值设置一个默认值\n\n#### joi.cdn()\n\n和 `joi.uri()` 类似，但是必须是 CDN 源（项目配置中的 cdnUpload）下的内容，第一个参数指定类型范围（可以是 `"*/*"` 代表全部），且支持一些选项。\n\n```js\njoi.cdn(type, options);\n\nconst base = joi.uri().type(type);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证\n- **default**: _any_ - 给空值设置一个默认值\n- **strip**: _boolean_ - 是否转换为 pathname\n\n#### joi.integer()\n\n和 `joi.number().integer()` 类似，且支持一些选项。\n\n```js\njoi.integer(options);\n\nconst base = joi.number().integer();\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证\n- **default**: _any_ - 给空值设置一个默认值\n- **positive**: _boolean_ - 必须是正数\n- **negative**: _boolean_ - 必须是负数\n- **max**: _number_ - 限制最大值\n- **min**: _number_ - 限制最小值\n\n#### joi.repeat()\n\n和 `joi.array.items(shape)` 类似，能更方便地定义由同样 schema 组成的数组，可以方便地指定长度范围，且支持一些选项。\n\n```js\njoi.repeat(length, shape, options);\njoi.repeat([min, max], shape, options);\n\nconst base = joi.array().items(shape);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证\n- **default**: _any_ - 给空值设置一个默认值\n- **unique**: _boolean_ - 内容必须是不重复的\n- **joined**: _string|regexp_ - 支持解析分隔符字符串\n\n#### joi.tuple()\n\n和 `joi.array.ordered(...shapes)` 类似，能方便地定义的元组类型（不同形状组成的定长数组），且支持一些选项。\n\n```js\njoi.tuple(shapes, options);\n\nconst base = joi\n  .array()\n  .ordered(...shapes)\n  .length(shapes.length);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证\n- **default**: _any_ - 给空值设置一个默认值\n- **unique**: _boolean_ - 内容必须是不重复的\n- **joined**: _string|regexp_ - 支持解析分隔符字符串\n\n#### joi.text()\n\n和 `joi.string().trim()` 类似，支持一些选项\n\n```js\njoi.text(options);\n\nconst base = joi.string().trim();\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n- **max**: _number_ - 限制最大长度\n- **min**: _number_ - 限制最小长度\n\n#### joi.phone()\n\n和 `joi.string().trim().phone()` 类似，支持一些选项\n\n```js\njoi.phone(options);\n\nconst base = joi\n  .string()\n  .trim()\n  .phone();\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n- **max**: _number_ - 限制最大长度\n- **min**: _number_ - 限制最小长度\n\n#### joi.email()\n\n和 `joi.string().trim().email()` 类似，支持一些选项\n\n```js\njoi.email(options);\n\nconst base = joi\n  .string()\n  .trim()\n  .email();\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n- **max**: _number_ - 限制最大长度\n- **min**: _number_ - 限制最小长度\n\n#### joi.enum()\n\n和 `joi.valid(...values)` 类似，当可选值均为字符串或数字时，会限定为该类型，支持一些选项。\n\n```js\njoi.enum(values, options);\n\nconst base =\n  joi.any().valid(values) ||\n  joi.string().valid(values) ||\n  joi.number().valid(values);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n\n#### joi.select()\n\n和 `joi.valid(...values)` 类似，当可选值（id）均为字符串或数字时，会限定为该类型，支持一些选项。\n\n```js\njoi.select(options, options);\n\nconst base =\n  joi.any().valid(values) ||\n  joi.string().valid(values) ||\n  joi.number().valid(values);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n\n#### joi.checkbox()\n\n和 `joi.array.items(joi.valid(...values))` 类似，当可选值（id）均为字符串或数字时，会限定为该类型，支持一些选项。\n\n```js\njoi.checkbox(options, options);\n\nconst base =\n  joi.array().items(joi.any().valid(values)) ||\n  joi.array().items(joi.string().valid(values)) ||\n  joi.array().items(joi.number().valid(values));\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n- **length**: _number_ - 限制固定长度\n- **max**: _number_ - 限制最大长度\n- **min**: _number_ - 限制最小长度\n- **unique**: _boolean_ - 内容必须是不重复的\n- **joined**: _string|regexp_ - 支持解析分隔符字符串\n\n#### joi.rowId()\n\n验证是否为一个存在的表的主键值（或其他字段），默认是数字类型，可以通过选项改为字符串类型\n\n```js\njoi.rowId(model, options);\n\nconst base = joi.integer().external(query) || joi.text().external(query);\n```\n\n选项：\n\n- **required**: _boolean_ - 整个对象是否必须出现\n- **allow**: _any_ - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 `undefined`）\n- **default**: _any_ - 给空值设置一个默认值\n- **field**: _string_ - 对应的字段，默认为 id\n- **where**: _string_ - 限制条件\n- **string**: _boolean_ - 是否解析为字符串\n- 其他适用于 text 或者 integer 的选项\n\n#### joi.pagination()\n\n验证分页参数\n\n```js\njoi.pagination();\n\nconst base = joi.object({ page, pageSize });\n```\n',children:[{link:"/articles/joi.md#参数验证-api",title:"参数验证 API",content:['const { validate } = require("./src/common"); async function buildAndExecute() { const { phone, captcha } = await validate .build(joi => joi.params({ phone: joi.phone({ required: true }), captcha: joi.text({ required: true }) }) ) .exec({ phone: "15669928870", captcha: "1234" }); // phone = 15669928870 // captcha = 1234 } async function executeOnly() { const { phone, captcha } = await validate.exec( { phone: "15669928870", captcha: "1234" }, joi => joi.params({ phone: joi.phone({ required: true }), captcha: joi.text({ required: true }) }) ); // phone = 15669928870 // captcha = 1234 }']},{link:"/articles/joi.md#joi",title:"Joi",content:["官方文档：https://hapi.dev/family/joi/?v=16.1.8#extensions","注意点：","joi 通过定义 Schema 来描述验证规则 joi 所有的 Schema API 都不可变的，符合函数式编程规范","常用功能文档：",'joi .any() .allow(...values) // 允许这些值直接通过验证 .invalid(...values) // 不允许这些值通过验证 .valid(...values) // 只允许这些值通过验证 .concat(schema) // 整合另一个schema，生成一个新的schema .default(value) // 默认值 .empty(valueOrSchema) // 如果符合条件，将当前验证的值设为空值 .error(errorObject) // 自定义一个错误 .forbidden() // 禁止当前验证的值出现 .optional() // 允许当前验证的值出现 .required(); // 必须要当前验证的值出现 joi .string() // 默认不允许空字符串 .alphanum() // 只允许[a-zA-Z0-9] .base64(options) // 必须是合法的base64字符串 .creditCard() // 必须是合法的信用卡号 .dataUri() // 必须是合法的data-uri .domain() // 必须是合法的域名 .uri() // 必须是合法的链接 .email() // 必须是合法的电子邮箱 .uuid(options) // 必须是合法的UUID .hex(options) // 是合法的十六进制字符串 .hostname() // 是合法的域名 .ip(options) // 是合法的IP地址 .token() // 只允许[a-zA-Z0-9_] .lowercase() // 转换成小写或者只允许小写 .uppercase() // 转换成大写或者只允许大写 .normalize(mode) // Unicode标准化（转换或者要求） .pattern(regexp) // 正则验证 .replace(before, after) // 替换（正则替换或者全局字符串替换） .truncate() // 丢弃长度超出部分 .length(len) // 必须是固定长度 .max(len) // 限制最大长度 .min(len); // 限制最小长度 joi .boolean() .falsy(...value) // 将一些值视为false .truthy(...value); // 将一些值视为true joi .date() .iso() // 只接受ISO格式字符串 .timestamp() // 只接受JS时间戳（毫秒数） .timestamp("unix") // 直接受UNIX时间戳（秒数） .greater(value) // 必须大于一个时间 .less(value) // 必须小于一个时间 .max(value) // 限制最大时间 .min(value); // 限制最小时间 joi .number() .integer() // 必须是整数 .multiple(base) // 必须是一个数的倍数 .positive() // 必须是正数 .negative() // 必须是负数 .port() // 必须是合法的端口号（0-65535） .unsafe() // 允许范围超过 [MIN_SAFE_INTEGER, MAX_SAFE_INTEGER] .greater(value) // 必须大于一个值 .less(value) // 必须小于一个值 .max(value) // 限制最大值 .min(value); // 限制最小值 joi .object({ a: joi.any(), b: joi.any() }) // 覆盖字段的定义 .keys({ a: joi.any(), b: joi.any() }) // 增加一些字段的定义 .append({ c: joi.any() }) .unknown() // 允许出现未定义的字段 .and("a", "b", "c") // a,b,c 必须同时出现 .or("a", "b", "c") // a,b,c 至少出现一个 .xor("a", "b", "c") // a,b,c 只能且必须出现一个 .oxor("a", "b", "c") // a,b,c 最多只能出现一个 .nand("a", "b", "c") // a,b,c 不能全部出现 .with("a", "b", "c") // a出现，则b,c必须出现 .without("a", "b", "c") // a出现，则b,c不能出现 .length(len) // 必须是n个字段 .min(len) // 最少要有n个字段 .max(len); // 最多有n个字段 joi .array() .items(...schemas) // 数组可以包括这些内容 .ordered(...schemas) // 数组对应下标必须是对应内容 .has(schema) // 数组需要包含这个内容 .length(limit) // 数组必须是指定长度 .max(limit) // 数组最长长度 .min(limit) // 数组最小长度 .sort(options) // 排序 .sparse() // 允许稀疏数组，即允许undefined出现 .unique(comparator); // 要求内容是唯一的，可以提供一个比较器，默认 // 自定义验证 joi .any() // 同步验证 .custom((value, helpers) => { if (invalid) { // 使用joi内部报错机制 return helpers.error("error.code"); } if (customError) { // 直接抛出任意错误 throw new Error("custom error"); } if (changed) { // 如果需要改变值 return newValue; } if (unset) { // 如果需要去掉值 return undefined; } // 不需要改变值 return value; }) // 异步验证 .external(async value => {});',"Joi 类型扩展","joi.date()","注：由于 Joi 提供的 date 类型很不好用，这里基于 any 类型重写了。","base = joi.any();","解析：","空值不进行解析，统一处理为 undefined 如果是数字或纯数字字符串，用毫秒数转为 Date（如果指定了 unix 方法，则按秒数转换） 如果是字符串，尝试用 new Date 构造 如果是 Date 实例，判读是否有效值 如果无法解析为有效的 Date 实例，则抛出错误","方法：","unix() 按照秒数解析数字值（convert 开启时才有用） max(date), min(date) 指定最大值/最小值 greater(date), less(date) 时间必须大于/小于指定时间 startOf(unit), endOf(unit) 将时间转换为时间单位的开始或结束（convert 开启时才有用）","joi.boolean()",'base = joi .boolean() .truthy("t", "T", "1", 1) .falsy("f", "F", "0", 0);',"joi.object()","base = joi.object();","增加转型逻辑（从字符串）：可以从 JSON 字符串转型","joi.array()","base = joi.array();","增加转型逻辑（从字符串）：可以从 JSON 字符串转型 增加方法 .joined(delimiter)，可以额外解析分隔符分割的字符串为数组","joi.string()","base = joi.string();","增加方法 .phone()，要求值为合法的 11 位手机号 增加错误代码 string.phone","joi.number()","base = joi.number();","增加方法 .clamp(min, max)，可以将数字限定到一定的范围里（下限可以使用 -Infinity，上限可以使用 Infinity）","joi.uri()","base = joi.string().uri();","增加方法 .origin(value) 对 uri 进行源验证 增加方法 .format(formatString) 将值进行格式转换 增加方法 .mime(type) 对 uri 的扩展名进行 mime-type 验证","Joi 方法扩展","joi.params()","和 joi.object() 类似，但是默认接受未定义的字段，且支持一些选项。","joi.params(shape, options); const base = joi.object(shape).unknown(true);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证 default: any - 给空值设置一个默认值","joi.cdn()",'和 joi.uri() 类似，但是必须是 CDN 源（项目配置中的 cdnUpload）下的内容，第一个参数指定类型范围（可以是 "*/*" 代表全部），且支持一些选项。',"joi.cdn(type, options); const base = joi.uri().type(type);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证 default: any - 给空值设置一个默认值 strip: boolean - 是否转换为 pathname","joi.integer()","和 joi.number().integer() 类似，且支持一些选项。","joi.integer(options); const base = joi.number().integer();","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证 default: any - 给空值设置一个默认值 positive: boolean - 必须是正数 negative: boolean - 必须是负数 max: number - 限制最大值 min: number - 限制最小值","joi.repeat()","和 joi.array.items(shape) 类似，能更方便地定义由同样 schema 组成的数组，可以方便地指定长度范围，且支持一些选项。","joi.repeat(length, shape, options); joi.repeat([min, max], shape, options); const base = joi.array().items(shape);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证 default: any - 给空值设置一个默认值 unique: boolean - 内容必须是不重复的 joined: string|regexp - 支持解析分隔符字符串","joi.tuple()","和 joi.array.ordered(...shapes) 类似，能方便地定义的元组类型（不同形状组成的定长数组），且支持一些选项。","joi.tuple(shapes, options); const base = joi .array() .ordered(...shapes) .length(shapes.length);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证 default: any - 给空值设置一个默认值 unique: boolean - 内容必须是不重复的 joined: string|regexp - 支持解析分隔符字符串","joi.text()","和 joi.string().trim() 类似，支持一些选项","joi.text(options); const base = joi.string().trim();","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值 max: number - 限制最大长度 min: number - 限制最小长度","joi.phone()","和 joi.string().trim().phone() 类似，支持一些选项","joi.phone(options); const base = joi .string() .trim() .phone();","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值 max: number - 限制最大长度 min: number - 限制最小长度","joi.email()","和 joi.string().trim().email() 类似，支持一些选项","joi.email(options); const base = joi .string() .trim() .email();","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值 max: number - 限制最大长度 min: number - 限制最小长度","joi.enum()","和 joi.valid(...values) 类似，当可选值均为字符串或数字时，会限定为该类型，支持一些选项。","joi.enum(values, options); const base = joi.any().valid(values) || joi.string().valid(values) || joi.number().valid(values);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值","joi.select()","和 joi.valid(...values) 类似，当可选值（id）均为字符串或数字时，会限定为该类型，支持一些选项。","joi.select(options, options); const base = joi.any().valid(values) || joi.string().valid(values) || joi.number().valid(values);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值","joi.checkbox()","和 joi.array.items(joi.valid(...values)) 类似，当可选值（id）均为字符串或数字时，会限定为该类型，支持一些选项。","joi.checkbox(options, options); const base = joi.array().items(joi.any().valid(values)) || joi.array().items(joi.string().valid(values)) || joi.array().items(joi.number().valid(values));","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值 length: number - 限制固定长度 max: number - 限制最大长度 min: number - 限制最小长度 unique: boolean - 内容必须是不重复的 joined: string|regexp - 支持解析分隔符字符串","joi.rowId()","验证是否为一个存在的表的主键值（或其他字段），默认是数字类型，可以通过选项改为字符串类型","joi.rowId(model, options); const base = joi.integer().external(query) || joi.text().external(query);","选项：","required: boolean - 整个对象是否必须出现 allow: any - 允许一个固定值通过验证（如果不是允许空字符串的话，将空字符串视为空值，即会变为 undefined） default: any - 给空值设置一个默认值 field: string - 对应的字段，默认为 id where: string - 限制条件 string: boolean - 是否解析为字符串 其他适用于 text 或者 integer 的选项","joi.pagination()","验证分页参数","joi.pagination(); const base = joi.object({ page, pageSize });"]}]},{link:"/articles/socket.io.md",title:"Socket.io文档",content:[],markdown:'# Socket.io文档\n\n## Namespace: /qrcode/login\n\n### 客户端接收事件\n\n```yaml\n- event: "show-qrcode" # 显示二维码的数据\n  data:\n    token: string # qrcode-token\n- event: "login" # 通知显示二维码的端登录\n  data:\n    token: string # login-token\n```\n\n### 客户端发送事件\n\n暂无',children:[{link:"/articles/socket.io.md#namespace-qrcodelogin",title:"Namespace: /qrcode/login",content:["客户端接收事件",'- event: "show-qrcode" # 显示二维码的数据 data: token: string # qrcode-token - event: "login" # 通知显示二维码的端登录 data: token: string # login-token',"客户端发送事件","暂无"]}]}]},{prefix:"drafts",list:[{link:"/articles/drafts/2.46.1.md",title:"服务方案与服务故事",content:["服务方案与服务故事 和之前版本相比的改动 模型设计 状态设计 方案状态 故事状态 接口设计 客户端接口 获取方案分类 获取方案列表 获取方案详情 获取大牛列表 获取故事列表 获取故事详情 增加故事分享计数 管理端接口 后台获取方案列表 后台获取方案详情 后台获取大牛列表 调整方案顺序 创建方案 更新方案 上下线方案 删除方案 获取方案关联的院校列表 修改院校关联的方案列表 后台获取故事列表 后台获取故事详情 隐藏/取消隐藏方案故事 获取故事选项数据 获取故事表单 创建故事 更新故事"],markdown:'# 服务方案与服务故事\n\n- [服务方案与服务故事](#服务方案与服务故事)\n  - [和之前版本相比的改动](#和之前版本相比的改动)\n  - [模型设计](#模型设计)\n    - [状态设计](#状态设计)\n      - [方案状态](#方案状态)\n      - [故事状态](#故事状态)\n  - [接口设计](#接口设计)\n    - [客户端接口](#客户端接口)\n      - [获取方案分类](#获取方案分类)\n      - [获取方案列表](#获取方案列表)\n      - [获取方案详情](#获取方案详情)\n      - [获取大牛列表](#获取大牛列表)\n      - [获取故事列表](#获取故事列表)\n      - [获取故事详情](#获取故事详情)\n      - [增加故事分享计数](#增加故事分享计数)\n    - [管理端接口](#管理端接口)\n      - [后台获取方案列表](#后台获取方案列表)\n      - [后台获取方案详情](#后台获取方案详情)\n      - [后台获取大牛列表](#后台获取大牛列表)\n      - [调整方案顺序](#调整方案顺序)\n      - [创建方案](#创建方案)\n      - [更新方案](#更新方案)\n      - [上下线方案](#上下线方案)\n      - [删除方案](#删除方案)\n      - [获取方案关联的院校列表](#获取方案关联的院校列表)\n      - [修改院校关联的方案列表](#修改院校关联的方案列表)\n      - [后台获取故事列表](#后台获取故事列表)\n      - [后台获取故事详情](#后台获取故事详情)\n      - [隐藏/取消隐藏方案故事](#隐藏取消隐藏方案故事)\n      - [获取故事选项数据](#获取故事选项数据)\n      - [获取故事表单](#获取故事表单)\n      - [创建故事](#创建故事)\n      - [更新故事](#更新故事)\n\n## 和之前版本相比的改动\n\n- 方案与故事所有接口的路径发生了变化\n- 原方案（plan）和套餐（plan set）合并为服务方案（service plan）\n- 原方案故事重构为服务故事（只是修改了方案的关联关系）\n\n## 模型设计\n\n### 状态设计\n\n#### 方案状态\n\n```mermaid\nstateDiagram\n  ENABLED: 上架状态\n  DISABLED: 下架状态*[3]\n  DELETED: 删除状态*[4]\n\n  [*] --\x3e DISABLED: 创建\n\n  DISABLED --\x3e ENABLED: 上架\n  ENABLED --\x3e DISABLED: 下架*[1]\n\n  DISABLED --\x3e DELETED: 删除*[2]\n  ENABLED --\x3e DELETED: 删除*[2]\n```\n\n- 注 1：下架方案时，如果该教师将没有上架的方案时，将教师的大牛状态也设置为下架\n- 注 2：删除方案时，同时会删除关联的故事\n- 注 3：下架状态的方案在客户端不可见，在后台可见\n- 注 4：删除状态的方案在客户端和后台均不可见\n\n#### 故事状态\n\n```mermaid\nstateDiagram\n  ENABLED: 展示状态\n  DISABLED: 隐藏状态*[1]\n  DELETED: 删除状态*[2]\n\n  [*] --\x3e DISABLED: 创建\n\n  DISABLED --\x3e ENABLED: 取消隐藏\n  ENABLED --\x3e DISABLED: 隐藏\n\n  DISABLED --\x3e DELETED: 删除相关方案\n  ENABLED --\x3e DELETED: 删除相关方案\n```\n\n- 注 1：隐藏状态的方案在客户端不可见，在后台可见\n- 注 2：删除状态的方案在客户端和后台均不可见\n\n## 接口设计\n\n### 客户端接口\n\n#### 获取方案分类\n\n```http\nGET /thirdparty/service/plan/types\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: [\n    {\n      // 方案分类\n      id: number;\n      name: string;\n      data: {\n        // hot标记\n        hot: boolean;\n      };\n      // 筛选项\n      subtypes: [\n        {\n          // 筛选项类型\n          id: string; // 例如：region\n          name: string; // 例如：国家\n          options: [\n            // 筛选项数据\n            {\n              id: number;\n              name: string;\n            }\n          ];\n        }\n      ];\n    }\n  ];\n}\n```\n\n#### 获取方案列表\n\n```http\nGET /thirdparty/service/plan/list\n```\n\n参数：\n\n- **typeId**: _number_ 分类 ID\n- **subtypeIds**: _number[]_ 小类筛选\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    data: [\n      // 方案数组\n      {\n        id: number;\n        name: string;\n        coverTag: string; // 封面营销词\n        marketTags: string[]; // 营销TAGS\n        coverUrl: url;\n        hasVideo: boolean; // 有视频介绍\n      }\n    ];\n  };\n}\n```\n\n#### 获取方案详情\n\n```http\nGET /thirdparty/service/plan/item\n```\n\n参数：\n\n- **id**: _number_ 方案 ID\n\n```ts\ninterface Params {\n  id: number;\n  name: string;\n  coverTag: string; // 封面营销词\n  marketTags: string[]; // 营销TAGS\n  coverUrl: string;\n  videoUrl?: string;\n  videoThumbnailUrl?: string;\n  videoWidth?: number;\n  videoHeight?: number;\n  consultant: {\n    id: number;\n    realName: string;\n    avatar: string;\n    province: string;\n    city: string;\n    marketTags: string[];\n    appointmentEnabled: boolean;\n    adeptServiceCategoriesText: string;\n  };\n  // 多张图片组成长图\n  description: [{ url: string; width: number; height: number }];\n  // 多张图片组成长图\n  procedure: [{ url: string; width: number; height: number }];\n  // 多张图片组成长图\n  feesDescription: [{ url: string; width: number; height: number }];\n  stories: [\n    {\n      id: number;\n      title: string;\n      userIsAnonymous: boolean;\n      userName: string;\n      userAvatar: string;\n      likeCount: number;\n      coverUrl: string;\n      coverWidth: number;\n      coverHeight: number;\n      coverColor: string;\n      typeName: string;\n    }\n  ];\n  userTodayRemainingCount: number; // 当前用户今日剩余预约次数\n}\n```\n\n#### 获取大牛列表\n\n```http\nGET /thirdparty/service/plan/consultant/list\n```\n\n参数：\n\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    data: [\n      // 导师数组\n      {\n        id: number;\n        realName: string;\n        avatar: url;\n        province: string;\n        city: string;\n        adeptServiceCategoriesText: string;\n        marketTags: string[];\n        plans: [\n          {\n            // 组合了方案与该教师提供的套餐\n            id: number; // 方案ID\n            name: string; // 方案名\n            coverTag: string; // 方案封面营销词\n            coverUrl: url; // 套餐封面\n          }\n        ];\n      }\n    ];\n  };\n}\n```\n\n#### 获取故事列表\n\n```http\nGET /thirdparty/service/story/list\n```\n\n参数：\n\n- **planId**: _number_ 可选参数，方案 ID（不是套餐 ID）\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      count: number;\n      page: number;\n      pageSize: number;\n    };\n    data: [\n      {\n        id: number;\n        typeName: string;\n        title: string | null;\n        userIsAnonymous: boolean;\n        userName: string | null;\n        userAvatar: string | null;\n        likeCount: number; // 这里需要加上一个基数\n        coverUrl: string;\n        coverWidth: number;\n        coverHeight: number;\n        coverColor: string;\n      }\n    ];\n  };\n}\n```\n\n#### 获取故事详情\n\n```http\nGET /thirdparty/service/story/item\n```\n\n参数：\n\n- **id**: _number_ - 故事 id\n- **silent**: _boolean_ - 此次获取不计入查看次数，一般不要传\n- **showHidden**: _boolean_ - 允许获取隐藏的故事，一般不要传\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    typeName: string;\n    title: string | null;\n    userIsAnonymous: boolean;\n    userName: string | null;\n    userAvatar: string | null;\n    visitCount: number; // 需要加上一个基数\n    likeCount: number; // 需要加上一个基数\n    collectCount: number; // 需要加上一个基数\n    shareCount: number; // 需要加上一个基数\n    serviceStatusText: string;\n    userStatusText: string;\n    coverUrl: string;\n    coverWidth: string;\n    coverHeight: string;\n    videoUrl: string;\n    videoThumbnailUrl: string;\n    images: [{ url: string; text: string }];\n    consultant: {\n      id: number;\n      realName: string;\n      avatar: string;\n      city: string;\n      tags: [{ name: string; color: string }];\n    };\n    plan: {\n      id: number;\n      name: string;\n      coverTag: string;\n      marketTags: string[];\n      coverUrl: string;\n      hasVideo: boolean;\n    };\n    relatedStories: [\n      {\n        id: number;\n        typeName: string;\n        title: string | null;\n        userIsAnonymous: boolean;\n        userName: string | null;\n        userAvatar: string | null;\n        likeCount: number; // 这里需要加上一个基数\n        coverUrl: string;\n        coverWidth: number;\n        coverHeight: number;\n        coverColor: string;\n      }\n    ];\n\n    // 下面的字段都是动态表单的内容\n    target: [\n      // 目标（字段版）\n      { name: string; value: string }\n    ];\n    // 目标（文本版）\n    targetText: string;\n    background: [\n      // 背景信息\n      { name: string; value: string }\n    ];\n    offers: [\n      // 所获结果（Offer版）\n      {\n        offerSchool: {\n          id: number;\n          chineseName: string;\n          englishName: string;\n          logo: string;\n        };\n        offerMajor: string;\n        offerDegree: string;\n        offerYear: string;\n        offerDescription: string;\n      }\n    ];\n    resultText: string; // 所获结果（文本版）\n    storyText: string; // 我的故事\n    analysisText: string; // 深度分析\n  };\n}\n```\n\n#### 增加故事分享计数\n\n```http\nPOST /thirdparty/service/story/share\n```\n\n参数：\n\n- **id**: _number_ - 故事 id\n\n### 管理端接口\n\n#### 后台获取方案列表\n\n```http\nGET /thirdparty/service/plan/list/admin\n```\n\n参数：\n\n- **typeId**: _number_ - 分类 ID，参考[获取方案分类接口](#获取方案分类)\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    data: [\n      // 方案数组\n      {\n        id: number;\n        typeId: number;\n        typeName: string;\n        subtypeIds: number[];\n        subtype: {\n          region: { id; name }; // 对象的key为子类型的id\n          degree: { id; name };\n        };\n        order: number;\n        name: string;\n        coverTag: string; // 封面营销词\n        marketTags: string[]; // 营销TAGS\n        consultant: { id: number; realName: string; avatar: string };\n        coverUrl: string;\n        videoUrl: string;\n        videoThumbnailUrl: string;\n        videoWidth: number;\n        videoHeight: height;\n        description: [{ url: string; width: number; height: number }]; // 多张图片组成长图\n        procedure: [{ url: string; width: number; height: number }]; // 多张图片组成长图\n        feesDescription: [{ url: string; width: number; height: number }]; // 多张图片组成长图\n        enabled: boolean; // 是否上线\n        adminData: any;\n      }\n    ];\n  };\n}\n```\n\n#### 后台获取方案详情\n\n```http\nGET /thirdparty/service/plan/item/admin\n```\n\n参数：\n\n- **id**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    typeId: number;\n    subtypeIds: number[];\n    order: number;\n    name: string;\n    coverTag: string;\n    marketTags: string[];\n    adminData: any;\n    coverUrl: string;\n    videoUrl: string;\n    videoWidth: number;\n    videoHeight: number;\n    videoThumbnailUrl: string;\n    description: [{ url: string; width: number; height: number }];\n    procedure: [{ url: string; width: number; height: number }];\n    feesDescription: [{ url: string; width: number; height: number }];\n    enabled: true;\n    deleted: false;\n    consultant: { id: number; realName: string; avatar: string };\n    subtype: {\n      [key: string]: { id: number; name: string };\n    };\n  };\n}\n```\n\n#### 后台获取大牛列表\n\n```http\nGET /thirdparty/service/plan/consultants/admin\n```\n\n参数：\n\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    data: [\n      {\n        id: number;\n        realName: string;\n        avatar: string;\n        marketOrder: number;\n        marketTags: string[];\n        marketEnabled: boolean;\n        enabled: boolean;\n        appointmentEnabled: boolean;\n        plans: [\n          {\n            id: number;\n            name: string;\n            coverUrl: string;\n            marketTags: string[];\n          }\n        ];\n        isDisplayed: boolean;\n      }\n    ];\n  };\n}\n```\n\n#### 调整方案顺序\n\n```http\nPOST /thirdparty/service/plan/move\n```\n\n参数：\n\n- **id**: _number_ - 方案 id\n- **direction**: _string_ - `"up" | "down"` 移动方向\n\n#### 创建方案\n\n```http\nPOST /thirdparty/service/plan/item\n```\n\n参数：\n\n```ts\ninterface Params {\n  typeId: number;\n  subtypeIds: number[];\n  name: string;\n  coverTag: string;\n  marketTags: string[];\n  coverUrl: string; // 封面图，提交时先上传封面再调用创建接口\n  videoUrl: string; // 视频，只能上传 MP4，提交时先上传视频再调用创建接口\n  videoThumbnailUrl: string;\n  videoWidth: number;\n  videoHeight: number;\n  consultantId: number;\n  description: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口\n  procedure: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口\n  feesDescription: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口\n  adminData: json;\n}\n```\n\n#### 更新方案\n\n```http\nPUT /thirdparty/service/plan/item\n```\n\n参数：\n\n```ts\ninterface Params {\n  id: number;\n  subtypeIds: number[];\n  name: string;\n  coverTag: string;\n  marketTags: string[];\n  coverUrl: string; // 封面图，提交时先上传封面再调用创建接口\n  videoUrl: string; // 视频，只能上传 MP4，提交时先上传视频再调用创建接口\n  videoThumbnailUrl: string;\n  videoWidth: number;\n  videoHeight: number;\n  consultantId: number;\n  description: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口\n  procedure: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口\n  feesDescription: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口\n  adminData: json;\n}\n```\n\n#### 上下线方案\n\n```http\nPUT /thirdparty/service/plan/item/enabled\n```\n\n参数：\n\n- **id**: _number_\n- **enabled**: _boolean_\n\n#### 删除方案\n\n```http\nDELETE /thirdparty/service/plan/item\n```\n\n参数：\n\n- **id**: _number_\n\n#### 获取方案关联的院校列表\n\n```http\nGET /thirdparty/service/plan/school/list\n```\n\n参数：\n\n- **keyword**: _string_ - 关键字搜索\n- **countryId**: _string_ - 国家 ID\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      count: number;\n      page: number;\n      pageSize: number;\n    };\n    data: [\n      {\n        id: number;\n        chineseName: string;\n        englishName: string;\n        logo: string;\n        plans: [{ id: number; name: string }];\n      }\n    ];\n  };\n}\n```\n\n#### 修改院校关联的方案列表\n\n```http\nPOST /thirdparty/service/plan/school/relations\n```\n\n参数：\n\n- **schoolId**: _number_ - 学校 id\n- **planIds**: _number[]_ - 方案数组\n\n#### 后台获取故事列表\n\n```http\nGET /thirdparty/service/story/list/admin\n```\n\n参数：\n\n- **consultantId**: _number_ - 可选参数，教师 ID\n- **page**: _number_\n- **pageSize**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      count: number;\n      page: number;\n      pageSize: number;\n    };\n    data: [\n      {\n        id: number;\n        title: string;\n        enabled: boolean;\n        userIsAnonymous: boolean;\n        userName: string;\n        userAvatar: string;\n        visitCount: number;\n        likeCount: number;\n        collectCount: number;\n        shareCount: number;\n        quality: number;\n        coverUrl: string;\n        coverWidth: number;\n        coverHeight: number;\n        plan: {\n          id: number;\n          name: string;\n          deleted: boolean;\n          enabled: boolean;\n        };\n        consultant: {\n          id: number;\n          realName: string;\n        };\n        typeName: string;\n        serviceStatusText: string;\n      },\n  };\n}\n```\n\n#### 后台获取故事详情\n\n```http\nGET /thirdparty/service/story/item/admin\n```\n\n参数：\n\n- **id**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    typeId: number;\n    planId: number;\n    title: string;\n    userIsAnonymous: boolean;\n    userName: string;\n    userAvatar: string;\n    serviceStatus: string;\n    videoUrl: string;\n    videoThumbnailUrl: string;\n    images: [{ url: string; text: string }];\n    userStatusText: string;\n    formData: object;\n  };\n}\n```\n\n#### 隐藏/取消隐藏方案故事\n\n```http\nPOST /thirdparty/service/story/item/enabled\n```\n\n参数：\n\n- **id**: _number_\n- **enabled**: _boolean_\n\n#### 获取故事选项数据\n\n```http\nGET /thirdparty/service/story/options\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    type: [{ id: number; name: string }];\n    serviceStatus: [{ id: number; name: string }];\n  };\n}\n```\n\n#### 获取故事表单\n\n```http\nGET /thirdparty/service/story/form\n```\n\n参数：\n\n- **typeId**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    blocks: [\n      {\n        key: string;\n        name: string;\n        type: "object" | "array" | "text";\n        inputs?: [\n          {\n            key: string;\n            name: string;\n            type:\n              | "select"\n              | "checkbox"\n              | "text"\n              | "textarea"\n              | "school"\n              | "major";\n            options?:\n              | [{ id: number; name: string }]\n              | [{ id: string; name: string }];\n          }\n        ];\n      }\n    ];\n  };\n}\n```\n\n#### 创建故事\n\n```http\nPOST /thirdparty/service/story/item\n```\n\n```ts\ninterface Params {\n  planId: number;\n  title: string; \n  userIsAnonymous: boolean;\n  userName: string; \n  userAvatar: string; \n  serviceStatus: number;\n  coverUrl: string;\n  coverWidth: number;\n  coverHeight: number;\n  videoUrl: string; // videoUrl 和 images 只能有一个\n  videoThumbnailUrl: string;\n  images: { url: string; text: string }[];\n  userStatusText: string;\n  formData: string; // json字符串\n}\n```\n\n#### 更新故事\n\n```http\nPUT /thirdparty/service/story/item\n```\n\n```ts\ninterface Params {\n  id: number;\n  title: string; \n  userIsAnonymous: boolean;\n  userName: string; \n  userAvatar: string; \n  serviceStatus: number;\n  coverUrl: string;\n  coverWidth: number;\n  coverHeight: number;\n  videoUrl: string; // videoUrl 和 images 只能有一个\n  videoThumbnailUrl: string;\n  images: { url: string; text: string }[];\n  userStatusText: string;\n  formData: string; // json字符串\n}\n```\n',children:[{link:"/articles/drafts/2.46.1.md#和之前版本相比的改动",title:"和之前版本相比的改动",content:["方案与故事所有接口的路径发生了变化 原方案（plan）和套餐（plan set）合并为服务方案（service plan） 原方案故事重构为服务故事（只是修改了方案的关联关系）"]},{link:"/articles/drafts/2.46.1.md#模型设计",title:"模型设计",content:["状态设计","方案状态","stateDiagram ENABLED: 上架状态 DISABLED: 下架状态*[3] DELETED: 删除状态*[4] [*] --\x3e DISABLED: 创建 DISABLED --\x3e ENABLED: 上架 ENABLED --\x3e DISABLED: 下架*[1] DISABLED --\x3e DELETED: 删除*[2] ENABLED --\x3e DELETED: 删除*[2]","注 1：下架方案时，如果该教师将没有上架的方案时，将教师的大牛状态也设置为下架 注 2：删除方案时，同时会删除关联的故事 注 3：下架状态的方案在客户端不可见，在后台可见 注 4：删除状态的方案在客户端和后台均不可见","故事状态","stateDiagram ENABLED: 展示状态 DISABLED: 隐藏状态*[1] DELETED: 删除状态*[2] [*] --\x3e DISABLED: 创建 DISABLED --\x3e ENABLED: 取消隐藏 ENABLED --\x3e DISABLED: 隐藏 DISABLED --\x3e DELETED: 删除相关方案 ENABLED --\x3e DELETED: 删除相关方案","注 1：隐藏状态的方案在客户端不可见，在后台可见 注 2：删除状态的方案在客户端和后台均不可见"]},{link:"/articles/drafts/2.46.1.md#接口设计",title:"接口设计",content:["客户端接口","获取方案分类","GET /thirdparty/service/plan/types","interface Response { code: 0; data: [ { // 方案分类 id: number; name: string; data: { // hot标记 hot: boolean; }; // 筛选项 subtypes: [ { // 筛选项类型 id: string; // 例如：region name: string; // 例如：国家 options: [ // 筛选项数据 { id: number; name: string; } ]; } ]; } ]; }","获取方案列表","GET /thirdparty/service/plan/list","参数：","typeId: number 分类 ID subtypeIds: number[] 小类筛选 page: number pageSize: number","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; data: [ // 方案数组 { id: number; name: string; coverTag: string; // 封面营销词 marketTags: string[]; // 营销TAGS coverUrl: url; hasVideo: boolean; // 有视频介绍 } ]; }; }","获取方案详情","GET /thirdparty/service/plan/item","参数：","id: number 方案 ID","interface Params { id: number; name: string; coverTag: string; // 封面营销词 marketTags: string[]; // 营销TAGS coverUrl: string; videoUrl?: string; videoThumbnailUrl?: string; videoWidth?: number; videoHeight?: number; consultant: { id: number; realName: string; avatar: string; province: string; city: string; marketTags: string[]; appointmentEnabled: boolean; adeptServiceCategoriesText: string; }; // 多张图片组成长图 description: [{ url: string; width: number; height: number }]; // 多张图片组成长图 procedure: [{ url: string; width: number; height: number }]; // 多张图片组成长图 feesDescription: [{ url: string; width: number; height: number }]; stories: [ { id: number; title: string; userIsAnonymous: boolean; userName: string; userAvatar: string; likeCount: number; coverUrl: string; coverWidth: number; coverHeight: number; coverColor: string; typeName: string; } ]; userTodayRemainingCount: number; // 当前用户今日剩余预约次数 }","获取大牛列表","GET /thirdparty/service/plan/consultant/list","参数：","page: number pageSize: number","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; data: [ // 导师数组 { id: number; realName: string; avatar: url; province: string; city: string; adeptServiceCategoriesText: string; marketTags: string[]; plans: [ { // 组合了方案与该教师提供的套餐 id: number; // 方案ID name: string; // 方案名 coverTag: string; // 方案封面营销词 coverUrl: url; // 套餐封面 } ]; } ]; }; }","获取故事列表","GET /thirdparty/service/story/list","参数：","planId: number 可选参数，方案 ID（不是套餐 ID） page: number pageSize: number","interface Response { code: 0; data: { pagination: { count: number; page: number; pageSize: number; }; data: [ { id: number; typeName: string; title: string | null; userIsAnonymous: boolean; userName: string | null; userAvatar: string | null; likeCount: number; // 这里需要加上一个基数 coverUrl: string; coverWidth: number; coverHeight: number; coverColor: string; } ]; }; }","获取故事详情","GET /thirdparty/service/story/item","参数：","id: number - 故事 id silent: boolean - 此次获取不计入查看次数，一般不要传 showHidden: boolean - 允许获取隐藏的故事，一般不要传","interface Response { code: 0; data: { id: number; typeName: string; title: string | null; userIsAnonymous: boolean; userName: string | null; userAvatar: string | null; visitCount: number; // 需要加上一个基数 likeCount: number; // 需要加上一个基数 collectCount: number; // 需要加上一个基数 shareCount: number; // 需要加上一个基数 serviceStatusText: string; userStatusText: string; coverUrl: string; coverWidth: string; coverHeight: string; videoUrl: string; videoThumbnailUrl: string; images: [{ url: string; text: string }]; consultant: { id: number; realName: string; avatar: string; city: string; tags: [{ name: string; color: string }]; }; plan: { id: number; name: string; coverTag: string; marketTags: string[]; coverUrl: string; hasVideo: boolean; }; relatedStories: [ { id: number; typeName: string; title: string | null; userIsAnonymous: boolean; userName: string | null; userAvatar: string | null; likeCount: number; // 这里需要加上一个基数 coverUrl: string; coverWidth: number; coverHeight: number; coverColor: string; } ]; // 下面的字段都是动态表单的内容 target: [ // 目标（字段版） { name: string; value: string } ]; // 目标（文本版） targetText: string; background: [ // 背景信息 { name: string; value: string } ]; offers: [ // 所获结果（Offer版） { offerSchool: { id: number; chineseName: string; englishName: string; logo: string; }; offerMajor: string; offerDegree: string; offerYear: string; offerDescription: string; } ]; resultText: string; // 所获结果（文本版） storyText: string; // 我的故事 analysisText: string; // 深度分析 }; }","增加故事分享计数","POST /thirdparty/service/story/share","参数：","id: number - 故事 id","管理端接口","后台获取方案列表","GET /thirdparty/service/plan/list/admin","参数：","typeId: number - 分类 ID，参考获取方案分类接口 page: number pageSize: number","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; data: [ // 方案数组 { id: number; typeId: number; typeName: string; subtypeIds: number[]; subtype: { region: { id; name }; // 对象的key为子类型的id degree: { id; name }; }; order: number; name: string; coverTag: string; // 封面营销词 marketTags: string[]; // 营销TAGS consultant: { id: number; realName: string; avatar: string }; coverUrl: string; videoUrl: string; videoThumbnailUrl: string; videoWidth: number; videoHeight: height; description: [{ url: string; width: number; height: number }]; // 多张图片组成长图 procedure: [{ url: string; width: number; height: number }]; // 多张图片组成长图 feesDescription: [{ url: string; width: number; height: number }]; // 多张图片组成长图 enabled: boolean; // 是否上线 adminData: any; } ]; }; }","后台获取方案详情","GET /thirdparty/service/plan/item/admin","参数：","id: number","interface Response { code: 0; data: { id: number; typeId: number; subtypeIds: number[]; order: number; name: string; coverTag: string; marketTags: string[]; adminData: any; coverUrl: string; videoUrl: string; videoWidth: number; videoHeight: number; videoThumbnailUrl: string; description: [{ url: string; width: number; height: number }]; procedure: [{ url: string; width: number; height: number }]; feesDescription: [{ url: string; width: number; height: number }]; enabled: true; deleted: false; consultant: { id: number; realName: string; avatar: string }; subtype: { [key: string]: { id: number; name: string }; }; }; }","后台获取大牛列表","GET /thirdparty/service/plan/consultants/admin","参数：","page: number pageSize: number","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; data: [ { id: number; realName: string; avatar: string; marketOrder: number; marketTags: string[]; marketEnabled: boolean; enabled: boolean; appointmentEnabled: boolean; plans: [ { id: number; name: string; coverUrl: string; marketTags: string[]; } ]; isDisplayed: boolean; } ]; }; }","调整方案顺序","POST /thirdparty/service/plan/move","参数：",'id: number - 方案 id direction: string - "up" | "down" 移动方向',"创建方案","POST /thirdparty/service/plan/item","参数：","interface Params { typeId: number; subtypeIds: number[]; name: string; coverTag: string; marketTags: string[]; coverUrl: string; // 封面图，提交时先上传封面再调用创建接口 videoUrl: string; // 视频，只能上传 MP4，提交时先上传视频再调用创建接口 videoThumbnailUrl: string; videoWidth: number; videoHeight: number; consultantId: number; description: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口 procedure: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口 feesDescription: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口 adminData: json; }","更新方案","PUT /thirdparty/service/plan/item","参数：","interface Params { id: number; subtypeIds: number[]; name: string; coverTag: string; marketTags: string[]; coverUrl: string; // 封面图，提交时先上传封面再调用创建接口 videoUrl: string; // 视频，只能上传 MP4，提交时先上传视频再调用创建接口 videoThumbnailUrl: string; videoWidth: number; videoHeight: number; consultantId: number; description: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口 procedure: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口 feesDescription: { url: string; height: number; width: number }[]; // 由一个长图切出来的多个短图，提交时先上传好再调用创建接口 adminData: json; }","上下线方案","PUT /thirdparty/service/plan/item/enabled","参数：","id: number enabled: boolean","删除方案","DELETE /thirdparty/service/plan/item","参数：","id: number","获取方案关联的院校列表","GET /thirdparty/service/plan/school/list","参数：","keyword: string - 关键字搜索 countryId: string - 国家 ID page: number pageSize: number","interface Response { code: 0; data: { pagination: { count: number; page: number; pageSize: number; }; data: [ { id: number; chineseName: string; englishName: string; logo: string; plans: [{ id: number; name: string }]; } ]; }; }","修改院校关联的方案列表","POST /thirdparty/service/plan/school/relations","参数：","schoolId: number - 学校 id planIds: number[] - 方案数组","后台获取故事列表","GET /thirdparty/service/story/list/admin","参数：","consultantId: number - 可选参数，教师 ID page: number pageSize: number","interface Response { code: 0; data: { pagination: { count: number; page: number; pageSize: number; }; data: [ { id: number; title: string; enabled: boolean; userIsAnonymous: boolean; userName: string; userAvatar: string; visitCount: number; likeCount: number; collectCount: number; shareCount: number; quality: number; coverUrl: string; coverWidth: number; coverHeight: number; plan: { id: number; name: string; deleted: boolean; enabled: boolean; }; consultant: { id: number; realName: string; }; typeName: string; serviceStatusText: string; }, }; }","后台获取故事详情","GET /thirdparty/service/story/item/admin","参数：","id: number","interface Response { code: 0; data: { id: number; typeId: number; planId: number; title: string; userIsAnonymous: boolean; userName: string; userAvatar: string; serviceStatus: string; videoUrl: string; videoThumbnailUrl: string; images: [{ url: string; text: string }]; userStatusText: string; formData: object; }; }","隐藏/取消隐藏方案故事","POST /thirdparty/service/story/item/enabled","参数：","id: number enabled: boolean","获取故事选项数据","GET /thirdparty/service/story/options","interface Response { code: 0; data: { type: [{ id: number; name: string }]; serviceStatus: [{ id: number; name: string }]; }; }","获取故事表单","GET /thirdparty/service/story/form","参数：","typeId: number",'interface Response { code: 0; data: { blocks: [ { key: string; name: string; type: "object" | "array" | "text"; inputs?: [ { key: string; name: string; type: | "select" | "checkbox" | "text" | "textarea" | "school" | "major"; options?: | [{ id: number; name: string }] | [{ id: string; name: string }]; } ]; } ]; }; }',"创建故事","POST /thirdparty/service/story/item","interface Params { planId: number; title: string; userIsAnonymous: boolean; userName: string; userAvatar: string; serviceStatus: number; coverUrl: string; coverWidth: number; coverHeight: number; videoUrl: string; // videoUrl 和 images 只能有一个 videoThumbnailUrl: string; images: { url: string; text: string }[]; userStatusText: string; formData: string; // json字符串 }","更新故事","PUT /thirdparty/service/story/item","interface Params { id: number; title: string; userIsAnonymous: boolean; userName: string; userAvatar: string; serviceStatus: number; coverUrl: string; coverWidth: number; coverHeight: number; videoUrl: string; // videoUrl 和 images 只能有一个 videoThumbnailUrl: string; images: { url: string; text: string }[]; userStatusText: string; formData: string; // json字符串 }"]}]},{link:"/articles/drafts/2.47.0.md",title:"解决方案第三迭代接口设计",content:["解决方案第三迭代接口设计 改动记录 服务订单设计 服务订单状态设计 服务订单表结构设计 服务订单接口设计 （学生端）我的服务订单列表（我的方案） （学生端）服务订单详情 （教师端）服务订单详情 （学生端）确认下单 （学生端）删除订单 （学生端）预约详情中增加方案信息 （学生端）发起预约时增加方案 ID 参数 （管理端）订单列表 （管理端）撤销订单 （管理端）恢复订单 （管理端）编辑管理备注 我的学生（互动）设计 我的学生基本设计 我的学生表结构设计 我的学生接口设计 （我的学生）待处理列表 （我的学生）服务中列表 （我的学生）全部列表 （我的学生）互动详情（互动记录、服务等） （我的学生）确认订单 （我的学生）结束服务 （我的学生）编辑沟通备忘录"],markdown:'# 解决方案第三迭代接口设计\n\n- [解决方案第三迭代接口设计](#解决方案第三迭代接口设计)\n  - [改动记录](#改动记录)\n  - [服务订单设计](#服务订单设计)\n    - [服务订单状态设计](#服务订单状态设计)\n    - [服务订单表结构设计](#服务订单表结构设计)\n    - [服务订单接口设计](#服务订单接口设计)\n      - [（学生端）我的服务订单列表（我的方案）](#学生端我的服务订单列表我的方案)\n      - [（学生端）服务订单详情](#学生端服务订单详情)\n      - [（教师端）服务订单详情](#教师端服务订单详情)\n      - [（学生端）确认下单](#学生端确认下单)\n      - [（学生端）删除订单](#学生端删除订单)\n      - [（学生端）预约详情中增加方案信息](#学生端预约详情中增加方案信息)\n      - [（学生端）发起预约时增加方案 ID 参数](#学生端发起预约时增加方案-id-参数)\n      - [（管理端）订单列表](#管理端订单列表)\n      - [（管理端）撤销订单](#管理端撤销订单)\n      - [（管理端）恢复订单](#管理端恢复订单)\n      - [（管理端）编辑管理备注](#管理端编辑管理备注)\n  - [我的学生（互动）设计](#我的学生互动设计)\n    - [我的学生基本设计](#我的学生基本设计)\n    - [我的学生表结构设计](#我的学生表结构设计)\n    - [我的学生接口设计](#我的学生接口设计)\n      - [（我的学生）待处理列表](#我的学生待处理列表)\n      - [（我的学生）服务中列表](#我的学生服务中列表)\n      - [（我的学生）全部列表](#我的学生全部列表)\n      - [（我的学生）互动详情（互动记录、服务等）](#我的学生互动详情互动记录服务等)\n      - [（我的学生）确认订单](#我的学生确认订单)\n      - [（我的学生）结束服务](#我的学生结束服务)\n      - [（我的学生）编辑沟通备忘录](#我的学生编辑沟通备忘录)\n\n## 改动记录\n\n- 服务订单增加 `appointTime` 表示预约时间，且表结构那边增加了几个时间的注释。\n- 修改了 `canReview` 的条件\n- 删除了订单的 `planSetId`, `planSetSnapshot` 字段，增加 `planSnapshot` 字段\n- 订单增加 `statusTime` 字段，记录状态变化时间\n- 增加了待处理列表、服务中列表、互动记录的排序描述\n- 增加了数据库表的索引的描述\n\n## 服务订单设计\n\n**服务订单（Service Order）** 表示用户与方案套餐的关系，每次用户针对套餐创建咨询预约时，同时创建一个状态为咨询中的服务订单。\n\n### 服务订单状态设计\n\n```mermaid\nstateDiagram\n  APPOINTED: 已预约咨询\n  SUBMITTED: 学生已下单，待确认\n  SERVING: 老师已确认，服务中\n  COMPLETED: 服务结束\n  ABORTED: 用户已撤销\n  REVOKED: 后台已撤销\n\n  [*] --\x3e APPOINTED: 学生针对方案发起咨询\n  APPOINTED --\x3e SUBMITTED: 学生确认下单\n  SUBMITTED --\x3e SERVING: 老师确认订单\n  SERVING --\x3e COMPLETED: 老师结束服务\n\n  APPOINTED --\x3e ABORTED: 学生删除订单\n\n  SUBMITTED --\x3e REVOKED: 后台撤销订单\n  SERVING --\x3e REVOKED: 后台撤销订单\n  REVOKED --\x3e SUBMITTED: 后台恢复订单\n```\n\n注：\n\n- 学生下单需要满足前置条件：相关预约已经处于已联系或后续成功状态\n\n```ts\nenum SERVICE_ORDER_STATUS {\n  APPOINTED = 1, // 已预约咨询\n  SUBMITTED = 2, // 学生已下单，待确认\n  SERVING = 3, // 老师已确认，服务中\n  COMPLETED = 4, // 服务结束\n  ABORTED = 5, // 用户已撤销\n  REVOKED = 6 // 后台已撤销\n}\nconst SERVICE_ORDER_STATUS_TEXT = {\n  [SERVICE_ORDER_STATUS.APPOINTED]: "咨询中",\n  [SERVICE_ORDER_STATUS.SUBMITTED]: "已下单，待确认",\n  [SERVICE_ORDER_STATUS.SERVING]: "服务中",\n  [SERVICE_ORDER_STATUS.COMPLETED]: "服务结束",\n  [SERVICE_ORDER_STATUS.ABORTED]: "订单已关闭",\n  [SERVICE_ORDER_STATUS.REVOKED]: "订单已关闭"\n};\n```\n\n### 服务订单表结构设计\n\n```ts\n@Index(["userId"])\n@Index(["planId"])\n@Index(["status"])\n@Index(["statusTime"])\ninterface ThirdPartyServiceOrder {\n  id: integer.autoIncrement.primaryKey;\n  userId: integer.notNull;\n  planId: integer.notNull;\n  planSnapshot: json.notNull;\n  appointmentId: integer; // 下个版本可能会直接发起订单，这里允许空值\n  status: integer.notNull; // 状态，枚举值\n  statusTime: timestamptz.notNull.defaultValue<"now">; // 每次参数状态变化时更新此时间\n  createTime: timestamptz.notNull.defaultValue<"now">;\n  appointTime: timestamptz; // 预约时间\n  submitTime: timestamptz; // 下单时间\n  confirmTime: timestamptz; // 确认时间\n  completeTime: timestamptz; // 结束时间\n  revokeTime: timestamptz; // 关闭时间\n  abortTime: timestamptz; // 关闭时间\n  abortReason: text;\n  adminNote: text; // 管理备注\n}\n```\n\n### 服务订单接口设计\n\n#### （学生端）我的服务订单列表（我的方案）\n\n```http\nGET /thirdparty/service_order/list/mine\n```\n\n参数：无\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: [\n    {\n      id: number;\n      typeName: string;\n      status: number;\n      statusText: string;\n      appointmentId?: number;\n      canDelete: boolean; // 是否可以删除方案\n      canOrder: boolean; // 是否可以确认下单\n      canReview: boolean; // 是否可以评价咨询\n      isActive: boolean; // 是否有效（用于区分已失效）\n      planSnapshot: {\n        // 方案\n        id: number;\n        name: string;\n        coverUrl: string;\n      };\n      lastActionTime: string; // 最后操作的时间，如「预约时间：2018-04-26 12:12」\n    }\n  ];\n}\n```\n\n注：\n\n- canDelete = 未下单\n- canOrder = 老师将预约状态改为了已联系\n- canReview = 预约的 `status !== CANCELLED && reviewInvited && !reviewed`\n\n#### （学生端）服务订单详情\n\n```http\nGET /thirdparty/service_order/item/mine\n```\n\n注意：\n\n- 只能获取自己的订单\n  - 未登录提示登录\n  - 找不到或者不是自己的给出相应的错误类型\n- 发起预约时需要加上方案 ID（`planId`）\n- 预约按钮文案改为 `预约咨询XXX套餐`（需要明确表示咨询的是套餐，而不是方案）\n- 时间轴提供的逻辑：\n  - 固定的 4 个步骤，每个步骤时间和是否完成根据实际情况去填充\n  - 状态为 ABORTED,REVOKED 时，仅展示已完成步骤，外加一个取消的步骤\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    typeName: string;\n    status: number;\n    statusText: string;\n    appointmentId?: number;\n    canDelete: boolean; // 是否可以删除方案\n    canOrder: boolean; // 是否可以确认下单\n    canReview: boolean; // 是否可以评价咨询\n    planSnapshot: {\n      // 方案\n      id: number;\n      name: string;\n      coverUrl: string;\n    };\n    timeline: [\n      // 时间轴\n      {\n        action: string;\n        done: boolean;\n        time?: string;\n      }\n    ];\n  };\n}\n```\n\n#### （教师端）服务订单详情\n\n```http\nGET /thirdparty/service_order/item/tome\n```\n\n注意：\n\n- 只能获取自己相关的订单\n  - 未登录提示登录\n  - 找不到或者不是自己的给出相应的错误类型\n- 时间轴提供的逻辑：\n  - 固定的 4 个步骤，每个步骤时间和是否完成根据实际情况去填充\n  - 状态为 ABORTED,REVOKED 时，仅展示已完成步骤，外加一个取消的步骤\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    typeName: string;\n    status: number;\n    statusText: string;\n    appointmentId?: number;\n    canDelete: boolean; // 是否可以删除方案\n    canOrder: boolean; // 是否可以确认下单\n    canReview: boolean; // 是否可以评价咨询\n    planSnapshot: {\n      // 方案\n      id: number;\n      name: string;\n      coverUrl: string;\n    };\n    timeline: [\n      // 时间轴\n      {\n        action: string;\n        done: boolean;\n        time?: string;\n      }\n    ];\n  };\n}\n```\n\n#### （学生端）确认下单\n\n```http\nPOST /thirdparty/service_order/item/submit\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n注：\n\n- 将服务订单状态标记为已下单，同时设置 `submitTime`\n- 给对应套餐的提供老师发送 APP 推送\n\n#### （学生端）删除订单\n\n```http\nPOST /thirdparty/service_order/item/abort\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n- **abortReason**: _string_ - 删除原因\n\n注：\n\n- 需要设置 `abortTime`\n- 删除订单时，如果相关预约的状态为未联系，则同时取消预约\n- 需要给老师推送\n\n#### （学生端）预约详情中增加方案信息\n\n```ts\ninterface AppointmentItem {\n  // ...\n  plan: {\n    id: number;\n    name: string;\n    coverTag: string;\n    marketTags: string[];\n    coverUrl: string;\n    hasVideo: boolean;\n  };\n  // ...\n}\n```\n\n#### （学生端）发起预约时增加方案 ID 参数\n\n参数：\n\n- **planId**: _number_ - 方案 ID\n\n注意：\n\n- 当发起咨询时带有 `planId` 时\n  - 需要验证方案是否上线\n  - 创建咨询的同时，创建一个服务订单\n\n#### （管理端）订单列表\n\n```http\nGET /thirdparty/service_order/list/admin\n```\n\n注：\n\n- 获取老师选项数据的接口增加 `hasServiceOrder` 参数，用于只获取有订单的老师\n\n参数：\n\n- **status**: _number_ - 按订单状态筛选\n- **consultantId**: _number_ - 按服务老师筛选\n- **createdAfter**: _Date_ - 按创建时间筛选\n- **createdBefore**: _Date_ - 按创建时间筛选\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    data: [\n      {\n        id: number;\n        status: number;\n        user: {\n          id: number;\n          name: string;\n          avatar: string;\n        };\n        consultant: {\n          id: number;\n          realName: string;\n          avatar: string;\n        };\n        planSnapshot: {\n          id: number;\n          name: string;\n          coverUrl: string;\n        };\n        createTime: Date;\n        adminNote: string;\n        appointmentId: number;\n        appointmentReviewText: string;\n        appointTime: Date;\n        submitTime: Date;\n        confirmTime: Date;\n        completeTime: Date;\n        revokeTime: Date;\n        abortTime: Date;\n      }\n    ];\n  };\n}\n```\n\n#### （管理端）撤销订单\n\n```http\nPOST /thirdparty/service_order/item/revoke\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n注：\n\n- 只能在 SUBMITTED / SERVING 状态中操作\n- 需要设置 `revokeTime`\n- 需要给学生/老师推送\n\n#### （管理端）恢复订单\n\n```http\nPOST /thirdparty/service_order/item/revoke/revert\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n注：\n\n- 只能在 REVOKED 状态下操作\n- 将状态设为 SUBMITTED\n- 清除 `revokeTime`, `confirmTime`\n- 重新设置 `submitTime`\n- 需要给学生/老师推送\n\n#### （管理端）编辑管理备注\n\n```http\nPUT /thirdparty/service_order/item/admin_note\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n- **adminNote**: _string_ - 管理备注内容\n\n## 我的学生（互动）设计\n\n### 我的学生基本设计\n\n新增概念：互动（interaction），表示教师与学生 1:1 的关系。\n\n一个互动包括：\n\n- 相关学生一名\n- 相关教师一名\n- 初次互动时间（仅在创建时计算即可）\n- 最新互动时间\n- 互动\n  - 问答：分配给我的 + 我回答过的\n  - 追问：追问我的\n  - 预约：预约我的\n  - 订单：关于我的套餐的\n- 待处理状态（布尔值，有任何未处理预约、分配未回答问题、未处理预约）\n- 服务中状态（布尔值，有任何已下单未结束服务订单）\n\n状态更新逻辑：\n\n- 更新待处理状态、最新互动时间、互动项目的 ID 数组\n\n  - 产生新的追问时\n  - 分配新的问题时\n  - 发起新的预约时\n  - 老师回答问题/追问时\n  - 老师修改预约状态时\n  - 每 5 分钟刷新一次活跃的（最新互动时间在 15 分钟内的）\n  - 每 1 小时刷新一次非活跃的（最新时间在 15 分钟外的，包括尚未创建条目的）\n\n- 更新服务订单状态\n  - 用户确认下单时，设为服务中\n  - 服务订单状态改变时，刷新服务中状态\n  - 每 5 分钟刷新一次活跃数据的待处理状态\n  - 每 1 小时刷新一次非活跃数据的待处理状态\n\n### 我的学生表结构设计\n\n```ts\n@UniqueIndex(["consultantId", "userId"])\n@Index(["updateTime"])\n@Index(["isPending"])\n@Index(["isServing"])\ninterface ThirdPartyInteraction {\n  id: integer.autoIncrement.primaryKey;\n  userId: integer.notNull;\n  consultantId: integer.notNull;\n  createTime: timestamptz.notNull.default<"now">;\n  // 最新互动时间\n  updateTime: timestamptz.notNull.default<"now">;\n  // 是否待处理\n  isPending: boolean.notNull.default<false>;\n  // 是否服务中\n  isServing: boolean.notNull.default<false>;\n  // 问题ID数组\n  questionIds: integer[].notNull.default<[]>;\n  // 追问ID数组\n  subQuestionIds: integer[].notNull.default<[]>;\n  // 预约ID数组\n  appointmentIds: integer[].notNull.default<[]>;\n  // 服务订单数组\n  serviceOrderIds: integer[].notNull.default<[]>;\n  // 有未处理的问题\n  hasPendingQuestions: boolean.notNull.default<false>;\n  // 有未处理的追问\n  hasPendingSubQuestions: boolean.notNull.default<false>;\n  // 沟通备忘录\n  contactNote: string;\n}\n```\n\n### 我的学生接口设计\n\n#### （我的学生）待处理列表\n\n```http\nGET /thirdparty/interaction/list/pending\n```\n\n参数：\n\n- **page**: _number_\n- **pageSize**: _number_\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    meta: {\n      totalPendingCount: number;\n    };\n    data: [\n      {\n        id: number; // 互动ID（不需要用）\n        user: {\n          id: number;\n          name: string;\n          avatar: string;\n        };\n        hasPendingQuestions: boolean; // 有追问未处理\n        hasPendingSubQuestions: boolean; // 有问题未处理\n        appointments: [\n          // 这里仅展示待联系的预约，按照预约时间正向排序\n          {\n            id: number; // 预约ID\n            appointmentTime: Date; // 预约时间\n            appointmentTimeText: string; // 预约时间（文本表示）\n            consultantRead: boolean; // 老师已读\n            isPlanRelated: boolean; // 和方案相关\n          }\n        ];\n        hasPlanRelatedAppointments: boolean; // 是否有方案相关的预约\n        hasUnreadAppointments: boolean; // 是否有未读的预约\n      }\n    ];\n  };\n}\n```\n\n#### （我的学生）服务中列表\n\n```http\nGET /thirdparty/interaction/list/serving\n```\n\n参数：\n\n- **page**: _number_\n- **pageSize**: _number_\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    meta: {\n      totalPendingCount: number;\n    };\n    data: [\n      {\n        id: number; // 互动ID（不需要用）\n        user: {\n          id: number;\n          name: string;\n          avatar: string;\n        };\n        serviceOrders: [\n          // 这里按照订单更新时间倒序\n          {\n            id: number; // 服务订单ID\n            status: number;\n            statusText: string;\n            planSnapshot: {\n              // 方案\n              id: number;\n              name: string;\n              coverUrl: string;\n            };\n          }\n        ];\n      }\n    ];\n  };\n}\n```\n\n#### （我的学生）全部列表\n\n```http\nGET /thirdparty/interaction/list/all\n```\n\n参数：\n\n- **page**: _number_\n- **pageSize**: _number_\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      page: number;\n      pageSize: number;\n      count: number;\n    };\n    meta: {\n      totalPendingCount: number;\n    };\n    data: [\n      {\n        id: number; // 互动ID（不需要用）\n        user: {\n          id: number;\n          name: string;\n          avatar: string;\n        };\n        appointmentCount: number;\n        questionCount: number;\n        subQuestionCount: number;\n        serviceOrderCount: number;\n      }\n    ];\n  };\n}\n```\n\n#### （我的学生）互动详情（互动记录、服务等）\n\n```http\nGET /thirdparty/interaction/user\n```\n\n参数：\n\n- **userId**: _number_ - 用户 ID\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    user: {\n      id: number;\n      name: string;\n      avatar: string;\n    };\n    appointments: [\n      // 排序条件（逆序）= statusTime || createTime\n      {\n        id: number; // 预约ID\n        appointmentTime: Date; // 预约时间\n        appointmentTimeText: string; // 预约时间（文本表示）\n        consultantRead: boolean; // 老师已读\n        isPlanRelated: boolean; // 和方案相关\n        status: number; // 预约状态\n      }\n    ];\n    questions: [\n      // 排序条件（逆序）= max(...subQuestion.createTime, ...answer.createTime, question.createTime)\n      {\n        id: number; // 问题ID\n        content: string; // 问题内容\n        createTime: Date; // 提问时间\n        createTimeText: string; // 提问时间（文本表示）\n        // 下面五个用于展示标签\n        locationProvince: string;\n        locationCity: string;\n        schoolName: string;\n        targetCountryName: string;\n        targetDegreeName: string;\n        subQuestionCount: number;\n      }\n    ];\n    serviceOrders: [\n      // 排序条件：更新时间\n      {\n        id: number;\n        typeName: string;\n        status: number;\n        statusText: string;\n        isActive: boolean; // 是否有效（用于区分已失效）\n        planSnapshot: {\n          // 方案\n          id: number;\n          name: string;\n          coverUrl: string;\n        };\n        lastActionTime: string; // 最后操作的时间，如「预约时间：2018-04-26 12:12」\n      }\n    ];\n    userData: {\n      // 用户画像，和预约里面一样\n      // ...\n    };\n    contactNote: string; // 沟通备忘录\n  };\n}\n```\n\n#### （我的学生）确认订单\n\n```http\nPOST /thirdparty/service_order/confirm\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n注：\n\n- 只能在待确认状态操作\n- 需要设置 `confirmTime`\n- 需要给老师推送\n\n#### （我的学生）结束服务\n\n```http\nPOST /thirdparty/service_order/complete\n```\n\n参数：\n\n- **id**: _number_ - 服务订单 ID\n\n注：\n\n- 只能在服务中状态操作\n- 需要设置 `completeTime`\n- 需要给老师推送\n\n#### （我的学生）编辑沟通备忘录\n\n```http\nPUT /thirdparty/interaction/user/contact_note\n```\n\n参数：\n\n- **userId**: _number_ - 用户 ID\n- **contactNote**: _number_ - 沟通备忘录内容\n',children:[{link:"/articles/drafts/2.47.0.md#改动记录",title:"改动记录",content:["服务订单增加 appointTime 表示预约时间，且表结构那边增加了几个时间的注释。 修改了 canReview 的条件 删除了订单的 planSetId, planSetSnapshot 字段，增加 planSnapshot 字段 订单增加 statusTime 字段，记录状态变化时间 增加了待处理列表、服务中列表、互动记录的排序描述 增加了数据库表的索引的描述"]},{link:"/articles/drafts/2.47.0.md#服务订单设计",title:"服务订单设计",content:["服务订单（Service Order） 表示用户与方案套餐的关系，每次用户针对套餐创建咨询预约时，同时创建一个状态为咨询中的服务订单。","服务订单状态设计","stateDiagram APPOINTED: 已预约咨询 SUBMITTED: 学生已下单，待确认 SERVING: 老师已确认，服务中 COMPLETED: 服务结束 ABORTED: 用户已撤销 REVOKED: 后台已撤销 [*] --\x3e APPOINTED: 学生针对方案发起咨询 APPOINTED --\x3e SUBMITTED: 学生确认下单 SUBMITTED --\x3e SERVING: 老师确认订单 SERVING --\x3e COMPLETED: 老师结束服务 APPOINTED --\x3e ABORTED: 学生删除订单 SUBMITTED --\x3e REVOKED: 后台撤销订单 SERVING --\x3e REVOKED: 后台撤销订单 REVOKED --\x3e SUBMITTED: 后台恢复订单","注：","学生下单需要满足前置条件：相关预约已经处于已联系或后续成功状态",'enum SERVICE_ORDER_STATUS { APPOINTED = 1, // 已预约咨询 SUBMITTED = 2, // 学生已下单，待确认 SERVING = 3, // 老师已确认，服务中 COMPLETED = 4, // 服务结束 ABORTED = 5, // 用户已撤销 REVOKED = 6 // 后台已撤销 } const SERVICE_ORDER_STATUS_TEXT = { [SERVICE_ORDER_STATUS.APPOINTED]: "咨询中", [SERVICE_ORDER_STATUS.SUBMITTED]: "已下单，待确认", [SERVICE_ORDER_STATUS.SERVING]: "服务中", [SERVICE_ORDER_STATUS.COMPLETED]: "服务结束", [SERVICE_ORDER_STATUS.ABORTED]: "订单已关闭", [SERVICE_ORDER_STATUS.REVOKED]: "订单已关闭" };',"服务订单表结构设计",'@Index(["userId"]) @Index(["planId"]) @Index(["status"]) @Index(["statusTime"]) interface ThirdPartyServiceOrder { id: integer.autoIncrement.primaryKey; userId: integer.notNull; planId: integer.notNull; planSnapshot: json.notNull; appointmentId: integer; // 下个版本可能会直接发起订单，这里允许空值 status: integer.notNull; // 状态，枚举值 statusTime: timestamptz.notNull.defaultValue<"now">; // 每次参数状态变化时更新此时间 createTime: timestamptz.notNull.defaultValue<"now">; appointTime: timestamptz; // 预约时间 submitTime: timestamptz; // 下单时间 confirmTime: timestamptz; // 确认时间 completeTime: timestamptz; // 结束时间 revokeTime: timestamptz; // 关闭时间 abortTime: timestamptz; // 关闭时间 abortReason: text; adminNote: text; // 管理备注 }',"服务订单接口设计","（学生端）我的服务订单列表（我的方案）","GET /thirdparty/service_order/list/mine","参数：无","响应：","interface Response { code: 0; data: [ { id: number; typeName: string; status: number; statusText: string; appointmentId?: number; canDelete: boolean; // 是否可以删除方案 canOrder: boolean; // 是否可以确认下单 canReview: boolean; // 是否可以评价咨询 isActive: boolean; // 是否有效（用于区分已失效） planSnapshot: { // 方案 id: number; name: string; coverUrl: string; }; lastActionTime: string; // 最后操作的时间，如「预约时间：2018-04-26 12:12」 } ]; }","注：","canDelete = 未下单 canOrder = 老师将预约状态改为了已联系 canReview = 预约的 status !== CANCELLED && reviewInvited && !reviewed","（学生端）服务订单详情","GET /thirdparty/service_order/item/mine","注意：","只能获取自己的订单 未登录提示登录 找不到或者不是自己的给出相应的错误类型 发起预约时需要加上方案 ID（planId） 预约按钮文案改为 预约咨询XXX套餐（需要明确表示咨询的是套餐，而不是方案） 时间轴提供的逻辑： 固定的 4 个步骤，每个步骤时间和是否完成根据实际情况去填充 状态为 ABORTED,REVOKED 时，仅展示已完成步骤，外加一个取消的步骤","参数：","id: number - 服务订单 ID","响应：","interface Response { code: 0; data: { id: number; typeName: string; status: number; statusText: string; appointmentId?: number; canDelete: boolean; // 是否可以删除方案 canOrder: boolean; // 是否可以确认下单 canReview: boolean; // 是否可以评价咨询 planSnapshot: { // 方案 id: number; name: string; coverUrl: string; }; timeline: [ // 时间轴 { action: string; done: boolean; time?: string; } ]; }; }","（教师端）服务订单详情","GET /thirdparty/service_order/item/tome","注意：","只能获取自己相关的订单 未登录提示登录 找不到或者不是自己的给出相应的错误类型 时间轴提供的逻辑： 固定的 4 个步骤，每个步骤时间和是否完成根据实际情况去填充 状态为 ABORTED,REVOKED 时，仅展示已完成步骤，外加一个取消的步骤","参数：","id: number - 服务订单 ID","响应：","interface Response { code: 0; data: { id: number; typeName: string; status: number; statusText: string; appointmentId?: number; canDelete: boolean; // 是否可以删除方案 canOrder: boolean; // 是否可以确认下单 canReview: boolean; // 是否可以评价咨询 planSnapshot: { // 方案 id: number; name: string; coverUrl: string; }; timeline: [ // 时间轴 { action: string; done: boolean; time?: string; } ]; }; }","（学生端）确认下单","POST /thirdparty/service_order/item/submit","参数：","id: number - 服务订单 ID","注：","将服务订单状态标记为已下单，同时设置 submitTime 给对应套餐的提供老师发送 APP 推送","（学生端）删除订单","POST /thirdparty/service_order/item/abort","参数：","id: number - 服务订单 ID abortReason: string - 删除原因","注：","需要设置 abortTime 删除订单时，如果相关预约的状态为未联系，则同时取消预约 需要给老师推送","（学生端）预约详情中增加方案信息","interface AppointmentItem { // ... plan: { id: number; name: string; coverTag: string; marketTags: string[]; coverUrl: string; hasVideo: boolean; }; // ... }","（学生端）发起预约时增加方案 ID 参数","参数：","planId: number - 方案 ID","注意：","当发起咨询时带有 planId 时 需要验证方案是否上线 创建咨询的同时，创建一个服务订单","（管理端）订单列表","GET /thirdparty/service_order/list/admin","注：","获取老师选项数据的接口增加 hasServiceOrder 参数，用于只获取有订单的老师","参数：","status: number - 按订单状态筛选 consultantId: number - 按服务老师筛选 createdAfter: Date - 按创建时间筛选 createdBefore: Date - 按创建时间筛选","响应：","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; data: [ { id: number; status: number; user: { id: number; name: string; avatar: string; }; consultant: { id: number; realName: string; avatar: string; }; planSnapshot: { id: number; name: string; coverUrl: string; }; createTime: Date; adminNote: string; appointmentId: number; appointmentReviewText: string; appointTime: Date; submitTime: Date; confirmTime: Date; completeTime: Date; revokeTime: Date; abortTime: Date; } ]; }; }","（管理端）撤销订单","POST /thirdparty/service_order/item/revoke","参数：","id: number - 服务订单 ID","注：","只能在 SUBMITTED / SERVING 状态中操作 需要设置 revokeTime 需要给学生/老师推送","（管理端）恢复订单","POST /thirdparty/service_order/item/revoke/revert","参数：","id: number - 服务订单 ID","注：","只能在 REVOKED 状态下操作 将状态设为 SUBMITTED 清除 revokeTime, confirmTime 重新设置 submitTime 需要给学生/老师推送","（管理端）编辑管理备注","PUT /thirdparty/service_order/item/admin_note","参数：","id: number - 服务订单 ID adminNote: string - 管理备注内容"]},{link:"/articles/drafts/2.47.0.md#我的学生（互动）设计",title:"我的学生（互动）设计",content:["我的学生基本设计","新增概念：互动（interaction），表示教师与学生 1:1 的关系。","一个互动包括：","相关学生一名 相关教师一名 初次互动时间（仅在创建时计算即可） 最新互动时间 互动 问答：分配给我的 + 我回答过的 追问：追问我的 预约：预约我的 订单：关于我的套餐的 待处理状态（布尔值，有任何未处理预约、分配未回答问题、未处理预约） 服务中状态（布尔值，有任何已下单未结束服务订单）","状态更新逻辑：","更新待处理状态、最新互动时间、互动项目的 ID 数组 产生新的追问时 分配新的问题时 发起新的预约时 老师回答问题/追问时 老师修改预约状态时 每 5 分钟刷新一次活跃的（最新互动时间在 15 分钟内的） 每 1 小时刷新一次非活跃的（最新时间在 15 分钟外的，包括尚未创建条目的） 更新服务订单状态 用户确认下单时，设为服务中 服务订单状态改变时，刷新服务中状态 每 5 分钟刷新一次活跃数据的待处理状态 每 1 小时刷新一次非活跃数据的待处理状态","我的学生表结构设计",'@UniqueIndex(["consultantId", "userId"]) @Index(["updateTime"]) @Index(["isPending"]) @Index(["isServing"]) interface ThirdPartyInteraction { id: integer.autoIncrement.primaryKey; userId: integer.notNull; consultantId: integer.notNull; createTime: timestamptz.notNull.default<"now">; // 最新互动时间 updateTime: timestamptz.notNull.default<"now">; // 是否待处理 isPending: boolean.notNull.default<false>; // 是否服务中 isServing: boolean.notNull.default<false>; // 问题ID数组 questionIds: integer[].notNull.default<[]>; // 追问ID数组 subQuestionIds: integer[].notNull.default<[]>; // 预约ID数组 appointmentIds: integer[].notNull.default<[]>; // 服务订单数组 serviceOrderIds: integer[].notNull.default<[]>; // 有未处理的问题 hasPendingQuestions: boolean.notNull.default<false>; // 有未处理的追问 hasPendingSubQuestions: boolean.notNull.default<false>; // 沟通备忘录 contactNote: string; }',"我的学生接口设计","（我的学生）待处理列表","GET /thirdparty/interaction/list/pending","参数：","page: number pageSize: number","响应：","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; meta: { totalPendingCount: number; }; data: [ { id: number; // 互动ID（不需要用） user: { id: number; name: string; avatar: string; }; hasPendingQuestions: boolean; // 有追问未处理 hasPendingSubQuestions: boolean; // 有问题未处理 appointments: [ // 这里仅展示待联系的预约，按照预约时间正向排序 { id: number; // 预约ID appointmentTime: Date; // 预约时间 appointmentTimeText: string; // 预约时间（文本表示） consultantRead: boolean; // 老师已读 isPlanRelated: boolean; // 和方案相关 } ]; hasPlanRelatedAppointments: boolean; // 是否有方案相关的预约 hasUnreadAppointments: boolean; // 是否有未读的预约 } ]; }; }","（我的学生）服务中列表","GET /thirdparty/interaction/list/serving","参数：","page: number pageSize: number","响应：","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; meta: { totalPendingCount: number; }; data: [ { id: number; // 互动ID（不需要用） user: { id: number; name: string; avatar: string; }; serviceOrders: [ // 这里按照订单更新时间倒序 { id: number; // 服务订单ID status: number; statusText: string; planSnapshot: { // 方案 id: number; name: string; coverUrl: string; }; } ]; } ]; }; }","（我的学生）全部列表","GET /thirdparty/interaction/list/all","参数：","page: number pageSize: number","响应：","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number; }; meta: { totalPendingCount: number; }; data: [ { id: number; // 互动ID（不需要用） user: { id: number; name: string; avatar: string; }; appointmentCount: number; questionCount: number; subQuestionCount: number; serviceOrderCount: number; } ]; }; }","（我的学生）互动详情（互动记录、服务等）","GET /thirdparty/interaction/user","参数：","userId: number - 用户 ID","响应：","interface Response { code: 0; data: { user: { id: number; name: string; avatar: string; }; appointments: [ // 排序条件（逆序）= statusTime || createTime { id: number; // 预约ID appointmentTime: Date; // 预约时间 appointmentTimeText: string; // 预约时间（文本表示） consultantRead: boolean; // 老师已读 isPlanRelated: boolean; // 和方案相关 status: number; // 预约状态 } ]; questions: [ // 排序条件（逆序）= max(...subQuestion.createTime, ...answer.createTime, question.createTime) { id: number; // 问题ID content: string; // 问题内容 createTime: Date; // 提问时间 createTimeText: string; // 提问时间（文本表示） // 下面五个用于展示标签 locationProvince: string; locationCity: string; schoolName: string; targetCountryName: string; targetDegreeName: string; subQuestionCount: number; } ]; serviceOrders: [ // 排序条件：更新时间 { id: number; typeName: string; status: number; statusText: string; isActive: boolean; // 是否有效（用于区分已失效） planSnapshot: { // 方案 id: number; name: string; coverUrl: string; }; lastActionTime: string; // 最后操作的时间，如「预约时间：2018-04-26 12:12」 } ]; userData: { // 用户画像，和预约里面一样 // ... }; contactNote: string; // 沟通备忘录 }; }","（我的学生）确认订单","POST /thirdparty/service_order/confirm","参数：","id: number - 服务订单 ID","注：","只能在待确认状态操作 需要设置 confirmTime 需要给老师推送","（我的学生）结束服务","POST /thirdparty/service_order/complete","参数：","id: number - 服务订单 ID","注：","只能在服务中状态操作 需要设置 completeTime 需要给老师推送","（我的学生）编辑沟通备忘录","PUT /thirdparty/interaction/user/contact_note","参数：","userId: number - 用户 ID contactNote: number - 沟通备忘录内容"]}]},{link:"/articles/drafts/2.48.0.md",title:"2.48.0 接口与逻辑设计",content:["2.48.0 接口与逻辑设计 留学规划 留学规划逻辑设计 推广链接类型 留学规划接口设计 获取选项数据 提交留学规划 获取留学规划结果 个人信息接口增加最后一次留学规划的 ID 留学规划表设计 考点/考试时间查询 考试时间查询逻辑调整 考点查询逻辑调整"],markdown:'# 2.48.0 接口与逻辑设计\n\n- [2.48.0 接口与逻辑设计](#2480-%e6%8e%a5%e5%8f%a3%e4%b8%8e%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n  - [留学规划](#%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92)\n    - [留学规划逻辑设计](#%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n      - [推广链接类型](#%e6%8e%a8%e5%b9%bf%e9%93%be%e6%8e%a5%e7%b1%bb%e5%9e%8b)\n    - [留学规划接口设计](#%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n      - [获取选项数据](#%e8%8e%b7%e5%8f%96%e9%80%89%e9%a1%b9%e6%95%b0%e6%8d%ae)\n      - [提交留学规划](#%e6%8f%90%e4%ba%a4%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92)\n      - [获取留学规划结果](#%e8%8e%b7%e5%8f%96%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92%e7%bb%93%e6%9e%9c)\n      - [个人信息接口增加最后一次留学规划的 ID](#%e4%b8%aa%e4%ba%ba%e4%bf%a1%e6%81%af%e6%8e%a5%e5%8f%a3%e5%a2%9e%e5%8a%a0%e6%9c%80%e5%90%8e%e4%b8%80%e6%ac%a1%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92%e7%9a%84-id)\n    - [留学规划表设计](#%e7%95%99%e5%ad%a6%e8%a7%84%e5%88%92%e8%a1%a8%e8%ae%be%e8%ae%a1)\n  - [考点/考试时间查询](#%e8%80%83%e7%82%b9%e8%80%83%e8%af%95%e6%97%b6%e9%97%b4%e6%9f%a5%e8%af%a2)\n    - [考试时间查询逻辑调整](#%e8%80%83%e8%af%95%e6%97%b6%e9%97%b4%e6%9f%a5%e8%af%a2%e9%80%bb%e8%be%91%e8%b0%83%e6%95%b4)\n    - [考点查询逻辑调整](#%e8%80%83%e7%82%b9%e6%9f%a5%e8%af%a2%e9%80%bb%e8%be%91%e8%b0%83%e6%95%b4)\n\n## 留学规划\n\n### 留学规划逻辑设计\n\n逻辑可以参考 src/helpers/abroad_plan.js 中的已有代码\n\n年份计算：\n\n- 每个学年从九月开始到八月结束\n- 当前学年开始时间为当前时间为止的最后一个九月\n- 根据学年的开始时间和指定的月份值，可以得出具体的月份\n\n同学年的月份对比：\n\n- 小于 9 的月份需要加上 12 再进行对比\n\n答案模板格式：\n\n```ts\ninterface AnswerTemplate {\n  targetCountryId: string;\n  targetDegreeId: string;\n  template: {\n    grades: {\n      title: string; // 初三\n      value: string; // GRA_JHS_3\n      keywords: string[];\n      stages: [\n        {\n          title: string; // 初三全年\n          month: [number, number]; // 月份范围\n          lines: string[]; // Markdown格式的描述信息，每个字符串表示一行\n        }\n      ];\n    }[];\n    promotions: string[];\n  };\n}\n```\n\n注：\n\n- Markdown 格式的内容中，加粗部分为`**text**`，高亮部分为`==text==`\n\n#### 推广链接类型\n\n- `CONSULTANT_LIST` - 预约名师\n- `MSK_IELTS` - 预约名师\n- `MSK_TOEFL` - 预约名师\n- `SCHOOL_LIST_US` - 美国院校库\n- `SCHOOL_LIST_UK` - 英国院校库\n- `SCHOOL_LIST_CA` - 加拿大院校库\n- `SCHOOL_LIST_AU` - 澳大利亚院校库\n- `RANKING_INDEX` - 院校排行榜\n- `ACTIVITY_INDEX` - 活动课\n\n### 留学规划接口设计\n\n#### 获取选项数据\n\n```http\nGET /abroad_plan/v2/options\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    targetCountryId: {\n      id: string;\n      name: string;\n    }[];\n    targetDegreeId: {\n      id: string;\n      name: string;\n    }[];\n    currentGradeId: {\n      id: string;\n      name: string;\n\n      // 选择targetDegreeId后，通过此数据来筛选currentGradeId的选项\n      targetDegreeId: string;\n    }[];\n  };\n}\n```\n\n#### 提交留学规划\n\n```http\nPOST /abroad_plan/v2/submit\n```\n\n注：该接口需要用户已经登录\n\n```ts\n@UserSession()\ninterface Params {\n  targetCountryId: string;\n  targetDegreeId: string;\n  currentGradeId: string;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n  };\n}\n```\n\n#### 获取留学规划结果\n\n```http\nGET /abroad_plan/v2/answer/:id\n```\n\n注：该接口不需要用户登录\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    grades: {\n      title: string;\n      keywords: string[];\n      now: boolean; // 是否现在所处年级\n      stages: {\n        title: string;\n        time: string;\n        now: boolean; // 是否现在所处阶段\n        content: string; // HTML格式的内容\n      }[];\n    }[];\n    promotions: string[]; // 推广链接类型\n  };\n}\n```\n\n注：\n\n- HTML 内容中，加粗部分为`<strong></strong>`，高亮部分为`<mark></mark>`\n- 推广链接类型见[推广链接类型](#%e6%8e%a8%e5%b9%bf%e9%93%be%e6%8e%a5%e7%b1%bb%e5%9e%8b)\n\n#### 个人信息接口增加最后一次留学规划的 ID\n\n```http\nGET /personal/info/v2\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    // ...\n    lastAbroadPlanId: number | null;\n  };\n}\n```\n\n### 留学规划表设计\n\n```ts\n@Index(["userId"])\ninterface AbroadPlanV2 {\n  id: integer.autoIncrement.primaryKey;\n  userId: integer.notNull;\n  targetCountryId: string.notNull;\n  targetDegreeId: string.notNull;\n  currentGradeId: string.notNull;\n  createTime: timestamptz.notNull.defaultValue<"now">;\n}\n```\n\n## 考点/考试时间查询\n\n### 考试时间查询逻辑调整\n\n- 根据用户的意向地，选择默认考试类型\n  - 意向地含美国或加拿大，默认托福\n  - 否则默认雅思\n\n### 考点查询逻辑调整\n\n- 根据用户的意向地，选择默认考试类型\n  - 意向地含美国或加拿大，默认托福\n  - 否则默认雅思\n- 根据用户当前位置，选择默认的省份和城市\n  - 如果无法得到当前位置的描述信息，则默认选择第一个省份和城市\n  - 选择匹配的省份，没有则第一个省份\n  - 在省份中选择匹配的城市，没有则选择省份的第一个城市\n',children:[{link:"/articles/drafts/2.48.0.md#留学规划",title:"留学规划",content:["留学规划逻辑设计","逻辑可以参考 src/helpers/abroad_plan.js 中的已有代码","年份计算：","每个学年从九月开始到八月结束 当前学年开始时间为当前时间为止的最后一个九月 根据学年的开始时间和指定的月份值，可以得出具体的月份","同学年的月份对比：","小于 9 的月份需要加上 12 再进行对比","答案模板格式：","interface AnswerTemplate { targetCountryId: string; targetDegreeId: string; template: { grades: { title: string; // 初三 value: string; // GRA_JHS_3 keywords: string[]; stages: [ { title: string; // 初三全年 month: [number, number]; // 月份范围 lines: string[]; // Markdown格式的描述信息，每个字符串表示一行 } ]; }[]; promotions: string[]; }; }","注：","Markdown 格式的内容中，加粗部分为**text**，高亮部分为==text==","推广链接类型","CONSULTANT_LIST - 预约名师 MSK_IELTS - 预约名师 MSK_TOEFL - 预约名师 SCHOOL_LIST_US - 美国院校库 SCHOOL_LIST_UK - 英国院校库 SCHOOL_LIST_CA - 加拿大院校库 SCHOOL_LIST_AU - 澳大利亚院校库 RANKING_INDEX - 院校排行榜 ACTIVITY_INDEX - 活动课","留学规划接口设计","获取选项数据","GET /abroad_plan/v2/options","interface Response { code: 0; data: { targetCountryId: { id: string; name: string; }[]; targetDegreeId: { id: string; name: string; }[]; currentGradeId: { id: string; name: string; // 选择targetDegreeId后，通过此数据来筛选currentGradeId的选项 targetDegreeId: string; }[]; }; }","提交留学规划","POST /abroad_plan/v2/submit","注：该接口需要用户已经登录","@UserSession() interface Params { targetCountryId: string; targetDegreeId: string; currentGradeId: string; }","interface Response { code: 0; data: { id: number; }; }","获取留学规划结果","GET /abroad_plan/v2/answer/:id","注：该接口不需要用户登录","interface Response { code: 0; data: { grades: { title: string; keywords: string[]; now: boolean; // 是否现在所处年级 stages: { title: string; time: string; now: boolean; // 是否现在所处阶段 content: string; // HTML格式的内容 }[]; }[]; promotions: string[]; // 推广链接类型 }; }","注：","HTML 内容中，加粗部分为<strong></strong>，高亮部分为<mark></mark> 推广链接类型见推广链接类型","个人信息接口增加最后一次留学规划的 ID","GET /personal/info/v2","interface Response { code: 0; data: { // ... lastAbroadPlanId: number | null; }; }","留学规划表设计",'@Index(["userId"]) interface AbroadPlanV2 { id: integer.autoIncrement.primaryKey; userId: integer.notNull; targetCountryId: string.notNull; targetDegreeId: string.notNull; currentGradeId: string.notNull; createTime: timestamptz.notNull.defaultValue<"now">; }']},{link:"/articles/drafts/2.48.0.md#考点考试时间查询",title:"考点/考试时间查询",content:["考试时间查询逻辑调整","根据用户的意向地，选择默认考试类型 意向地含美国或加拿大，默认托福 否则默认雅思","考点查询逻辑调整","根据用户的意向地，选择默认考试类型 意向地含美国或加拿大，默认托福 否则默认雅思 根据用户当前位置，选择默认的省份和城市 如果无法得到当前位置的描述信息，则默认选择第一个省份和城市 选择匹配的省份，没有则第一个省份 在省份中选择匹配的城市，没有则选择省份的第一个城市"]}]},{link:"/articles/drafts/2.49.0.md",title:"2.49.0 接口与逻辑设计",content:["2.49.0 接口与逻辑设计 1. 名师列表优化与名师首页入口 1.1. 名师列表排序规则 1.2. 数据库调整 1.3. 接口调整 1.3.1. 名师列表接口调整 1.3.2. APP 首页数据调整 1.3.3. 后台教师评分列表接口 1.3.4. 后台调整主观评分 2. 海外手机号码登录 2.1. 接口调整 2.1.1. 新增手机号国家代码列表接口 2.1.2. 登录接口增加国家代码参数 2.1.3. 名师预约联系电话增加国家代码参数 2.1.4. 可以获取手机号的接口进行修改 2.1.5. 默认昵称的规则修改 3. 老师资源获取情况统计 3.1. 资源获取表设计 3.2. 获取手机号接口 3.3. 资源获取数据查询接口 4. 管理台数据中心 1.0 4.1. 24 小时注册数据 4.2. 注册设备统计 4.3. 注册功能统计 4.4. 使用数据统计"],markdown:'# 2.49.0 接口与逻辑设计\n\n- [2.49.0 接口与逻辑设计](#2490-%e6%8e%a5%e5%8f%a3%e4%b8%8e%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n  - [1. 名师列表优化与名师首页入口](#1-%e5%90%8d%e5%b8%88%e5%88%97%e8%a1%a8%e4%bc%98%e5%8c%96%e4%b8%8e%e5%90%8d%e5%b8%88%e9%a6%96%e9%a1%b5%e5%85%a5%e5%8f%a3)\n    - [1.1. 名师列表排序规则](#11-%e5%90%8d%e5%b8%88%e5%88%97%e8%a1%a8%e6%8e%92%e5%ba%8f%e8%a7%84%e5%88%99)\n    - [1.2. 数据库调整](#12-%e6%95%b0%e6%8d%ae%e5%ba%93%e8%b0%83%e6%95%b4)\n    - [1.3. 接口调整](#13-%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n      - [1.3.1. 名师列表接口调整](#131-%e5%90%8d%e5%b8%88%e5%88%97%e8%a1%a8%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n      - [1.3.2. APP 首页数据调整](#132-app-%e9%a6%96%e9%a1%b5%e6%95%b0%e6%8d%ae%e8%b0%83%e6%95%b4)\n      - [1.3.3. 后台教师评分列表接口](#133-%e5%90%8e%e5%8f%b0%e6%95%99%e5%b8%88%e8%af%84%e5%88%86%e5%88%97%e8%a1%a8%e6%8e%a5%e5%8f%a3)\n      - [1.3.4. 后台调整主观评分](#134-%e5%90%8e%e5%8f%b0%e8%b0%83%e6%95%b4%e4%b8%bb%e8%a7%82%e8%af%84%e5%88%86)\n  - [2. 海外手机号码登录](#2-%e6%b5%b7%e5%a4%96%e6%89%8b%e6%9c%ba%e5%8f%b7%e7%a0%81%e7%99%bb%e5%bd%95)\n    - [2.1. 接口调整](#21-%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n      - [2.1.1. 新增手机号国家代码列表接口](#211-%e6%96%b0%e5%a2%9e%e6%89%8b%e6%9c%ba%e5%8f%b7%e5%9b%bd%e5%ae%b6%e4%bb%a3%e7%a0%81%e5%88%97%e8%a1%a8%e6%8e%a5%e5%8f%a3)\n      - [2.1.2. 登录接口增加国家代码参数](#212-%e7%99%bb%e5%bd%95%e6%8e%a5%e5%8f%a3%e5%a2%9e%e5%8a%a0%e5%9b%bd%e5%ae%b6%e4%bb%a3%e7%a0%81%e5%8f%82%e6%95%b0)\n      - [2.1.3. 名师预约联系电话增加国家代码参数](#213-%e5%90%8d%e5%b8%88%e9%a2%84%e7%ba%a6%e8%81%94%e7%b3%bb%e7%94%b5%e8%af%9d%e5%a2%9e%e5%8a%a0%e5%9b%bd%e5%ae%b6%e4%bb%a3%e7%a0%81%e5%8f%82%e6%95%b0)\n      - [2.1.4. 可以获取手机号的接口进行修改](#214-%e5%8f%af%e4%bb%a5%e8%8e%b7%e5%8f%96%e6%89%8b%e6%9c%ba%e5%8f%b7%e7%9a%84%e6%8e%a5%e5%8f%a3%e8%bf%9b%e8%a1%8c%e4%bf%ae%e6%94%b9)\n      - [2.1.5. 默认昵称的规则修改](#215-%e9%bb%98%e8%ae%a4%e6%98%b5%e7%a7%b0%e7%9a%84%e8%a7%84%e5%88%99%e4%bf%ae%e6%94%b9)\n  - [3. 老师资源获取情况统计](#3-%e8%80%81%e5%b8%88%e8%b5%84%e6%ba%90%e8%8e%b7%e5%8f%96%e6%83%85%e5%86%b5%e7%bb%9f%e8%ae%a1)\n    - [3.1. 资源获取表设计](#31-%e8%b5%84%e6%ba%90%e8%8e%b7%e5%8f%96%e8%a1%a8%e8%ae%be%e8%ae%a1)\n    - [3.2. 获取手机号接口](#32-%e8%8e%b7%e5%8f%96%e6%89%8b%e6%9c%ba%e5%8f%b7%e6%8e%a5%e5%8f%a3)\n    - [3.3. 资源获取数据查询接口](#33-%e8%b5%84%e6%ba%90%e8%8e%b7%e5%8f%96%e6%95%b0%e6%8d%ae%e6%9f%a5%e8%af%a2%e6%8e%a5%e5%8f%a3)\n  - [4. 管理台数据中心 1.0](#4-%e7%ae%a1%e7%90%86%e5%8f%b0%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%bf%83-10)\n    - [4.1. 24 小时注册数据](#41-24-%e5%b0%8f%e6%97%b6%e6%b3%a8%e5%86%8c%e6%95%b0%e6%8d%ae)\n    - [4.2. 注册设备统计](#42-%e6%b3%a8%e5%86%8c%e8%ae%be%e5%a4%87%e7%bb%9f%e8%ae%a1)\n    - [4.3. 注册功能统计](#43-%e6%b3%a8%e5%86%8c%e5%8a%9f%e8%83%bd%e7%bb%9f%e8%ae%a1)\n    - [4.4. 使用数据统计](#44-%e4%bd%bf%e7%94%a8%e6%95%b0%e6%8d%ae%e7%bb%9f%e8%ae%a1)\n\n## 1. 名师列表优化与名师首页入口\n\n### 1.1. 名师列表排序规则\n\n**主观指标 (Subjective)：**\n\n后台手动打分。\n\n| 指标         | 说明                        | 备注     |\n| ------------ | --------------------------- | -------- |\n| 上线新鲜度   | 范围 -50~50 分，默认 0 分   |          |\n| 行业地位     | 范围 -50~50 分，默认 0 分   |          |\n| 签约情况     | 范围 -50~50 分，默认 0 分   | 按周统计 |\n| 转化情况     | 范围 -50~50 分，默认 0 分   | 按月统计 |\n| 预约响应情况 | 范围 -50~50 分，默认 0 分   |          |\n| 内部调整     | 范围 -300~300 分，默认 0 分 |          |\n\n除去内部调整，最高可拉开 500 分\n\n**累计客观指标 (Objective)：**\n\n每天自动刷新。\n\n| 指标            | 说明                   | 备注                     |\n| --------------- | ---------------------- | ------------------------ |\n| 国外生活照数量  | 每个 1 分，最多 50 分  |                          |\n| offer 上传数量  | 每个 1 分，最多 100 分 |                          |\n| 案例故事数量    | 每个 5 分，最多 100 分 |                          |\n| 方案故事数量    | 每个 5 分，最多 100 分 |                          |\n| 回答 5 星好评数 | 每个 2 分，最多 100 分 | 其他星级的评价不计入数量 |\n| 预约 5 星好评数 | 每个 5 分，最多 300 分 | 其他星级的评价不计入数量 |\n\n最高可达 750 分\n\n**每周客观指标 (Objective Weekly)：**\n\n每天自动刷新，从周一开始累计。\n\n| 指标             | 说明                    | 备注         |\n| ---------------- | ----------------------- | ------------ |\n| 回答问题数量     | 每个 2 分，最多 100 分  |              |\n| 被追问问题数量   | 每个 2 分，最多 100 分  |              |\n| 发布动态数量     | 每个 2 分，最多 100 分  | 不计视频动态 |\n| 发布视频动态数量 | 每个 20 分，最多 200 分 |              |\n| 发布动态评论数量 | 每个 2 分，最多 100 分  |              |\n\n最高可达 600 分\n\n**用户匹配指标 (Match)：**\n\n获取列表时实时计算。\n\n| 指标     | 说明                    | 备注                                                             |\n| -------- | ----------------------- | ---------------------------------------------------------------- |\n| 国家项目 | 最多 100 分，80 分及格  | 按国家项目重合数量计算，<br/>1 个 80 分，2 个 90 分，3 个 100 分 |\n| 城市距离 | 最多 200 分，120 分及格 | 非线性，越近分越高，200km = 120 分                               |\n\n> 注 1：国家项目重合度示例\n>\n> 学生选择了美国+英国，研究生，则处理为 `美国硕士/美国博士/英国本科/英国研究生`，然后去和教师的属性去匹配。\n\n> 注 2：城市距离评分公式\n> $ 分数 = \\frac{分数上限}{(\\frac{距离}{245km})^2 + 1} $\n\n最高可达 300 分\n\n**个性化推荐条件：**\n\n个性化推荐标签的出现条件为：所有用户匹配指标及格\n\n即需要满足下面所有条件：\n\n- 国家项目至少有一个匹配\n- 城市距离不超过 200km\n\n### 1.2. 数据库调整\n\n导师信息表新增下列字段：\n\n```ts\ninterface ThirdPartyConsultant {\n  // ...\n  scoreArray: integer[].default<[]>;\n  scoreTotal: integer.default<0>;\n}\n```\n\n注：\n\n- scoreArray：存放上面主观和客观分数，如果某一项弃用，则保留且弃用该下标，将值设为 0，新增的项目必须使用新的下标。\n- scoreTotal：存放上面主观和客观分数的总分数\n\n### 1.3. 接口调整\n\n#### 1.3.1. 名师列表接口调整\n\n```http\nGET /thirdparty/consultant/list/v2\n```\n\n- 增加 `marketTags` 字段，提供老师的营销标签\n- 修改列表的排序规则，规则上面有讲\n- 无筛选项的情况下，仅增加个性化推荐的标签，不会影响排序\n- 旧版的 APP 中也能生效\n\n#### 1.3.2. APP 首页数据调整\n\n```http\nGET /view/app/tab/index\n```\n\n- 增加 v2.49.0 以上的新 style：`christmas`\n- 相对于上一个版本，去掉 `consultants` 字段，新增 `consultantTabs` 字段，结构如下：\n\n```ts\nconst consultantTabs: {\n  title: string; // 例如：大神\n  backgroundImageUrl: string; // 背景图\n  backgroundColor: string; // 背景色\n  consultants: ConsultantListItem[]; // 和名师列表模型一样\n}[];\n```\n\n#### 1.3.3. 后台教师评分列表接口\n\n```http\nGET /thirdparty/consultant/admin/scores/list\n```\n\n参数：\n\n- **keyword**: _string_ 根据导师英文名/真实姓名/手机号筛选（输入为纯数字则按照手机号精确匹配）\n- **organizationId**: _number_ 根据机构 ID 筛选\n- 分页\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      count: number;\n      page: number;\n      pageSize: number;\n    };\n    data: [\n      {\n        id: number;\n        realName: string;\n        nickName: string;\n        organization: { id: number; name: string };\n        scores: {\n          total: number;\n          fresh: number; // 上线新鲜度\n          position: number; // 行业地位\n          signing: number; // 签约情况\n          converting: number; // 转化情况\n          responseSpeed: number; // 预约响应情况\n          adjustment: number; // 内部调整\n          photos: number; // 国外生活照数量\n          offers: number; // offer上传数量\n          offerStories: number; // 案例故事数量\n          serviceStories: number; // 方案故事数量\n          topRatedAnswers: number; // 回答5星好评数\n          topRatedAppointments: number; // 预约5星好评数\n          answeredQuestions: number; // 回答问题数量\n          repliedQuestions: number; // 被追问问题数量\n          feeds: number; // 发布动态数量\n          videoFeeds: number; // 发布视频动态数量\n          feedComments: number; // 发布动态评论数量\n        };\n      }\n    ];\n  };\n}\n```\n\n#### 1.3.4. 后台调整主观评分\n\n```http\nPUT /thirdparty/consultant/admin/scores\n```\n\n参数：\n\n- **consultantId**: _number_ 导师 ID\n- **fresh**: _number_ 新鲜度\n- **position**: _number_ 行业地位\n- **signing**: _number_ 签约\n- **converting**: _number_ 转化\n- **responseSpeed**: _number_ 预约响应\n- **adjustment**: _number_ 内部调整\n\n## 2. 海外手机号码登录\n\n### 2.1. 接口调整\n\n#### 2.1.1. 新增手机号国家代码列表接口\n\n```http\nGET /phone/codes\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: [\n    {\n      group: string; // 分组名称，如：A\n      list: [\n        {\n          name: string; // 国家或地区名称，如：中国\n          code: string; // 国家代码，如：86\n        }\n      ];\n    }\n  ];\n}\n```\n\n#### 2.1.2. 登录接口增加国家代码参数\n\n- 用户表新增字段 countryCode，并将现有的手机号满足国内格式的用户的值设为 86\n- 所有包含手机号登录/注册功能的接口，增加 countryCode 参数，默认值为 86\n\n登录接口：\n\n```yaml\n- POST /thirdparty/consultant/login\n- POST /uhome/auth\n- POST /user/register\n- POST /user/register/baiduxz\n- POST /user/captcha\n- POST /user/captcha/verify\n- POST /user/login\n- POST /user/login/captcha\n- POST /admin\n```\n\n间接调用登录接口的：\n\n```yaml\n- POST /abroad_plan/manual/\n- POST /abroad_plan/manual/highschool\n- POST /admission_rate\n- POST /admission_rate/v2/form/submit\n- POST /match_school/submit\n- POST /question\n- POST /questions/v2/\n- POST /smart_school_test/answers\n```\n\nMIP 相关接口：\n\n```yaml\n- POST /mip/submit/question\n- POST /mip/submit/admission_rate\n- POST /mip/submit/match_school\n- POST /mip/submit/abroad_plan_manual\n- POST /mip/submit/abroad_plan_manual/highschool\n- POST /mip/send/captcha\n```\n\n作为查询条件：\n\n```yaml\n- GET /admission_rates\n- GET /notification/\n- GET /user/interaction_data/private\n```\n\n#### 2.1.3. 名师预约联系电话增加国家代码参数\n\n- 预约表新增 contactCountryCode 字段，并将现有的手机号满足国内格式的用户的值设为 86\n- 在需要传 contactPhone 的接口新增 contactCountryCode 参数，默认值为 86\n\n#### 2.1.4. 可以获取手机号的接口进行修改\n\n- 可以获取自己手机号的接口，增加 countryCode 字段\n- 之前可以获取其他人手机号的接口均去掉手机号字段\n- 教师端获取用户手机号改用单独接口进行\n- 管理端在可以展示手机号时，支持 countryCode 的展示\n\n#### 2.1.5. 默认昵称的规则修改\n\n- 由于手机号位数现在是可变的，默认昵称算法要进行对应改变\n- 不用前四位加四个星号是考虑到有的时候会要根据昵称来定位用户，用这种方式会产生大量相同的昵称\n\n```ts\nconst hide = text => {\n  const start = Math.floor(text.length / 3);\n  const end = start + Math.floor((text.length + 2) / 3);\n  return text.replace(\n    text.slice(0, end),\n    text.slice(0, start) + "*".repeat(end - start)\n  );\n};\n```\n\n```plain\n1*3\n1**4\n1**45\n12**56\n12***67\n12***678\n123***789\n123****890\n123****8901\n1234****9012\n```\n\n## 3. 老师资源获取情况统计\n\n### 3.1. 资源获取表设计\n\n```ts\ninterface ThirdPartyInteractionPhoneAcquirement {\n  id: integer.autoIncrement.primaryKey;\n  consultantId: integer.notNull;\n  userId: integer.notNull;\n  sourceType: text.notNull;\n  sourceId: integer.notNull;\n  phone: text.notNull;\n  countryCode: text.notNull;\n  createTime: date.notNull.default<"now">;\n}\n```\n\n> 记录某个老师在某个时候从某个地方获取了某个学生的手机号\n\n### 3.2. 获取手机号接口\n\n```http\nGET /thirdparty/interaction/user/phone\n```\n\n参数：\n\n- **userId**: _number_ 用户 ID\n- **sourceType**: _string_ 手机号获取来源（枚举值：`question|appointment`）\n- **sourceId**: _string_ 获取来源的 ID\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    phone: string;\n    countryCode: string;\n  };\n}\n```\n\n- phone, countryCode 均为纯数字格式\n- 如果无法取得的手机号，接口将直接抛出错误\n\n### 3.3. 资源获取数据查询接口\n\n```http\nGET /thirdparty/interaction/user/phone/stat\n```\n\n参数：\n\n- **startTime**: _Date_\n- **endTime**: _Date_\n- **keyword**: _string_ 根据导师英文名/真实姓名/手机号筛选（输入为纯数字则按照手机号精确匹配）\n- **organizationId**: _number_ 根据机构 ID 筛选\n- 不分页\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: [\n    {\n      id: number; // 导师ID\n      realName: string;\n      phone: string;\n      countryCode: string;\n      organization: {\n        id: number;\n        name: string;\n      };\n      acquirement: {\n        appointments: [\n          {\n            sourceType: string; // = appointment\n            sourceId: number; // 预约ID\n            user: { id: number; name: string; avatar: string };\n          }\n        ];\n        questions: [\n          {\n            sourceType: string; // = question\n            sourceId: number; // 问答ID\n            user: { id: number; name: string; avatar: string };\n          }\n        ];\n      };\n    }\n  ];\n}\n```\n\n## 4. 管理台数据中心 1.0\n\n### 4.1. 24 小时注册数据\n\n```http\nGET /stat/user/signup/overview\n```\n\n参数：\n\n无\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    today: {\n      expected: number; // 按照趋势今日应该是多少\n      total: number; // 总数，不一定等于下面四个相加\n      pc: number;\n      wap: number;\n      ios: number;\n      android: number;\n    };\n    yesterday: {\n      total: number;\n      pc: number;\n      wap: number;\n      ios: number;\n      android: number;\n    };\n    chart: [\n      {\n        time: string;\n        today: number; // 今日注册总数\n        yesterday: number; // 昨日注册总数\n      }\n    ];\n  };\n}\n```\n\n### 4.2. 注册设备统计\n\n```http\nGET /stat/user/signup/platforms\n```\n\n参数：\n\n- **startTime**: _Date_\n- **endTime**: _Date_\n\n> 注意处理时间（一日的开头或者一日的结尾）\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    data: [\n      {\n        date: string; // YYYY-MM-DD，降序\n        signup: {\n          total: number;\n          pc: number;\n          wap: number;\n          ios: number;\n          android: number;\n        };\n        uv: {\n          total: number;\n          pc: number;\n          wap: number;\n          ios: number;\n          android: number;\n        };\n      }\n    ];\n    errors: [\n      {\n        title: string; // 错误提示，比如："神策数据无法获取"\n        message: string; // 错误详细信息，比如：error.message\n      }\n    ];\n  };\n}\n```\n\n### 4.3. 注册功能统计\n\n```http\nGET /stat/user/signup/sources\n```\n\n参数：\n\n- **startTime**: _Date_\n- **endTime**: _Date_\n\n> 注意处理时间（一日的开头或者一日的结尾）\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    sources: string[]; // 注册功能名称\n    data: [\n      {\n        date: string; // YYYY-MM-DD，降序\n        total: number;\n        sources: {\n          [sourceName: string]: number;\n        };\n      }\n    ];\n  };\n}\n```\n\n### 4.4. 使用数据统计\n\n```http\nGET /stat/usage/overall\n```\n\n参数：\n\n- **startTime**: _Date_\n- **endTime**: _Date_\n\n> 注意处理时间（一日的开头或者一日的结尾）\n\n响应：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    web: {\n      total: {\n        pv: number;\n        uv: number;\n        uvFromBaidu: number;\n        uvFromBaiduRatio: number;\n        uvOld: number;\n        uvNew: number;\n        uvNewRatio: number;\n        averagePageCount: number; // 平均访问页数\n        averageDuration: number; // 平均访问秒数\n        bounceRate: number; // 跳出率\n      };\n      chart: [\n        {\n          date: string;\n          pv: number;\n          uv: number;\n        }\n      ];\n    };\n    ios: {\n      total: {\n        userNew: number; // 新增用户\n        userActive: number; // 活跃用户\n        startupTimes: number; // 启动次数\n        pageView: number; // 页面浏览次数\n        averagePageDepth: number; // 页面浏览深度\n        retentionRateAfterOneDay: number; // 次日留存\n        averageDuration: number; // 平均单词使用时长\n        averageDailyDuration: number; // 平均单日使用时长\n      };\n      chart: [\n        {\n          date: string;\n          userNew: number; // 新增用户\n          userActive: number; // 活跃用户\n          startupTimes: number; // 启动次数\n        }\n      ];\n    };\n    android: {\n      total: {\n        userNew: number; // 新增用户\n        userActive: number; // 活跃用户\n        startupTimes: number; // 启动次数\n        pageView: number; // 页面浏览次数\n        averagePageDepth: number; // 页面浏览深度\n        retentionRateAfterOneDay: number; // 次日留存\n        averageDuration: number; // 平均单词使用时长\n        averageDailyDuration: number; // 平均单日使用时长\n      };\n      chart: [\n        {\n          date: string;\n          userNew: number; // 新增用户\n          userActive: number; // 活跃用户\n          startupTimes: number; // 启动次数\n        }\n      ];\n    };\n    errors: [\n      {\n        title: string; // 错误提示，比如："神策数据无法获取"\n        message: string; // 错误详细信息，比如：error.message\n      }\n    ];\n  };\n}\n```\n',children:[{link:"/articles/drafts/2.49.0.md#1-名师列表优化与名师首页入口",title:"1. 名师列表优化与名师首页入口",content:["1.1. 名师列表排序规则","主观指标 (Subjective)：","后台手动打分。","指标 说明 备注 上线新鲜度 范围 -50~50 分，默认 0 分 行业地位 范围 -50~50 分，默认 0 分 签约情况 范围 -50~50 分，默认 0 分 按周统计 转化情况 范围 -50~50 分，默认 0 分 按月统计 预约响应情况 范围 -50~50 分，默认 0 分 内部调整 范围 -300~300 分，默认 0 分","除去内部调整，最高可拉开 500 分","累计客观指标 (Objective)：","每天自动刷新。","指标 说明 备注 国外生活照数量 每个 1 分，最多 50 分 offer 上传数量 每个 1 分，最多 100 分 案例故事数量 每个 5 分，最多 100 分 方案故事数量 每个 5 分，最多 100 分 回答 5 星好评数 每个 2 分，最多 100 分 其他星级的评价不计入数量 预约 5 星好评数 每个 5 分，最多 300 分 其他星级的评价不计入数量","最高可达 750 分","每周客观指标 (Objective Weekly)：","每天自动刷新，从周一开始累计。","指标 说明 备注 回答问题数量 每个 2 分，最多 100 分 被追问问题数量 每个 2 分，最多 100 分 发布动态数量 每个 2 分，最多 100 分 不计视频动态 发布视频动态数量 每个 20 分，最多 200 分 发布动态评论数量 每个 2 分，最多 100 分","最高可达 600 分","用户匹配指标 (Match)：","获取列表时实时计算。","指标 说明 备注 国家项目 最多 100 分，80 分及格 按国家项目重合数量计算，1 个 80 分，2 个 90 分，3 个 100 分 城市距离 最多 200 分，120 分及格 非线性，越近分越高，200km = 120 分","注 1：国家项目重合度示例 学生选择了美国+英国，研究生，则处理为 美国硕士/美国博士/英国本科/英国研究生，然后去和教师的属性去匹配。","注 2：城市距离评分公式 $ 分数 = \\frac{分数上限}{(\\frac{距离}{245km})^2 + 1} $","最高可达 300 分","个性化推荐条件：","个性化推荐标签的出现条件为：所有用户匹配指标及格","即需要满足下面所有条件：","国家项目至少有一个匹配 城市距离不超过 200km","1.2. 数据库调整","导师信息表新增下列字段：","interface ThirdPartyConsultant { // ... scoreArray: integer[].default<[]>; scoreTotal: integer.default<0>; }","注：","scoreArray：存放上面主观和客观分数，如果某一项弃用，则保留且弃用该下标，将值设为 0，新增的项目必须使用新的下标。 scoreTotal：存放上面主观和客观分数的总分数","1.3. 接口调整","1.3.1. 名师列表接口调整","GET /thirdparty/consultant/list/v2","增加 marketTags 字段，提供老师的营销标签 修改列表的排序规则，规则上面有讲 无筛选项的情况下，仅增加个性化推荐的标签，不会影响排序 旧版的 APP 中也能生效","1.3.2. APP 首页数据调整","GET /view/app/tab/index","增加 v2.49.0 以上的新 style：christmas 相对于上一个版本，去掉 consultants 字段，新增 consultantTabs 字段，结构如下：","const consultantTabs: { title: string; // 例如：大神 backgroundImageUrl: string; // 背景图 backgroundColor: string; // 背景色 consultants: ConsultantListItem[]; // 和名师列表模型一样 }[];","1.3.3. 后台教师评分列表接口","GET /thirdparty/consultant/admin/scores/list","参数：","keyword: string 根据导师英文名/真实姓名/手机号筛选（输入为纯数字则按照手机号精确匹配） organizationId: number 根据机构 ID 筛选 分页","响应：","interface Response { code: 0; data: { pagination: { count: number; page: number; pageSize: number; }; data: [ { id: number; realName: string; nickName: string; organization: { id: number; name: string }; scores: { total: number; fresh: number; // 上线新鲜度 position: number; // 行业地位 signing: number; // 签约情况 converting: number; // 转化情况 responseSpeed: number; // 预约响应情况 adjustment: number; // 内部调整 photos: number; // 国外生活照数量 offers: number; // offer上传数量 offerStories: number; // 案例故事数量 serviceStories: number; // 方案故事数量 topRatedAnswers: number; // 回答5星好评数 topRatedAppointments: number; // 预约5星好评数 answeredQuestions: number; // 回答问题数量 repliedQuestions: number; // 被追问问题数量 feeds: number; // 发布动态数量 videoFeeds: number; // 发布视频动态数量 feedComments: number; // 发布动态评论数量 }; } ]; }; }","1.3.4. 后台调整主观评分","PUT /thirdparty/consultant/admin/scores","参数：","consultantId: number 导师 ID fresh: number 新鲜度 position: number 行业地位 signing: number 签约 converting: number 转化 responseSpeed: number 预约响应 adjustment: number 内部调整"]},{link:"/articles/drafts/2.49.0.md#2-海外手机号码登录",title:"2. 海外手机号码登录",content:["2.1. 接口调整","2.1.1. 新增手机号国家代码列表接口","GET /phone/codes","interface Response { code: 0; data: [ { group: string; // 分组名称，如：A list: [ { name: string; // 国家或地区名称，如：中国 code: string; // 国家代码，如：86 } ]; } ]; }","2.1.2. 登录接口增加国家代码参数","用户表新增字段 countryCode，并将现有的手机号满足国内格式的用户的值设为 86 所有包含手机号登录/注册功能的接口，增加 countryCode 参数，默认值为 86","登录接口：","- POST /thirdparty/consultant/login - POST /uhome/auth - POST /user/register - POST /user/register/baiduxz - POST /user/captcha - POST /user/captcha/verify - POST /user/login - POST /user/login/captcha - POST /admin","间接调用登录接口的：","- POST /abroad_plan/manual/ - POST /abroad_plan/manual/highschool - POST /admission_rate - POST /admission_rate/v2/form/submit - POST /match_school/submit - POST /question - POST /questions/v2/ - POST /smart_school_test/answers","MIP 相关接口：","- POST /mip/submit/question - POST /mip/submit/admission_rate - POST /mip/submit/match_school - POST /mip/submit/abroad_plan_manual - POST /mip/submit/abroad_plan_manual/highschool - POST /mip/send/captcha","作为查询条件：","- GET /admission_rates - GET /notification/ - GET /user/interaction_data/private","2.1.3. 名师预约联系电话增加国家代码参数","预约表新增 contactCountryCode 字段，并将现有的手机号满足国内格式的用户的值设为 86 在需要传 contactPhone 的接口新增 contactCountryCode 参数，默认值为 86","2.1.4. 可以获取手机号的接口进行修改","可以获取自己手机号的接口，增加 countryCode 字段 之前可以获取其他人手机号的接口均去掉手机号字段 教师端获取用户手机号改用单独接口进行 管理端在可以展示手机号时，支持 countryCode 的展示","2.1.5. 默认昵称的规则修改","由于手机号位数现在是可变的，默认昵称算法要进行对应改变 不用前四位加四个星号是考虑到有的时候会要根据昵称来定位用户，用这种方式会产生大量相同的昵称",'const hide = text => { const start = Math.floor(text.length / 3); const end = start + Math.floor((text.length + 2) / 3); return text.replace( text.slice(0, end), text.slice(0, start) + "*".repeat(end - start) ); };',"1*3 1**4 1**45 12**56 12***67 12***678 123***789 123****890 123****8901 1234****9012"]},{link:"/articles/drafts/2.49.0.md#3-老师资源获取情况统计",title:"3. 老师资源获取情况统计",content:["3.1. 资源获取表设计",'interface ThirdPartyInteractionPhoneAcquirement { id: integer.autoIncrement.primaryKey; consultantId: integer.notNull; userId: integer.notNull; sourceType: text.notNull; sourceId: integer.notNull; phone: text.notNull; countryCode: text.notNull; createTime: date.notNull.default<"now">; }',"记录某个老师在某个时候从某个地方获取了某个学生的手机号","3.2. 获取手机号接口","GET /thirdparty/interaction/user/phone","参数：","userId: number 用户 ID sourceType: string 手机号获取来源（枚举值：question|appointment） sourceId: string 获取来源的 ID","响应：","interface Response { code: 0; data: { phone: string; countryCode: string; }; }","phone, countryCode 均为纯数字格式 如果无法取得的手机号，接口将直接抛出错误","3.3. 资源获取数据查询接口","GET /thirdparty/interaction/user/phone/stat","参数：","startTime: Date endTime: Date keyword: string 根据导师英文名/真实姓名/手机号筛选（输入为纯数字则按照手机号精确匹配） organizationId: number 根据机构 ID 筛选 不分页","响应：","interface Response { code: 0; data: [ { id: number; // 导师ID realName: string; phone: string; countryCode: string; organization: { id: number; name: string; }; acquirement: { appointments: [ { sourceType: string; // = appointment sourceId: number; // 预约ID user: { id: number; name: string; avatar: string }; } ]; questions: [ { sourceType: string; // = question sourceId: number; // 问答ID user: { id: number; name: string; avatar: string }; } ]; }; } ]; }"]},{link:"/articles/drafts/2.49.0.md#4-管理台数据中心-10",title:"4. 管理台数据中心 1.0",content:["4.1. 24 小时注册数据","GET /stat/user/signup/overview","参数：","无","响应：","interface Response { code: 0; data: { today: { expected: number; // 按照趋势今日应该是多少 total: number; // 总数，不一定等于下面四个相加 pc: number; wap: number; ios: number; android: number; }; yesterday: { total: number; pc: number; wap: number; ios: number; android: number; }; chart: [ { time: string; today: number; // 今日注册总数 yesterday: number; // 昨日注册总数 } ]; }; }","4.2. 注册设备统计","GET /stat/user/signup/platforms","参数：","startTime: Date endTime: Date","注意处理时间（一日的开头或者一日的结尾）","响应：",'interface Response { code: 0; data: { data: [ { date: string; // YYYY-MM-DD，降序 signup: { total: number; pc: number; wap: number; ios: number; android: number; }; uv: { total: number; pc: number; wap: number; ios: number; android: number; }; } ]; errors: [ { title: string; // 错误提示，比如："神策数据无法获取" message: string; // 错误详细信息，比如：error.message } ]; }; }',"4.3. 注册功能统计","GET /stat/user/signup/sources","参数：","startTime: Date endTime: Date","注意处理时间（一日的开头或者一日的结尾）","响应：","interface Response { code: 0; data: { sources: string[]; // 注册功能名称 data: [ { date: string; // YYYY-MM-DD，降序 total: number; sources: { [sourceName: string]: number; }; } ]; }; }","4.4. 使用数据统计","GET /stat/usage/overall","参数：","startTime: Date endTime: Date","注意处理时间（一日的开头或者一日的结尾）","响应：",'interface Response { code: 0; data: { web: { total: { pv: number; uv: number; uvFromBaidu: number; uvFromBaiduRatio: number; uvOld: number; uvNew: number; uvNewRatio: number; averagePageCount: number; // 平均访问页数 averageDuration: number; // 平均访问秒数 bounceRate: number; // 跳出率 }; chart: [ { date: string; pv: number; uv: number; } ]; }; ios: { total: { userNew: number; // 新增用户 userActive: number; // 活跃用户 startupTimes: number; // 启动次数 pageView: number; // 页面浏览次数 averagePageDepth: number; // 页面浏览深度 retentionRateAfterOneDay: number; // 次日留存 averageDuration: number; // 平均单词使用时长 averageDailyDuration: number; // 平均单日使用时长 }; chart: [ { date: string; userNew: number; // 新增用户 userActive: number; // 活跃用户 startupTimes: number; // 启动次数 } ]; }; android: { total: { userNew: number; // 新增用户 userActive: number; // 活跃用户 startupTimes: number; // 启动次数 pageView: number; // 页面浏览次数 averagePageDepth: number; // 页面浏览深度 retentionRateAfterOneDay: number; // 次日留存 averageDuration: number; // 平均单词使用时长 averageDailyDuration: number; // 平均单日使用时长 }; chart: [ { date: string; userNew: number; // 新增用户 userActive: number; // 活跃用户 startupTimes: number; // 启动次数 } ]; }; errors: [ { title: string; // 错误提示，比如："神策数据无法获取" message: string; // 错误详细信息，比如：error.message } ]; }; }']}]},{link:"/articles/drafts/2.50.0.md",title:"2.50.0 接口与逻辑设计",content:["2.50.0 接口与逻辑设计 1. 用户注销逻辑设计 1.1. 用户注销逻辑 1.2. 用户注销申请表设计 1.3. 用户表调整 1.4. 学生账号登录逻辑调整 1.5. 教师账号登录逻辑 2. 用户注销接口设计 2.1. 检查是否可以注销 2.2. 提交注销申请 2.3. 撤回注销申请 2.4. 查询注销申请状态 2.5. 后台获取注销申请列表 2.6. 获取注销申请选项数据 2.7. 后台进行用户注销 2.8. 后台忽略注销申请 2.9. 后台编辑备注 3. 登录相关接口调整 3.1. 登录结果反馈 3.2. 学生账号重新注册 3.3. 教师账号重新注册 4. 其他调整"],markdown:'# 2.50.0 接口与逻辑设计\n\n- [2.50.0 接口与逻辑设计](#2500-%e6%8e%a5%e5%8f%a3%e4%b8%8e%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n  - [1. 用户注销逻辑设计](#1-%e7%94%a8%e6%88%b7%e6%b3%a8%e9%94%80%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n    - [1.1. 用户注销逻辑](#11-%e7%94%a8%e6%88%b7%e6%b3%a8%e9%94%80%e9%80%bb%e8%be%91)\n    - [1.2. 用户注销申请表设计](#12-%e7%94%a8%e6%88%b7%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7%e8%a1%a8%e8%ae%be%e8%ae%a1)\n    - [1.3. 用户表调整](#13-%e7%94%a8%e6%88%b7%e8%a1%a8%e8%b0%83%e6%95%b4)\n    - [1.4. 学生账号登录逻辑调整](#14-%e5%ad%a6%e7%94%9f%e8%b4%a6%e5%8f%b7%e7%99%bb%e5%bd%95%e9%80%bb%e8%be%91%e8%b0%83%e6%95%b4)\n    - [1.5. 教师账号登录逻辑](#15-%e6%95%99%e5%b8%88%e8%b4%a6%e5%8f%b7%e7%99%bb%e5%bd%95%e9%80%bb%e8%be%91)\n  - [2. 用户注销接口设计](#2-%e7%94%a8%e6%88%b7%e6%b3%a8%e9%94%80%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n    - [2.1. 检查是否可以注销](#21-%e6%a3%80%e6%9f%a5%e6%98%af%e5%90%a6%e5%8f%af%e4%bb%a5%e6%b3%a8%e9%94%80)\n    - [2.2. 提交注销申请](#22-%e6%8f%90%e4%ba%a4%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7)\n    - [2.3. 撤回注销申请](#23-%e6%92%a4%e5%9b%9e%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7)\n    - [2.4. 查询注销申请状态](#24-%e6%9f%a5%e8%af%a2%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7%e7%8a%b6%e6%80%81)\n    - [2.5. 后台获取注销申请列表](#25-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7%e5%88%97%e8%a1%a8)\n    - [2.6. 获取注销申请选项数据](#26-%e8%8e%b7%e5%8f%96%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7%e9%80%89%e9%a1%b9%e6%95%b0%e6%8d%ae)\n    - [2.7. 后台进行用户注销](#27-%e5%90%8e%e5%8f%b0%e8%bf%9b%e8%a1%8c%e7%94%a8%e6%88%b7%e6%b3%a8%e9%94%80)\n    - [2.8. 后台忽略注销申请](#28-%e5%90%8e%e5%8f%b0%e5%bf%bd%e7%95%a5%e6%b3%a8%e9%94%80%e7%94%b3%e8%af%b7)\n    - [2.9. 后台编辑备注](#29-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e5%a4%87%e6%b3%a8)\n  - [3. 登录相关接口调整](#3-%e7%99%bb%e5%bd%95%e7%9b%b8%e5%85%b3%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n    - [3.1. 登录结果反馈](#31-%e7%99%bb%e5%bd%95%e7%bb%93%e6%9e%9c%e5%8f%8d%e9%a6%88)\n    - [3.2. 学生账号重新注册](#32-%e5%ad%a6%e7%94%9f%e8%b4%a6%e5%8f%b7%e9%87%8d%e6%96%b0%e6%b3%a8%e5%86%8c)\n    - [3.3. 教师账号重新注册](#33-%e6%95%99%e5%b8%88%e8%b4%a6%e5%8f%b7%e9%87%8d%e6%96%b0%e6%b3%a8%e5%86%8c)\n  - [4. 其他调整](#4-%e5%85%b6%e4%bb%96%e8%b0%83%e6%95%b4)\n\n## 1. 用户注销逻辑设计\n\n### 1.1. 用户注销逻辑\n\n- 学生账号/教师账号均可以发起注销申请\n\n- 学生账号发起注销申请需要满足条件：\n\n  - 没有待联系且尚未到期的预约\n  - 没有尚未被回答的问题\n  - 没有正在进行的方案订单\n\n- 教师账号发起注销申请需要满足条件：\n\n  - 没有未处理的预约\n  - 没有尚未处理的追问\n  - 没有的方案订单\n\n- 注销账号是指\n\n  - 无法登录该账号，但是可以注册为新的账号\n  - 将昵称、头像修改为被封禁的值\n  - 将敏感个人信息删除\n    - 学生账号的个人档案\n  - 其他人无法查看该账号\n    - 但是该账号产生的内容仍然可见\n  - 不能给该账号发送推送、短信、邮件等通知\n\n- 与封禁的区别是\n\n  - 注销的账号的手机号可以重新注册为新的账号\n  - 封禁的账号的手机号不能重新注册\n\n### 1.2. 用户注销申请表设计\n\n```ts\ninterface Cancellation {\n  id: integer.autoIncrement.primaryKey;\n\n  // 用户类型和ID\n  userType: integer.notNull;\n  userId: integer.notNull;\n\n  // 注销原因\n  reasonId: integer.notNull;\n  reasonText: text.notNull.defaultValue<"">;\n\n  // 当前状态和状态修改时间\n  status: integer.notNull;\n  statusTime: date.notNull.defaultValue<"now">;\n\n  // 管理员备注\n  adminNote: text.notNull.defaultValue<"">;\n\n  // 创建时间\n  createTime: date.notNull.defaultValue<"now">;\n}\n```\n\n### 1.3. 用户表调整\n\n学生账号、教师账号表新增 `reassignable: boolean = false` 字段，表示当 `enabled = true` 的情况下，是否能够重新注册账号\n\n### 1.4. 学生账号登录逻辑调整\n\n登录时检查用户属性，如果 `enabled == false && reassignable == true` 则错误代码不是用户被封禁，而是用户被注销，客户端捕获这个错误代码进行特殊处理。\n\n重新注册时，则将旧的账号的 userId 删去，phone 改掉，然后进行原本的登录逻辑。\n\n### 1.5. 教师账号登录逻辑\n\n登录时检查用户属性，如果 `enabled == false && reassignable == true` 则错误代码不是用户被封禁，而是用户被注销，客户端捕获这个错误代码进行特殊处理。\n\n重新注册时，则将旧的账号的 phone 改掉，然后进行原本的登录逻辑。\n\n## 2. 用户注销接口设计\n\n模块：`services/cancellation.js`\n\n### 2.1. 检查是否可以注销\n\n```http\nGET /cancellation/checklist\n```\n\n> 注：该接口需要登录才能调用。\n\n参数：无\n\n```ts\ninterface Response {\n  data: 0;\n  data: {\n    ok: boolean; // 是否可以发起注销\n    reasons: string[]; // 失败的原因\n  };\n}\n```\n\n### 2.2. 提交注销申请\n\n```http\nPOST /cancellation/submit\n```\n\n参数：\n\n- **reasonId**: _number_ - 注销原因\n- **reasonText**: _string_ - 具体原因\n\n注意点：\n\n- 该接口需要登录才能调用。\n- 如果有尚未处理的申请，无法提交新的申请。\n- 要使用队列中间件\n\n### 2.3. 撤回注销申请\n\n```http\nPOST /cancellation/revoke\n```\n\n参数：无\n\n注：该接口需要登录才能调用。\n\n### 2.4. 查询注销申请状态\n\n```http\nGET /cancellation/status\n```\n\n参数：无\n\n注：该接口需要登录才能调用。\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pending: boolean; // 是否有正在处理的注销申请\n  };\n}\n```\n\n### 2.5. 后台获取注销申请列表\n\n```http\nGET /cancellation/list\n```\n\n注：\n\n- 按创建时间倒序排列\n\n参数：\n\n- **page**: _number_\n- **pageSize**: _number_\n- **keyword**: _string_ - 可以按照 ID/姓名/手机号码搜索\n- **startTime**: _Date_\n- **endTime**: _Date_\n- **reasonId**: _number_\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: { page: number; pageSize: number; count: number };\n    data: [\n      {\n        id: number;\n        user: {\n          id: number;\n          type: number;\n          name: string;\n          avatar: string;\n          phone: string;\n          countryCode: string;\n        };\n        createTime: Date;\n        reasonId: number;\n        reasonText: string;\n        status: number;\n        statusTime: Date;\n        adminNote: string;\n      }\n    ];\n  };\n}\n```\n\n### 2.6. 获取注销申请选项数据\n\n```http\nGET /cancellation/options\n```\n\n参数：无\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    reasons: [\n      {\n        id: number;\n        name: string;\n        needText: boolean;\n      }\n    ];\n  };\n}\n```\n\n### 2.7. 后台进行用户注销\n\n```http\nPOST /cancellation/accept\n```\n\n参数：\n\n- **id**: _number_ - 注销申请的 ID\n\n注意点：\n\n- 修改用户的昵称和头像为被注销的值\n- 如果是学生账号，同时清空个人档案\n- 注销成功时，给对应手机号发送短信：\n  - 【智课网】您已成功注销选校帝学生/家长账号，很抱歉未能满足您的使用需求。未来如有需要，欢迎重新注册。\n  - 【智课网】您已成功注销选校帝教师账号，很抱歉未能满足您的使用需求。未来如有需要，欢迎重新注册。\n\n### 2.8. 后台忽略注销申请\n\n```http\nPOST /cancellation/reject\n```\n\n参数：\n\n- **id**: _number_ - 注销申请的 ID\n\n### 2.9. 后台编辑备注\n\n```http\nPUT /cancellation/note\n```\n\n参数：无\n\n## 3. 登录相关接口调整\n\n### 3.1. 登录结果反馈\n\n登录时，如果账号被注销，则返回错误，代码为: `SCHOOL_1411`\n\n此后，需要在 5 分钟内发起重新注册的请求。\n\n### 3.2. 学生账号重新注册\n\n```http\nPOST /user/reassign\n```\n\n参数：无\n\n注意点：\n\n- 该请求的响应与其他教师账号登录请求一致\n- 将旧的账号的 userId 清空（防止登录时指向旧的账号）\n- 将旧的账号的手机号改为 `{phone}_#{id}`（防止登录或者查找时指向旧的账号）\n\n### 3.3. 教师账号重新注册\n\n```http\nPOST /thirdparty/consultant/reassign\n```\n\n参数：\n\n- **phone**: _string_ - 要重新注册的账号的手机号\n- **countryCode**: _string_ - 要重新注册的账号的国家代码\n\n注意点：\n\n- 该请求的响应与其他教师账号登录请求一致\n- 将旧的账号的手机号改为 `{phone}_#{id}`（防止登录或者查找时指向旧的账号）\n\n## 4. 其他调整\n\n- 获取被注销的个人信息时，返回错误\n- 给学生账号/教师账号发送短信/推送/邮箱时，需要验证 `enabled = true`\n- 问答中获取用户手机号的条件调整为用户已经追问\n',children:[{link:"/articles/drafts/2.50.0.md#1-用户注销逻辑设计",title:"1. 用户注销逻辑设计",content:["1.1. 用户注销逻辑","学生账号/教师账号均可以发起注销申请 学生账号发起注销申请需要满足条件： 没有待联系且尚未到期的预约 没有尚未被回答的问题 没有正在进行的方案订单 教师账号发起注销申请需要满足条件： 没有未处理的预约 没有尚未处理的追问 没有的方案订单 注销账号是指 无法登录该账号，但是可以注册为新的账号 将昵称、头像修改为被封禁的值 将敏感个人信息删除 学生账号的个人档案 其他人无法查看该账号 但是该账号产生的内容仍然可见 不能给该账号发送推送、短信、邮件等通知 与封禁的区别是 注销的账号的手机号可以重新注册为新的账号 封禁的账号的手机号不能重新注册","1.2. 用户注销申请表设计",'interface Cancellation { id: integer.autoIncrement.primaryKey; // 用户类型和ID userType: integer.notNull; userId: integer.notNull; // 注销原因 reasonId: integer.notNull; reasonText: text.notNull.defaultValue<"">; // 当前状态和状态修改时间 status: integer.notNull; statusTime: date.notNull.defaultValue<"now">; // 管理员备注 adminNote: text.notNull.defaultValue<"">; // 创建时间 createTime: date.notNull.defaultValue<"now">; }',"1.3. 用户表调整","学生账号、教师账号表新增 reassignable: boolean = false 字段，表示当 enabled = true 的情况下，是否能够重新注册账号","1.4. 学生账号登录逻辑调整","登录时检查用户属性，如果 enabled == false && reassignable == true 则错误代码不是用户被封禁，而是用户被注销，客户端捕获这个错误代码进行特殊处理。","重新注册时，则将旧的账号的 userId 删去，phone 改掉，然后进行原本的登录逻辑。","1.5. 教师账号登录逻辑","登录时检查用户属性，如果 enabled == false && reassignable == true 则错误代码不是用户被封禁，而是用户被注销，客户端捕获这个错误代码进行特殊处理。","重新注册时，则将旧的账号的 phone 改掉，然后进行原本的登录逻辑。"]},{link:"/articles/drafts/2.50.0.md#2-用户注销接口设计",title:"2. 用户注销接口设计",content:["模块：services/cancellation.js","2.1. 检查是否可以注销","GET /cancellation/checklist","注：该接口需要登录才能调用。","参数：无","interface Response { data: 0; data: { ok: boolean; // 是否可以发起注销 reasons: string[]; // 失败的原因 }; }","2.2. 提交注销申请","POST /cancellation/submit","参数：","reasonId: number - 注销原因 reasonText: string - 具体原因","注意点：","该接口需要登录才能调用。 如果有尚未处理的申请，无法提交新的申请。 要使用队列中间件","2.3. 撤回注销申请","POST /cancellation/revoke","参数：无","注：该接口需要登录才能调用。","2.4. 查询注销申请状态","GET /cancellation/status","参数：无","注：该接口需要登录才能调用。","interface Response { code: 0; data: { pending: boolean; // 是否有正在处理的注销申请 }; }","2.5. 后台获取注销申请列表","GET /cancellation/list","注：","按创建时间倒序排列","参数：","page: number pageSize: number keyword: string - 可以按照 ID/姓名/手机号码搜索 startTime: Date endTime: Date reasonId: number","interface Response { code: 0; data: { pagination: { page: number; pageSize: number; count: number }; data: [ { id: number; user: { id: number; type: number; name: string; avatar: string; phone: string; countryCode: string; }; createTime: Date; reasonId: number; reasonText: string; status: number; statusTime: Date; adminNote: string; } ]; }; }","2.6. 获取注销申请选项数据","GET /cancellation/options","参数：无","interface Response { code: 0; data: { reasons: [ { id: number; name: string; needText: boolean; } ]; }; }","2.7. 后台进行用户注销","POST /cancellation/accept","参数：","id: number - 注销申请的 ID","注意点：","修改用户的昵称和头像为被注销的值 如果是学生账号，同时清空个人档案 注销成功时，给对应手机号发送短信： 【智课网】您已成功注销选校帝学生/家长账号，很抱歉未能满足您的使用需求。未来如有需要，欢迎重新注册。 【智课网】您已成功注销选校帝教师账号，很抱歉未能满足您的使用需求。未来如有需要，欢迎重新注册。","2.8. 后台忽略注销申请","POST /cancellation/reject","参数：","id: number - 注销申请的 ID","2.9. 后台编辑备注","PUT /cancellation/note","参数：无"]},{link:"/articles/drafts/2.50.0.md#3-登录相关接口调整",title:"3. 登录相关接口调整",content:["3.1. 登录结果反馈","登录时，如果账号被注销，则返回错误，代码为: SCHOOL_1411","此后，需要在 5 分钟内发起重新注册的请求。","3.2. 学生账号重新注册","POST /user/reassign","参数：无","注意点：","该请求的响应与其他教师账号登录请求一致 将旧的账号的 userId 清空（防止登录时指向旧的账号） 将旧的账号的手机号改为 {phone}_#{id}（防止登录或者查找时指向旧的账号）","3.3. 教师账号重新注册","POST /thirdparty/consultant/reassign","参数：","phone: string - 要重新注册的账号的手机号 countryCode: string - 要重新注册的账号的国家代码","注意点：","该请求的响应与其他教师账号登录请求一致 将旧的账号的手机号改为 {phone}_#{id}（防止登录或者查找时指向旧的账号）"]},{link:"/articles/drafts/2.50.0.md#4-其他调整",title:"4. 其他调整",content:["获取被注销的个人信息时，返回错误 给学生账号/教师账号发送短信/推送/邮箱时，需要验证 enabled = true 问答中获取用户手机号的条件调整为用户已经追问"]}]},{link:"/articles/drafts/2.51.0.md",title:"2.51.0 接口与逻辑设计",content:["2.51.0 接口与逻辑设计 1. 追问无需回复 1.1. 数据库设计 1.2. 接口设计 1.2.1. 内部逻辑变化 1.2.2. 问题数据 1.2.3. 忽略追问接口 2. 个人主页 2.1. 数据库调整 2.2. 接口调整 2.2.1. 教师个人信息接口调整 2.2.2. 新增获取视频与图片的接口 2.2.3. 视频接口新增教师属性 2.2.4. 新建/编辑视频接口增加教师关联属性 2.2.5. 新建图片的接口调整 2.2.6. 新增修改图片描述的接口 2.2.7. 视频首页数据的逻辑修改 2.2.8. 获取特定老师的方案列表 3. 昵称设置 3.1. 昵称库设计 3.2. 接口设计 3.2.1. 个人信息接口修改 3.2.2. 获取随机昵称 4. 动态插入院校 4.1. 数据传输设计 4.2. 接口设计 4.2.1. 发布动态接口修改 4.2.2. 动态接口数据改动 4.2.3. 搜索动态插入内容"],markdown:'# 2.51.0 接口与逻辑设计\n\n- [2.51.0 接口与逻辑设计](#2510-%e6%8e%a5%e5%8f%a3%e4%b8%8e%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n  - [1. 追问无需回复](#1-%e8%bf%bd%e9%97%ae%e6%97%a0%e9%9c%80%e5%9b%9e%e5%a4%8d)\n    - [1.1. 数据库设计](#11-%e6%95%b0%e6%8d%ae%e5%ba%93%e8%ae%be%e8%ae%a1)\n    - [1.2. 接口设计](#12-%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n      - [1.2.1. 内部逻辑变化](#121-%e5%86%85%e9%83%a8%e9%80%bb%e8%be%91%e5%8f%98%e5%8c%96)\n      - [1.2.2. 问题数据](#122-%e9%97%ae%e9%a2%98%e6%95%b0%e6%8d%ae)\n      - [1.2.3. 忽略追问接口](#123-%e5%bf%bd%e7%95%a5%e8%bf%bd%e9%97%ae%e6%8e%a5%e5%8f%a3)\n  - [2. 个人主页](#2-%e4%b8%aa%e4%ba%ba%e4%b8%bb%e9%a1%b5)\n    - [2.1. 数据库调整](#21-%e6%95%b0%e6%8d%ae%e5%ba%93%e8%b0%83%e6%95%b4)\n    - [2.2. 接口调整](#22-%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n      - [2.2.1. 教师个人信息接口调整](#221-%e6%95%99%e5%b8%88%e4%b8%aa%e4%ba%ba%e4%bf%a1%e6%81%af%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n      - [2.2.2. 新增获取视频与图片的接口](#222-%e6%96%b0%e5%a2%9e%e8%8e%b7%e5%8f%96%e8%a7%86%e9%a2%91%e4%b8%8e%e5%9b%be%e7%89%87%e7%9a%84%e6%8e%a5%e5%8f%a3)\n      - [2.2.3. 视频接口新增教师属性](#223-%e8%a7%86%e9%a2%91%e6%8e%a5%e5%8f%a3%e6%96%b0%e5%a2%9e%e6%95%99%e5%b8%88%e5%b1%9e%e6%80%a7)\n      - [2.2.4. 新建/编辑视频接口增加教师关联属性](#224-%e6%96%b0%e5%bb%ba%e7%bc%96%e8%be%91%e8%a7%86%e9%a2%91%e6%8e%a5%e5%8f%a3%e5%a2%9e%e5%8a%a0%e6%95%99%e5%b8%88%e5%85%b3%e8%81%94%e5%b1%9e%e6%80%a7)\n      - [2.2.5. 新建图片的接口调整](#225-%e6%96%b0%e5%bb%ba%e5%9b%be%e7%89%87%e7%9a%84%e6%8e%a5%e5%8f%a3%e8%b0%83%e6%95%b4)\n      - [2.2.6. 新增修改图片描述的接口](#226-%e6%96%b0%e5%a2%9e%e4%bf%ae%e6%94%b9%e5%9b%be%e7%89%87%e6%8f%8f%e8%bf%b0%e7%9a%84%e6%8e%a5%e5%8f%a3)\n      - [2.2.7. 视频首页数据的逻辑修改](#227-%e8%a7%86%e9%a2%91%e9%a6%96%e9%a1%b5%e6%95%b0%e6%8d%ae%e7%9a%84%e9%80%bb%e8%be%91%e4%bf%ae%e6%94%b9)\n      - [2.2.8. 获取特定老师的方案列表](#228-%e8%8e%b7%e5%8f%96%e7%89%b9%e5%ae%9a%e8%80%81%e5%b8%88%e7%9a%84%e6%96%b9%e6%a1%88%e5%88%97%e8%a1%a8)\n  - [3. 昵称设置](#3-%e6%98%b5%e7%a7%b0%e8%ae%be%e7%bd%ae)\n    - [3.1. 昵称库设计](#31-%e6%98%b5%e7%a7%b0%e5%ba%93%e8%ae%be%e8%ae%a1)\n    - [3.2. 接口设计](#32-%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n      - [3.2.1. 个人信息接口修改](#321-%e4%b8%aa%e4%ba%ba%e4%bf%a1%e6%81%af%e6%8e%a5%e5%8f%a3%e4%bf%ae%e6%94%b9)\n      - [3.2.2. 获取随机昵称](#322-%e8%8e%b7%e5%8f%96%e9%9a%8f%e6%9c%ba%e6%98%b5%e7%a7%b0)\n  - [4. 动态插入院校](#4-%e5%8a%a8%e6%80%81%e6%8f%92%e5%85%a5%e9%99%a2%e6%a0%a1)\n    - [4.1. 数据传输设计](#41-%e6%95%b0%e6%8d%ae%e4%bc%a0%e8%be%93%e8%ae%be%e8%ae%a1)\n    - [4.2. 接口设计](#42-%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n      - [4.2.1. 发布动态接口修改](#421-%e5%8f%91%e5%b8%83%e5%8a%a8%e6%80%81%e6%8e%a5%e5%8f%a3%e4%bf%ae%e6%94%b9)\n      - [4.2.2. 动态接口数据改动](#422-%e5%8a%a8%e6%80%81%e6%8e%a5%e5%8f%a3%e6%95%b0%e6%8d%ae%e6%94%b9%e5%8a%a8)\n      - [4.2.3. 搜索动态插入内容](#423-%e6%90%9c%e7%b4%a2%e5%8a%a8%e6%80%81%e6%8f%92%e5%85%a5%e5%86%85%e5%ae%b9)\n\n## 1. 追问无需回复\n\n说明：针对老师的追问，老师自己可以选择忽略，从而使得本来基于追问没有回答的判断条件可以跳过。\n\n需要注意，回答有没有被回复(commentType=answer)和本次需求无关。\n\n### 1.1. 数据库设计\n\nquestionComment 表新增字段 isIgnored，用于影响当前追问的 isReplied 判断。\n\n```ts\ninterface QuestionComment {\n  // ...\n  isIgnored: boolean.notNull.defaultValue<false>;\n}\n```\n\n### 1.2. 接口设计\n\n#### 1.2.1. 内部逻辑变化\n\n所有判断条件为**追问**未回复的地方，都需要考虑 isIgnored 条件。\n\n#### 1.2.2. 问题数据\n\n问题中，追问的数据将增加 isIgnored 字段。\n\n**当老师查看问题时，如果在自己回答的楼里，最后一条是追问时：如果 isIgnored=false，则展示忽略按钮；如果 isIgnored=true，则展示已忽略该追问。**\n\n#### 1.2.3. 忽略追问接口\n\n```http\nPOST /questions/v2/:questionId/answer/:answerId/sub_question/ignore\n```\n\n参数：\n\n- **questionId**: _number_ 当前问题 ID\n- **answerId**: _number_ 当前回答 ID（即当前教师的第一条回答 ID）\n- **subQuestionId**: _number_ 当前追问 ID（即当前教师的楼里最后一条追问的 ID）\n\n## 2. 个人主页\n\n说明：\n\n- 个人主页接口增加头部图片/视频展示\n  - 如果有视频，展示最新视频封面+视频图标\n  - 或者，如果有封面图片，展示封面图片\n  - 或者，如果有图片，展示最新图片\n  - 或者，展示默认图片\n- 首页视频展示逻辑修改\n  - 首页视频栏目不再根据最新的视频动态判断\n  - 首页视频将仅从排在最上面的栏目中选取\n  - 这个逻辑改动不怎么明显，可能需要在后台标注\n- 教师图片管理修改\n  - 图片可以设置文本描述\n  - 图片可以设置成封面（已有功能）\n\n### 2.1. 数据库调整\n\n视频表增加 consultantId 字段：\n\n```ts\ninterface VideoItem {\n  // ...\n  consultantId: integer;\n}\n```\n\n教师照片表增加 text 字段：\n\n```ts\ninterface ThirdPartyConsultantPhoto {\n  // ...\n  text: text.notNull.defaultValue<"">;\n}\n```\n\n### 2.2. 接口调整\n\n#### 2.2.1. 教师个人信息接口调整\n\n- 增加头部区域相关字段\n- 将原本的 extra 接口的部分数据整合进来\n- 新版本应当用不到 extra 接口了\n\n```http\nGET /thirdparty/consultant/profile/app?id=\nGET /thirdparty/consultant/profile/app/self\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    // ...\n    coverImage: string;\n    coverWidth: number;\n    coverHeight: number;\n    coverIsVideo: boolean;\n    hasStories: boolean;\n    hasPlans: boolean;\n\n    // 下面的和原来extra接口里逻辑一致\n    offersCount: number;\n    offers: {}[];\n    reviews: {}[];\n  };\n}\n```\n\n#### 2.2.2. 新增获取视频与图片的接口\n\n新增视频数据，图片数据增加 text 属性\n\n```http\nGET /thirdparty/consultant/profile/gallery?id=\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    photos: [\n      // 不包括隐藏的，顺序和extra接口里一致\n      {\n        id: number;\n        imageUrl: string;\n        isCover: boolean;\n        text: string;\n        width: number;\n        height: number;\n        createTime: Date;\n        createTimeText: string;\n      }\n    ];\n    videos: [\n      // 与视频列表一样的模型，多一个introduction属性\n      {\n        id: number;\n        name: string;\n        introduction: string;\n        coverUrl: string;\n        watchCount: number;\n        videoDuration: number;\n        videoDurationText: string;\n      }\n    ];\n  };\n}\n```\n\n#### 2.2.3. 视频接口新增教师属性\n\n```http\nGET /video/:id/index\nGET /video/:id\n```\n\n这两个接口新增教师属性：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    // ...\n    consultant: {\n      // 模型与教师列表项目一致\n    };\n  };\n}\n```\n\n#### 2.2.4. 新建/编辑视频接口增加教师关联属性\n\n```http\nPOST /video\nPUT /video/:id\n```\n\n新增参数：\n\n- **consultantId**: _number_ 教师 ID\n\n#### 2.2.5. 新建图片的接口调整\n\n- 增加文字描述属性\n- 创建成功时，返回创建好的对象\n\n```http\nPOST /thirdparty/consultant/photo\n```\n\n新增参数：\n\n- **text**: _string_ 文字描述\n\n返回数据：\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    imageUrl: string;\n    isCover: boolean;\n    text: string;\n    width: number;\n    height: number;\n    createTime: Date;\n    createTimeText: string;\n  };\n}\n```\n\n#### 2.2.6. 新增修改图片描述的接口\n\n```http\nPUT /thirdparty/consultant/photo\n```\n\n参数：\n\n- **id**: _number_ 照片 ID\n- **text**: _string_ 文字描述\n\n#### 2.2.7. 视频首页数据的逻辑修改\n\n- column 改为排在第一位的栏目\n- videos 改为该栏位下的最新视频列表。数量如果有限制，和之前一样。\n\n#### 2.2.8. 获取特定老师的方案列表\n\n```http\nGET /thirdparty/consultant/service/plans\n```\n\n参数：\n\n- **consultantId**: _number_\n- **page**: _number_\n- **pageSize**: _number_\n\n返回的数据结构与已有的方案列表一致。\n\n## 3. 昵称设置\n\n### 3.1. 昵称库设计\n\n待定，可以考虑多方案兼容。\n\n### 3.2. 接口设计\n\n#### 3.2.1. 个人信息接口修改\n\n学生用户的个人信息中（登录或者直接获取个人信息`GET /personal/info/v2`），新增字段 shouldChangeName (_boolean_) 表示需要修改昵称。\n\n#### 3.2.2. 获取随机昵称\n\n获取随机昵称，可以指定每次获取的昵称数量（一次获取多个可以帮助减少请求次数）\n\n```http\nGET /data/nickname/random\n```\n\n参数：\n\n- **size**: _number_ 随机获取昵称的数量，默认 1，最大 100\n\n```ts\ninterface Response {\n  code: 0;\n  data: [string];\n}\n```\n\n## 4. 动态插入院校\n\n### 4.1. 数据传输设计\n\n案例数据：`我之前读的是🏫帕拉丁学院，想去🏫哈佛大学，现在拿到🏫哈佛大学的Offer啦！`\n\n```json\n{\n  "text": "我之前读的是🏫帕拉丁学院，想去🏫哈佛大学，现在拿到🏫哈佛大学的Offer啦！",\n  "textSpans": [\n    { "text": "我之前读的是", "type": "plaintext" },\n    { "text": "🏫帕拉丁学院", "type": "highschool", "id": 3 },\n    { "text": "，想去", "type": "plaintext" },\n    { "text": "🏫哈佛大学", "type": "school", "id": 4 },\n    { "text": "，现在拿到", "type": "plaintext" },\n    { "text": "🏫哈佛大学", "type": "school", "id": 4 },\n    { "text": "的Offer啦！", "type": "plaintext" }\n  ]\n}\n```\n\n### 4.2. 接口设计\n\n#### 4.2.1. 发布动态接口修改\n\n- 发布动态接口增加 `textSpans` 参数，此参数为可选参数，可以不传，但是如果传了就一定要符合规范。\n- 如果其中包括海外大学/海外高中，记录一次插入行为。\n\n参数：\n\n```ts\ninterface Params {\n  // ...\n  textSpans?: (\n    | { text: string; type: "plaintext" }\n    | { text: string; type: "school" | "highschool"; id: number }\n  )[];\n}\n```\n\n#### 4.2.2. 动态接口数据改动\n\n- 服务端 Tips：所有需要高亮展示动态内容的地方，接口需要提供 `textSpans` 字段，没有该字段的旧数据只需要生成一段 `plaintext` 类型的数据即可（或者没有文本，就是空数组）。\n- 客户端 Tips：如果没有获取到 `textSpans`，或者不能正确读取该字段，仍然用 `content` 字段展示纯文本。\n\n```ts\ninterface FeedData {\n  // ...\n  textSpans?: (\n    | { text: string; type: "plaintext" }\n    | { text: string; type: "school" | "highschool"; id: number }\n  )[];\n}\n```\n\n#### 4.2.3. 搜索动态插入内容\n\n```http\nGET /search/feed/references\n```\n\n仅用于获取所有类型的第一页数据，第二页及以后要调用搜索单独类型的接口\n\n目前支持类型：海外大学（school），海外高中（highschool）\n\n参数：\n\n- **keyword**: _string_\n- **pageSize**: _number_\n\n响应接口可参考综合搜索接口。\n',children:[{link:"/articles/drafts/2.51.0.md#1-追问无需回复",title:"1. 追问无需回复",content:["说明：针对老师的追问，老师自己可以选择忽略，从而使得本来基于追问没有回答的判断条件可以跳过。","需要注意，回答有没有被回复(commentType=answer)和本次需求无关。","1.1. 数据库设计","questionComment 表新增字段 isIgnored，用于影响当前追问的 isReplied 判断。","interface QuestionComment { // ... isIgnored: boolean.notNull.defaultValue<false>; }","1.2. 接口设计","1.2.1. 内部逻辑变化","所有判断条件为追问未回复的地方，都需要考虑 isIgnored 条件。","1.2.2. 问题数据","问题中，追问的数据将增加 isIgnored 字段。","当老师查看问题时，如果在自己回答的楼里，最后一条是追问时：如果 isIgnored=false，则展示忽略按钮；如果 isIgnored=true，则展示已忽略该追问。","1.2.3. 忽略追问接口","POST /questions/v2/:questionId/answer/:answerId/sub_question/ignore","参数：","questionId: number 当前问题 ID answerId: number 当前回答 ID（即当前教师的第一条回答 ID） subQuestionId: number 当前追问 ID（即当前教师的楼里最后一条追问的 ID）"]},{link:"/articles/drafts/2.51.0.md#2-个人主页",title:"2. 个人主页",content:["说明：","个人主页接口增加头部图片/视频展示 如果有视频，展示最新视频封面+视频图标 或者，如果有封面图片，展示封面图片 或者，如果有图片，展示最新图片 或者，展示默认图片 首页视频展示逻辑修改 首页视频栏目不再根据最新的视频动态判断 首页视频将仅从排在最上面的栏目中选取 这个逻辑改动不怎么明显，可能需要在后台标注 教师图片管理修改 图片可以设置文本描述 图片可以设置成封面（已有功能）","2.1. 数据库调整","视频表增加 consultantId 字段：","interface VideoItem { // ... consultantId: integer; }","教师照片表增加 text 字段：",'interface ThirdPartyConsultantPhoto { // ... text: text.notNull.defaultValue<"">; }',"2.2. 接口调整","2.2.1. 教师个人信息接口调整","增加头部区域相关字段 将原本的 extra 接口的部分数据整合进来 新版本应当用不到 extra 接口了","GET /thirdparty/consultant/profile/app?id= GET /thirdparty/consultant/profile/app/self","interface Response { code: 0; data: { // ... coverImage: string; coverWidth: number; coverHeight: number; coverIsVideo: boolean; hasStories: boolean; hasPlans: boolean; // 下面的和原来extra接口里逻辑一致 offersCount: number; offers: {}[]; reviews: {}[]; }; }","2.2.2. 新增获取视频与图片的接口","新增视频数据，图片数据增加 text 属性","GET /thirdparty/consultant/profile/gallery?id=","interface Response { code: 0; data: { photos: [ // 不包括隐藏的，顺序和extra接口里一致 { id: number; imageUrl: string; isCover: boolean; text: string; width: number; height: number; createTime: Date; createTimeText: string; } ]; videos: [ // 与视频列表一样的模型，多一个introduction属性 { id: number; name: string; introduction: string; coverUrl: string; watchCount: number; videoDuration: number; videoDurationText: string; } ]; }; }","2.2.3. 视频接口新增教师属性","GET /video/:id/index GET /video/:id","这两个接口新增教师属性：","interface Response { code: 0; data: { // ... consultant: { // 模型与教师列表项目一致 }; }; }","2.2.4. 新建/编辑视频接口增加教师关联属性","POST /video PUT /video/:id","新增参数：","consultantId: number 教师 ID","2.2.5. 新建图片的接口调整","增加文字描述属性 创建成功时，返回创建好的对象","POST /thirdparty/consultant/photo","新增参数：","text: string 文字描述","返回数据：","interface Response { code: 0; data: { id: number; imageUrl: string; isCover: boolean; text: string; width: number; height: number; createTime: Date; createTimeText: string; }; }","2.2.6. 新增修改图片描述的接口","PUT /thirdparty/consultant/photo","参数：","id: number 照片 ID text: string 文字描述","2.2.7. 视频首页数据的逻辑修改","column 改为排在第一位的栏目 videos 改为该栏位下的最新视频列表。数量如果有限制，和之前一样。","2.2.8. 获取特定老师的方案列表","GET /thirdparty/consultant/service/plans","参数：","consultantId: number page: number pageSize: number","返回的数据结构与已有的方案列表一致。"]},{link:"/articles/drafts/2.51.0.md#3-昵称设置",title:"3. 昵称设置",content:["3.1. 昵称库设计","待定，可以考虑多方案兼容。","3.2. 接口设计","3.2.1. 个人信息接口修改","学生用户的个人信息中（登录或者直接获取个人信息GET /personal/info/v2），新增字段 shouldChangeName (boolean) 表示需要修改昵称。","3.2.2. 获取随机昵称","获取随机昵称，可以指定每次获取的昵称数量（一次获取多个可以帮助减少请求次数）","GET /data/nickname/random","参数：","size: number 随机获取昵称的数量，默认 1，最大 100","interface Response { code: 0; data: [string]; }"]},{link:"/articles/drafts/2.51.0.md#4-动态插入院校",title:"4. 动态插入院校",content:["4.1. 数据传输设计","案例数据：我之前读的是🏫帕拉丁学院，想去🏫哈佛大学，现在拿到🏫哈佛大学的Offer啦！",'{ "text": "我之前读的是🏫帕拉丁学院，想去🏫哈佛大学，现在拿到🏫哈佛大学的Offer啦！", "textSpans": [ { "text": "我之前读的是", "type": "plaintext" }, { "text": "🏫帕拉丁学院", "type": "highschool", "id": 3 }, { "text": "，想去", "type": "plaintext" }, { "text": "🏫哈佛大学", "type": "school", "id": 4 }, { "text": "，现在拿到", "type": "plaintext" }, { "text": "🏫哈佛大学", "type": "school", "id": 4 }, { "text": "的Offer啦！", "type": "plaintext" } ] }',"4.2. 接口设计","4.2.1. 发布动态接口修改","发布动态接口增加 textSpans 参数，此参数为可选参数，可以不传，但是如果传了就一定要符合规范。 如果其中包括海外大学/海外高中，记录一次插入行为。","参数：",'interface Params { // ... textSpans?: ( | { text: string; type: "plaintext" } | { text: string; type: "school" | "highschool"; id: number } )[]; }',"4.2.2. 动态接口数据改动","服务端 Tips：所有需要高亮展示动态内容的地方，接口需要提供 textSpans 字段，没有该字段的旧数据只需要生成一段 plaintext 类型的数据即可（或者没有文本，就是空数组）。 客户端 Tips：如果没有获取到 textSpans，或者不能正确读取该字段，仍然用 content 字段展示纯文本。",'interface FeedData { // ... textSpans?: ( | { text: string; type: "plaintext" } | { text: string; type: "school" | "highschool"; id: number } )[]; }',"4.2.3. 搜索动态插入内容","GET /search/feed/references","仅用于获取所有类型的第一页数据，第二页及以后要调用搜索单独类型的接口","目前支持类型：海外大学（school），海外高中（highschool）","参数：","keyword: string pageSize: number","响应接口可参考综合搜索接口。"]}]},{link:"/articles/drafts/2.52.0.md",title:"2.52.0 接口与逻辑设计",content:["2.52.0 接口与逻辑设计 1. 国际学校数据结构变更 1.1. 旧的结构 1.2. 新的结构 1.3. 状态说明 2. 后台接口设计 2.1. 权限设计 2.2. 学校基本信息管理接口 2.2.1. 编辑审核数据模型 2.2.2. 后台获取国际学校列表 2.2.3. 后台修改国际学校绑定人员 2.2.4. 后台设置国际学校上下线 2.2.5. 后台获取国际学校基本数据 2.2.6. 后台获取国际学校基本信息相关选项数据 2.2.7. 后台创建国际学校 2.2.8. 后台编辑国际学校 2.2.9. 后台提审国际学校基本信息 2.2.10. 后台审核国际学校基本数据 2.2.11. 后台调整国际学校顺序 2.3. 国际学校点评管理 2.3.1. 后台获取国际学校点评列表 2.3.2. 后台添加国际学校点评 2.3.3. 后台修改国际学校点评 2.3.4. 后台提审国际学校点评 2.3.5. 后台审核国际学校点评 2.3.6. 后台上下线国际学校点评 2.3.7. 后台删除国际学校点评 2.3.8. 后台置顶国际学校点评 2.4. 国际学校优秀毕业生管理 2.4.1. 后台获取优秀毕业生列表 2.4.2. 后台获取优秀毕业生详情 2.4.3. 后台添加优秀毕业生 2.4.4. 后台编辑优秀毕业生 2.4.5. 后台提审优秀毕业生 2.4.6. 后台审核优秀毕业生 2.4.7. 后台上下线优秀毕业生 2.4.8. 后台删除优秀毕业生 2.5. 国际学校社团管理 2.5.1. 后台获取社团列表 2.5.2. 后台获取社团详情 2.5.3. 后台添加社团 2.5.4. 后台编辑社团 2.5.5. 后台提审社团 2.5.6. 后台审核社团 2.5.7. 后台上下线社团 2.5.8. 后台删除社团 2.6. 国际学校招生项目管理 2.6.1. 后台获取招生项目列表 2.6.2. 后台调整招生项目顺序 2.6.3. 后台获取招生项目详情 2.6.4. 后台获取招生项目选项 2.6.5. 后台添加招生项目 2.6.6. 后台编辑招生项目 2.6.7. 后台提审招生项目 2.6.8. 后台审核招生项目 2.6.9. 后台上下线招生项目 2.6.10. 后台删除招生项目 2.7. 国际学校师资力量管理 2.7.1. 后台获取教师列表 2.7.2. 后台添加教师 2.7.3. 后台编辑教师 2.7.4. 后台提审教师 2.7.5. 后台审核教师 2.7.6. 后台上下线教师 2.7.7. 后台删除教师 2.8. 国际学校文章管理 2.8.1. 后台获取文章列表 2.8.2. 后台获取文章详情 2.8.3. 后台添加文章 2.8.4. 后台编辑文章 2.8.5. 后台提审文章 2.8.6. 后台审核文章 2.8.7. 后台上下线文章 2.8.8. 后台删除文章 2.9. 国际学校常见问答管理 2.9.1. 后台获取常见问答列表 2.9.2. 后台添加常见问答 2.9.3. 后台编辑常见问答 2.9.4. 后台提审常见问答 2.9.5. 后台审核常见问答 2.9.6. 后台上下线常见问答 2.9.7. 后台删除常见问答 2.10. 国际学校开放日管理 2.10.1. 后台获取开放日列表 2.10.2. 后台添加开放日 2.10.3. 后台编辑开放日 2.10.4. 后台提审开放日 2.10.5. 后台审核开放日 2.10.6. 后台上下线开放日 2.10.7. 后台删除开放日 2.10.8. 后台获取开放日选项 2.11. 国际学校照片管理 2.11.1. 后台获取照片列表 2.11.2. 后台添加照片 2.11.3. 后台编辑照片 2.11.4. 后台提审照片 2.11.5. 后台审核照片 2.11.6. 后台上下线照片 2.11.7. 后台删除照片 3. 前台接口设计 3.1. 国际学校列表接口 3.2. 国际学校详情接口 3.3. 国际学校招生项目列表 3.4. 国际学校招生项目详情 3.5. 国际学校相关动态列表 3.6. 国际学校常见问题 3.7. 国际学校师资力量 3.8. 国际学校点评列表 3.9. 国际学校优秀毕业生列表 3.10. 国际学校优秀毕业生详情 3.11. 国际学校社团列表 3.12. 国际学校社团详情 3.13. 国际学校照片视频接口 3.12. 国际学校文章详情 4. 其他改动 4.1. 大学点评改动 4.2. 预约接口新增统计相关参数 4.3. 后台视频编辑接口改动"],markdown:'# 2.52.0 接口与逻辑设计\n\n- [2.52.0 接口与逻辑设计](#2520-%e6%8e%a5%e5%8f%a3%e4%b8%8e%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n  - [1. 国际学校数据结构变更](#1-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%e5%8f%98%e6%9b%b4)\n    - [1.1. 旧的结构](#11-%e6%97%a7%e7%9a%84%e7%bb%93%e6%9e%84)\n    - [1.2. 新的结构](#12-%e6%96%b0%e7%9a%84%e7%bb%93%e6%9e%84)\n    - [1.3. 状态说明](#13-%e7%8a%b6%e6%80%81%e8%af%b4%e6%98%8e)\n  - [2. 后台接口设计](#2-%e5%90%8e%e5%8f%b0%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n    - [2.1. 权限设计](#21-%e6%9d%83%e9%99%90%e8%ae%be%e8%ae%a1)\n    - [2.2. 学校基本信息管理接口](#22-%e5%ad%a6%e6%a0%a1%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af%e7%ae%a1%e7%90%86%e6%8e%a5%e5%8f%a3)\n      - [2.2.1. 编辑审核数据模型](#221-%e7%bc%96%e8%be%91%e5%ae%a1%e6%a0%b8%e6%95%b0%e6%8d%ae%e6%a8%a1%e5%9e%8b)\n      - [2.2.2. 后台获取国际学校列表](#222-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%88%97%e8%a1%a8)\n      - [2.2.3. 后台修改国际学校绑定人员](#223-%e5%90%8e%e5%8f%b0%e4%bf%ae%e6%94%b9%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%bb%91%e5%ae%9a%e4%ba%ba%e5%91%98)\n      - [2.2.4. 后台设置国际学校上下线](#224-%e5%90%8e%e5%8f%b0%e8%ae%be%e7%bd%ae%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e4%b8%8a%e4%b8%8b%e7%ba%bf)\n      - [2.2.5. 后台获取国际学校基本数据](#225-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae)\n      - [2.2.6. 后台获取国际学校基本信息相关选项数据](#226-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af%e7%9b%b8%e5%85%b3%e9%80%89%e9%a1%b9%e6%95%b0%e6%8d%ae)\n      - [2.2.7. 后台创建国际学校](#227-%e5%90%8e%e5%8f%b0%e5%88%9b%e5%bb%ba%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1)\n      - [2.2.8. 后台编辑国际学校](#228-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1)\n      - [2.2.9. 后台提审国际学校基本信息](#229-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%9f%ba%e6%9c%ac%e4%bf%a1%e6%81%af)\n      - [2.2.10. 后台审核国际学校基本数据](#2210-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae)\n      - [2.2.11. 后台调整国际学校顺序](#2211-%e5%90%8e%e5%8f%b0%e8%b0%83%e6%95%b4%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e9%a1%ba%e5%ba%8f)\n    - [2.3. 国际学校点评管理](#23-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84%e7%ae%a1%e7%90%86)\n      - [2.3.1. 后台获取国际学校点评列表](#231-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84%e5%88%97%e8%a1%a8)\n      - [2.3.2. 后台添加国际学校点评](#232-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n      - [2.3.3. 后台修改国际学校点评](#233-%e5%90%8e%e5%8f%b0%e4%bf%ae%e6%94%b9%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n      - [2.3.4. 后台提审国际学校点评](#234-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n      - [2.3.5. 后台审核国际学校点评](#235-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n      - [2.3.6. 后台上下线国际学校点评](#236-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n      - [2.3.7. 后台删除国际学校点评](#237-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n      - [2.3.8. 后台置顶国际学校点评](#238-%e5%90%8e%e5%8f%b0%e7%bd%ae%e9%a1%b6%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84)\n    - [2.4. 国际学校优秀毕业生管理](#24-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f%e7%ae%a1%e7%90%86)\n      - [2.4.1. 后台获取优秀毕业生列表](#241-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f%e5%88%97%e8%a1%a8)\n      - [2.4.2. 后台获取优秀毕业生详情](#242-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f%e8%af%a6%e6%83%85)\n      - [2.4.3. 后台添加优秀毕业生](#243-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f)\n      - [2.4.4. 后台编辑优秀毕业生](#244-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f)\n      - [2.4.5. 后台提审优秀毕业生](#245-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f)\n      - [2.4.6. 后台审核优秀毕业生](#246-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f)\n      - [2.4.7. 后台上下线优秀毕业生](#247-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f)\n      - [2.4.8. 后台删除优秀毕业生](#248-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f)\n    - [2.5. 国际学校社团管理](#25-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%a4%be%e5%9b%a2%e7%ae%a1%e7%90%86)\n      - [2.5.1. 后台获取社团列表](#251-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e7%a4%be%e5%9b%a2%e5%88%97%e8%a1%a8)\n      - [2.5.2. 后台获取社团详情](#252-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e7%a4%be%e5%9b%a2%e8%af%a6%e6%83%85)\n      - [2.5.3. 后台添加社团](#253-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e7%a4%be%e5%9b%a2)\n      - [2.5.4. 后台编辑社团](#254-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e7%a4%be%e5%9b%a2)\n      - [2.5.5. 后台提审社团](#255-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e7%a4%be%e5%9b%a2)\n      - [2.5.6. 后台审核社团](#256-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e7%a4%be%e5%9b%a2)\n      - [2.5.7. 后台上下线社团](#257-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e7%a4%be%e5%9b%a2)\n      - [2.5.8. 后台删除社团](#258-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e7%a4%be%e5%9b%a2)\n    - [2.6. 国际学校招生项目管理](#26-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e7%ae%a1%e7%90%86)\n      - [2.6.1. 后台获取招生项目列表](#261-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e5%88%97%e8%a1%a8)\n      - [2.6.2. 后台调整招生项目顺序](#262-%e5%90%8e%e5%8f%b0%e8%b0%83%e6%95%b4%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e9%a1%ba%e5%ba%8f)\n      - [2.6.3. 后台获取招生项目详情](#263-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e8%af%a6%e6%83%85)\n      - [2.6.4. 后台获取招生项目选项](#264-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e9%80%89%e9%a1%b9)\n      - [2.6.5. 后台添加招生项目](#265-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae)\n      - [2.6.6. 后台编辑招生项目](#266-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae)\n      - [2.6.7. 后台提审招生项目](#267-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae)\n      - [2.6.8. 后台审核招生项目](#268-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae)\n      - [2.6.9. 后台上下线招生项目](#269-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae)\n      - [2.6.10. 后台删除招生项目](#2610-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae)\n    - [2.7. 国际学校师资力量管理](#27-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%b8%88%e8%b5%84%e5%8a%9b%e9%87%8f%e7%ae%a1%e7%90%86)\n      - [2.7.1. 后台获取教师列表](#271-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%95%99%e5%b8%88%e5%88%97%e8%a1%a8)\n      - [2.7.2. 后台添加教师](#272-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e6%95%99%e5%b8%88)\n      - [2.7.3. 后台编辑教师](#273-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e6%95%99%e5%b8%88)\n      - [2.7.4. 后台提审教师](#274-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e6%95%99%e5%b8%88)\n      - [2.7.5. 后台审核教师](#275-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e6%95%99%e5%b8%88)\n      - [2.7.6. 后台上下线教师](#276-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e6%95%99%e5%b8%88)\n      - [2.7.7. 后台删除教师](#277-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e6%95%99%e5%b8%88)\n    - [2.8. 国际学校文章管理](#28-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e6%96%87%e7%ab%a0%e7%ae%a1%e7%90%86)\n      - [2.8.1. 后台获取文章列表](#281-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%96%87%e7%ab%a0%e5%88%97%e8%a1%a8)\n      - [2.8.2. 后台获取文章详情](#282-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e6%96%87%e7%ab%a0%e8%af%a6%e6%83%85)\n      - [2.8.3. 后台添加文章](#283-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e6%96%87%e7%ab%a0)\n      - [2.8.4. 后台编辑文章](#284-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e6%96%87%e7%ab%a0)\n      - [2.8.5. 后台提审文章](#285-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e6%96%87%e7%ab%a0)\n      - [2.8.6. 后台审核文章](#286-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e6%96%87%e7%ab%a0)\n      - [2.8.7. 后台上下线文章](#287-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e6%96%87%e7%ab%a0)\n      - [2.8.8. 后台删除文章](#288-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e6%96%87%e7%ab%a0)\n    - [2.9. 国际学校常见问答管理](#29-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94%e7%ae%a1%e7%90%86)\n      - [2.9.1. 后台获取常见问答列表](#291-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94%e5%88%97%e8%a1%a8)\n      - [2.9.2. 后台添加常见问答](#292-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94)\n      - [2.9.3. 后台编辑常见问答](#293-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94)\n      - [2.9.4. 后台提审常见问答](#294-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94)\n      - [2.9.5. 后台审核常见问答](#295-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94)\n      - [2.9.6. 后台上下线常见问答](#296-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94)\n      - [2.9.7. 后台删除常见问答](#297-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e5%b8%b8%e8%a7%81%e9%97%ae%e7%ad%94)\n    - [2.10. 国际学校开放日管理](#210-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%bc%80%e6%94%be%e6%97%a5%e7%ae%a1%e7%90%86)\n      - [2.10.1. 后台获取开放日列表](#2101-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%bc%80%e6%94%be%e6%97%a5%e5%88%97%e8%a1%a8)\n      - [2.10.2. 后台添加开放日](#2102-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e5%bc%80%e6%94%be%e6%97%a5)\n      - [2.10.3. 后台编辑开放日](#2103-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e5%bc%80%e6%94%be%e6%97%a5)\n      - [2.10.4. 后台提审开放日](#2104-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e5%bc%80%e6%94%be%e6%97%a5)\n      - [2.10.5. 后台审核开放日](#2105-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e5%bc%80%e6%94%be%e6%97%a5)\n      - [2.10.6. 后台上下线开放日](#2106-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e5%bc%80%e6%94%be%e6%97%a5)\n      - [2.10.7. 后台删除开放日](#2107-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e5%bc%80%e6%94%be%e6%97%a5)\n      - [2.10.8. 后台获取开放日选项](#2108-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e5%bc%80%e6%94%be%e6%97%a5%e9%80%89%e9%a1%b9)\n    - [2.11. 国际学校照片管理](#211-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%85%a7%e7%89%87%e7%ae%a1%e7%90%86)\n      - [2.11.1. 后台获取照片列表](#2111-%e5%90%8e%e5%8f%b0%e8%8e%b7%e5%8f%96%e7%85%a7%e7%89%87%e5%88%97%e8%a1%a8)\n      - [2.11.2. 后台添加照片](#2112-%e5%90%8e%e5%8f%b0%e6%b7%bb%e5%8a%a0%e7%85%a7%e7%89%87)\n      - [2.11.3. 后台编辑照片](#2113-%e5%90%8e%e5%8f%b0%e7%bc%96%e8%be%91%e7%85%a7%e7%89%87)\n      - [2.11.4. 后台提审照片](#2114-%e5%90%8e%e5%8f%b0%e6%8f%90%e5%ae%a1%e7%85%a7%e7%89%87)\n      - [2.11.5. 后台审核照片](#2115-%e5%90%8e%e5%8f%b0%e5%ae%a1%e6%a0%b8%e7%85%a7%e7%89%87)\n      - [2.11.6. 后台上下线照片](#2116-%e5%90%8e%e5%8f%b0%e4%b8%8a%e4%b8%8b%e7%ba%bf%e7%85%a7%e7%89%87)\n      - [2.11.7. 后台删除照片](#2117-%e5%90%8e%e5%8f%b0%e5%88%a0%e9%99%a4%e7%85%a7%e7%89%87)\n  - [3. 前台接口设计](#3-%e5%89%8d%e5%8f%b0%e6%8e%a5%e5%8f%a3%e8%ae%be%e8%ae%a1)\n    - [3.1. 国际学校列表接口](#31-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%88%97%e8%a1%a8%e6%8e%a5%e5%8f%a3)\n    - [3.2. 国际学校详情接口](#32-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e8%af%a6%e6%83%85%e6%8e%a5%e5%8f%a3)\n    - [3.3. 国际学校招生项目列表](#33-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e5%88%97%e8%a1%a8)\n    - [3.4. 国际学校招生项目详情](#34-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e6%8b%9b%e7%94%9f%e9%a1%b9%e7%9b%ae%e8%af%a6%e6%83%85)\n    - [3.5. 国际学校相关动态列表](#35-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%9b%b8%e5%85%b3%e5%8a%a8%e6%80%81%e5%88%97%e8%a1%a8)\n    - [3.6. 国际学校常见问题](#36-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98)\n    - [3.7. 国际学校师资力量](#37-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e5%b8%88%e8%b5%84%e5%8a%9b%e9%87%8f)\n    - [3.8. 国际学校点评列表](#38-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%82%b9%e8%af%84%e5%88%97%e8%a1%a8)\n    - [3.9. 国际学校优秀毕业生列表](#39-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f%e5%88%97%e8%a1%a8)\n    - [3.10. 国际学校优秀毕业生详情](#310-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e4%bc%98%e7%a7%80%e6%af%95%e4%b8%9a%e7%94%9f%e8%af%a6%e6%83%85)\n    - [3.11. 国际学校社团列表](#311-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%a4%be%e5%9b%a2%e5%88%97%e8%a1%a8)\n    - [3.12. 国际学校社团详情](#312-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%a4%be%e5%9b%a2%e8%af%a6%e6%83%85)\n    - [3.13. 国际学校照片视频接口](#313-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e7%85%a7%e7%89%87%e8%a7%86%e9%a2%91%e6%8e%a5%e5%8f%a3)\n    - [3.12. 国际学校文章详情](#312-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e6%96%87%e7%ab%a0%e8%af%a6%e6%83%85)\n  - [4. 其他改动](#4-%e5%85%b6%e4%bb%96%e6%94%b9%e5%8a%a8)\n    - [4.1. 大学点评改动](#41-%e5%a4%a7%e5%ad%a6%e7%82%b9%e8%af%84%e6%94%b9%e5%8a%a8)\n    - [4.2. 预约接口新增统计相关参数](#42-%e9%a2%84%e7%ba%a6%e6%8e%a5%e5%8f%a3%e6%96%b0%e5%a2%9e%e7%bb%9f%e8%ae%a1%e7%9b%b8%e5%85%b3%e5%8f%82%e6%95%b0)\n    - [4.3. 后台视频编辑接口改动](#43-%e5%90%8e%e5%8f%b0%e8%a7%86%e9%a2%91%e7%bc%96%e8%be%91%e6%8e%a5%e5%8f%a3%e6%94%b9%e5%8a%a8)\n\n## 1. 国际学校数据结构变更\n\n### 1.1. 旧的结构\n\n主表：\n\n```ts\ninterface InternationalSchool {\n  id: integer.autoIncrement.primaryKey;\n  name: text.notNull; // 学校名称\n  countryId: text.notNull; // 国家ID\n  provinceId: text.notNull; // 省份ID\n  cityId: text; // 城市ID\n  logo: text; // 校徽\n  schoolTypeId: text; // 学校类型（公立/私立）\n  hasPreSchool: boolean.notNull; // 是否有学前教育（幼儿园）\n  hasPrimarySchool: boolean.notNull; // 是否有小学\n  hasJuniorSchool: boolean.notNull; // 是否有初中\n  hasSeniorSchool: boolean.notNull; // 是否有高中\n  introduction: text; // HTML学校简介\n  targetCountries: text; // 目标国家列表（国家名称）\n  schoolAdmission: text; // HTML学校招生简章\n  advantages: json<{ title: string; description: string; image: string }[]>; // 学校优势\n  foreignTeacherRatio: text; // 外教比例（百分比）\n  facultyStudentRatio: text; // 师生比例（比例）\n  teachers: json<{ title: string; description: string; image: string }[]>; // 教师\n  photos: json<{ title: string; image: string }[]>; // 学校照片\n  students: json<\n    {\n      title: string;\n      name: string;\n      photo: string;\n      graduateSchool: string;\n      admissionSchool: string;\n      introduction: string;\n    }[]\n  >; // 优秀学生\n  degrees: text[]; // 开设年级，用于筛选（多个：学前教育，小学，初中，高中，其他？）= 学校中所有课程的年级集合\n  feeRanges: text[]; // 学费范围，用于筛选（多个：5万一下，5-10万，等）= 学校中所有课程的费用集合\n  courseSystems: text[]; // 课程体系，用于筛选（多个：IB课程，A-Level课程等）= 学校中所有课程的课程体系集合\n}\n```\n\n```ts\ninterface InternationalSchoolCourse {\n  id: integer.autoIncrement.primaryKey;\n  schoolId: integer.notNull; // 所属国际学校ID\n  name: text.notNull; // 课程名称\n  departmentId: text; // 开设年级（一个）\n  enrollmentTarget: text; // 招生对象\n  admissionTime: text; // 开学时间？招生时间？\n  requirement: text; // 录取要求\n  classSize: text; // 班级大小\n  teachingForm: text; // 授课形式\n  withAccommodation: boolean; // 包含住宿？住校？\n  entranceExams: text; // 入学考试\n  acceptTransfer: text; // 是否接受转学\n  advantages: text[]; // 优势\n  coverImage: text; // 封面图\n  photos: json; // 照片（之前都没用到）\n  price: text; // 学费\n  introduction: text; // HTML课程介绍\n  courseSystem: text; // 课程体系（中文名称）\n}\n```\n\n### 1.2. 新的结构\n\n```ts\n// 国际学校主表\ninterface IntSchoolInfo {\n  id: integer.autoIncrement.primaryKey;\n  chineseName: text.notNull;\n  englishName: text.notNull;\n  typeId: text; // 学校类型（公立/私立）\n  provinceId: text;\n  cityId: text;\n  logo: text;\n  coverUrl: text;\n  coverWidth: integer;\n  coverHeight: integer;\n  website: text;\n  establishmentYear: integer;\n  address: text; // 详细地址\n  area: text; // 占地面积\n  acceptForeign: boolean; // 是否接收外籍学生（null=未知）\n  introduction: text; // HTML学校简介\n  advantages: json<{ title: string; description: string; image: string }[]>; // 学校优势\n  honors: json<{ title: string; description: string; image: string }[]>; // 荣誉资质\n  totalStudentCount: integer; // 学生总数\n  foreignTeacherRatio: text; // 外教比\n  facultyStudentRatio: text; // 师生比\n  graduatedSessionCount: integer; // 毕业届数\n  graduateAdmissionRate: float; // 成功申请率\n  graduateAdmissionRateTop100: float; // 世界TOP100录取率\n  graduateAdmissionCountries: json<{ countryId: string; ratio: number }[]>;\n\n  // 非审核数据（通过审核数据计算而来，每次学校通过审核时刷新）\n  introductionPreview: string;\n\n  // 混合内容（可编辑，但一定会包含所有申请项目的对应属性，编辑时会检查是否满足约束，每次学校下的申请项目审核通过时会刷新）\n  departmentIds: integer[]; // 开设年级（需要整数化）\n  courseSystemIds: integer[]; // 课程体系（需要整数化）\n  targetRegionIds: integer[]; // 留学国家（枚举与教师模块中一致）\n  feeTuitionIds: integer[]; // 学费（枚举选择）\n  boarderTypeIds: integer[]; // 住校类型（整数枚举：强制住校/提供住校/不提供住校）\n\n  // 计数属性\n  appointmentCount: integer.notNull.default<0>; // 咨询预约计数\n  visitAppointmentCount: integer.notNull.default<0>; // 探校预约计数\n\n  // 管理属性\n  inCoop: boolean.notNull.default<false>; // 是否合作\n  consultantId: integer; // 学校代表教师ID\n  adminId: integer; // 学校管理员ID\n\n  order: integer.notNull; // 顺序\n  pending: boolean.notNull.default<false>; // 是否存在待审核状态的数据（包括自身和从属数据）\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校照片\ninterface IntSchoolPhoto {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  imageUrl: text.notNull;\n  width: integer;\n  height: integer;\n  text: text.notNull;\n\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际高中申请大学录取情况（属于基本信息的一部分，故无需单独维护审核状态）\ninterface IntSchoolAdmissionSchool {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  schoolId: integer.notNull;\n  count: integer.notNull; // 录取人数\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校点评\ninterface IntSchoolComment {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  category: text.notNull; // 点评分类\n  content: text.notNull; // 点评内容\n  pinned: boolean.notNull.default<false>; // 是否置顶\n\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校优秀毕业生\ninterface IntSchoolStudent {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  coverUrl: text.notNull;\n  title: text.notNull;\n  content: text.notNull; // HTML内容\n\n  visitCount: integer.notNull.default<0>;\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校教师\ninterface IntSchoolTeacher {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  name: text.notNull;\n  avatarUrl: text.notNull;\n  introduction: text.notNull; // 纯文本简介\n\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校社团\ninterface IntSchoolCommunity {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  name: text.notNull; // 社团名称\n  coverUrl: text.notNull; // 社团封面\n  title: text.notNull; // 文章标题\n  content: text.notNull; // HTML内容\n\n  visitCount: integer.notNull.default<0>;\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校招生项目（等同于旧版本中的课程）\ninterface IntSchoolProgram {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  name: text.notNull; // 项目名称\n  coverUrl: text; // 项目封面\n  departmentId: integer; // 开设年级（需要整数化）\n  enrollmentTarget: text; // 招生对象\n  enrollmentRequirement: text; // 入学要求\n  courseSystemIds: integer[]; // 课程体系（需要整数化）\n  boarderTypeId: integer; // 住校类型（整数枚举：强制住校/提供住校/不提供住校）\n  targetRegionIds: integer[]; // 留学国家（枚举与教师模块中一致）\n  advantages: text[]; // 优势\n  feeTuitionId: integer; // 学费（枚举选择）\n  feeApplication: text; // 报名费\n  feeAccommodation: text; // 住宿费\n  feeOther: text; // 其他费用\n  admissionBrochure: text; // 招生简章（HTML）\n  entranceTime: text; // 开学时间\n  classSize: text; // 班级大小\n  teachingForm: text; // 授课形式\n  acceptTransfer: boolean; // 是否接受转学\n\n  order: integer.notNull; // 排序（小在前，新建的最大）\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校文章\ninterface IntSchoolArticle {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  coverUrl: text.notNull;\n  title: text.notNull;\n  content: text.notNull; // HTML内容\n\n  visitCount: integer.notNull.default<0>;\n  feedId: integer; // 对应的动态ID\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校常见问题\ninterface IntSchoolFrequentQuestion {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  question: text.notNull;\n  answer: text.notNull;\n\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n\n// 国际学校开放日\ninterface IntSchoolOpenDay {\n  id: integer.autoIncrement.primaryKey;\n  intSchoolId: integer.notNull;\n  date: date.notNull; // 仅日期（用数据库的DATE类型）\n  time: text; // 时间（全天/半天）\n  tags: integer[]; // 活动TAG（参观校园，招生问答，等等）\n\n  enabled: boolean.notNull.default<false>; // 是否展示在客户端\n  reviewStatus: integer.notNull; // 是否需要审核\n  reviewData: json; // 审核数据\n  createTime: timestamptz.notNull.default<"now">;\n  updateTime: timestamptz.notNull.default<"now">;\n}\n```\n\n视频项目新增字段：\n\n```ts\ninterface VideoItem {\n  // ...\n  intSchoolIds: integer[];\n}\n```\n\n### 1.3. 状态说明\n\n审核状态列表：\n\n- 未提审 = `reviewStatus = CREATED`\n- 待审核 = `reviewStatus = PENDING`\n- 审核通过 = `reviewStatus = ACCEPTED`\n- 审核不通过 = `reviewStatus = REJECTED`\n\n上下线状态：\n\n- 未上线 = `enabled = false`\n- 已上线 = `enabled = true`\n\n```mermaid\nstateDiagram\n  [*] --\x3e 未提审: 创建\n\n  未提审 --\x3e 待审核: 提审\n  待审核 --\x3e 审核不通过: 不通过\n  待审核 --\x3e 审核通过: 通过\n\n  审核通过 --\x3e 待审核: 更新提审\n  审核不通过 --\x3e 待审核: 重新提审\n\n  state 未提审 {\n    未上线\n  }\n\n  state 待审核 {\n    已上线 --\x3e 未上线: 下线\n  }\n\n  state 审核不通过 {\n    已上线 --\x3e 未上线: 下线\n  }\n\n  state 审核通过 {\n    未上线 --\x3e 已上线: 上线\n    已上线 --\x3e 未上线: 下线\n  }\n```\n\n注：\n\n1. 上下线状态与审核状态是独立保存的\n2. 只能在审核通过时可以上线（变为已上线状态）\n3. 任何状态下都可以下线（变为未上线状态）\n4. 任何状态下编辑都只改变 reviewData\n5. 提交审核需要检测 reviewData 是否符合上线条件\n6. 上线操作时，需要检测正式数据是否符合上线条件\n\n## 2. 后台接口设计\n\n### 2.1. 权限设计\n\n新增两种权限：\n\n- 国际学校校方编辑权限（intschool.edit），由校方担任，可以编辑绑定学校的信息，提交审核，删除未上线且未审核通过的内容\n  - 此权限的判断需要结合数据库数据判断是否编辑的是绑定学校\n- 国际学校完全管理权限（intschool.admin），由平台担任，可以行使国际学校管理板块的所有功能（包括校方编辑功能）\n\n### 2.2. 学校基本信息管理接口\n\n#### 2.2.1. 编辑审核数据模型\n\n```ts\ninterface IntSchoolReviewData {\n  chineseName: string;\n  englishName: string;\n  typeId: string; // 学校类型（公立/私立）\n  provinceId: string; // 有单独接口可以获取中国所有省市\n  cityId: string;\n  coverUrl: string;\n  logo: string;\n  coverWidth: number;\n  coverHeight: number;\n  website: string;\n  establishmentYear: number;\n  address: string; // 详细地址\n  area: string; // 占地面积\n  acceptForeign: boolean; // 是否接收外籍学生\n  introduction: string; // HTML学校简介\n  advantages: {\n    title: string;\n    description: string;\n    image: string;\n  }[]; // 学校优势\n  honors: {\n    title: string;\n    description: string;\n    image: string;\n  }[]; // 荣誉资质\n  totalStudentCount: number; // 学生总数\n  foreignTeacherRatio: string; // 外教比\n  facultyStudentRatio: string; // 师生比\n  graduatedSessionCount: number; // 毕业届数\n  graduateAdmissionRate: number; // 成功申请率\n  graduateAdmissionRateTop100: number; // 世界TOP100录取率\n  graduateAdmissionCountries: {\n    countryId: string;\n    ratio: number;\n  }[];\n  graduateAdmissionSchools: {\n    schoolId: number;\n    school: {\n      id: number;\n      chineseName: string;\n      englishName: string;\n    };\n    count: number;\n  }[];\n}\n```\n\n#### 2.2.2. 后台获取国际学校列表\n\n```http\nGET /intschool/admin/list\n```\n\n```ts\ninterface Params {\n  page: number;\n  pageSize: number;\n  keyword?: string;\n  inCoop?: boolean;\n  enabled?: boolean;\n  reviewStatus?: number;\n  pending?: boolean;\n}\n```\n\n```ts\ninterface Response {\n  data: 0;\n  data: {\n    pagination: PaginationObject;\n    data: {\n      id: number;\n      chineseName: string;\n      englishName: string;\n      enabled: boolean;\n      reviewStatus: number;\n      inCoop: boolean;\n      order: number;\n      pending: boolean;\n      consultant: {\n        id: number;\n        realName: string;\n      };\n      admin: {\n        id: number;\n        name: string;\n      };\n    }[];\n  };\n}\n```\n\n#### 2.2.3. 后台修改国际学校绑定人员\n\n```http\nPUT /intschool/admin/item/bindings\n```\n\n```ts\ninterface Params {\n  id: number; // 国际学校ID\n  inCoop: boolean; // 是否合作（不合作的话，会忽略下面两个参数，并设置为null）\n  consultantId: number; // 绑定教师ID\n  adminId: number; // 绑定管理员ID\n}\n```\n\n##### 2.2.3.1. 后台获取可绑定管理员列表\n\n```http\nGET /intschool/admin/item/bindings/admins\n```\n\n注：\n\n- 即获取所有拥有「国际学校绑定编辑权限（intschool.edit.bound）」的管理员\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    name: string;\n  }[];\n}\n```\n\n#### 2.2.4. 后台设置国际学校上下线\n\n```http\nPUT /intschool/admin/item/enabled\n```\n\n注：\n\n- 只能在 reviewStatus 为 ACCEPTED 的情况下上线\n- 任何时候都可以下线\n\n```ts\ninterface Params {\n  id: number; // 国际学校ID\n  enabled: boolean; // 是否上线\n}\n```\n\n#### 2.2.5. 后台获取国际学校基本数据\n\n```http\nGET /intschool/admin/item\n```\n\n注：\n\n- 待审核数据放在 reviewData 里面，如果要查看待审数据，需要使用 reviewData 的版本\n\n```ts\ninterface Params {\n  id: number; // 国际学校ID\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: IntSchoolReviewData & {\n    id: number;\n    reviewData?: IntSchoolReviewData;\n  };\n}\n```\n\n#### 2.2.6. 后台获取国际学校基本信息相关选项数据\n\n```http\nGET /intschool/admin/item/options\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    types: { id: string; name: string }[];\n    boarderTypes: { id: string; name: string }[];\n    countries: { id: string; name: string }[];\n  };\n}\n```\n\n#### 2.2.7. 后台创建国际学校\n\n```http\nPOST /intschool/admin/item\n```\n\n注：\n\n- 接口需要检查中文名重名，英文名重名\n\n```ts\ntype Params = IntSchoolReviewData;\n```\n\n#### 2.2.8. 后台编辑国际学校\n\n```http\nPUT /intschool/admin/item\n```\n\n注：\n\n- 接口需要检查中文名重名，英文名重名（查询时注意排除自身）\n- 数据仅存入 reviewData\n\n```ts\ntype Params = IntSchoolReviewData & { id: number };\n```\n\n#### 2.2.9. 后台提审国际学校基本信息\n\n```http\nPOST /intschool/admin/item/submit\n```\n\n注：\n\n- 处于任何 reviewStatus 都能够提交，将 reviewStatus 设为 PENDING\n\n```ts\ninterface Params {\n  id: number; // 国际学校ID\n}\n```\n\n#### 2.2.10. 后台审核国际学校基本数据\n\n```http\nPOST /intschool/admin/item/review\n```\n\n注：\n\n- 只能在 reviewStatus 为 PENDING 时处理\n- 通过，则将 reviewStatus 设为 ACCEPTED，并将 reviewData 中的数据写入到正式数据（注意字段使用白名单过滤一下）\n- 不通过，仅将 reviewStatus 设为 REJECTED，不处理 reviewData\n- 本接口不自动上下线学校，审核过后，需要手动上线学校\n\n```ts\ninterface Params {\n  id: number; // 国际学校ID\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.2.11. 后台调整国际学校顺序\n\n```http\nPUT /intschool/admin/item/order\n```\n\n注：\n\n- 顺序值必须是现存的值\n- 顺序值越小排越前面，1 在最前面，2 其次，依此类推\n\n```ts\ninterface Params {\n  id: number; // 国际学校ID\n  order: number; // 顺序值\n}\n```\n\n### 2.3. 国际学校点评管理\n\n#### 2.3.1. 后台获取国际学校点评列表\n\n```http\nGET /intschool/admin/comment/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      category: string; // 点评分类\n      content: string; // 点评内容\n      pinned: boolean;\n      enabled: boolean;\n      reviewStatus: number;\n      reviewData: {\n        category: string; // 点评分类\n        content: string; // 点评内容\n      };\n      updateTime: Date;\n    }[];\n  };\n}\n```\n\n#### 2.3.2. 后台添加国际学校点评\n\n```http\nPOST /intschool/admin/comment\n```\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  category: string; // 点评分类\n  content: string; // 点评内容\n}\n```\n\n#### 2.3.3. 后台修改国际学校点评\n\n```http\nPUT /intschool/admin/comment\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅作验证，不参与修改\n  category: string; // 点评分类\n  content: string; // 点评内容\n}\n```\n\n#### 2.3.4. 后台提审国际学校点评\n\n```http\nPOST /intschool/admin/comment/submit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅作验证，不参与修改\n}\n```\n\n#### 2.3.5. 后台审核国际学校点评\n\n```http\nPOST /intschool/admin/comment/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 国际学校ID\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.3.6. 后台上下线国际学校点评\n\n```http\nPUT /intschool/admin/comment/enabled\n```\n\n注：\n\n- 只能在 reviewStatus 为 ACCEPTED 的情况下上线\n- 任何时候都可以下线\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 国际学校ID\n  enabled: boolean; // 是否上线\n}\n```\n\n#### 2.3.7. 后台删除国际学校点评\n\n```http\nDELETE /intschool/admin/comment\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 国际学校ID\n}\n```\n\n#### 2.3.8. 后台置顶国际学校点评\n\n```http\nPUT /intschool/admin/comment/pinned\n```\n\n注：\n\n- 将同一个学校下的其他点评都设置为不置顶\n\n```ts\ninterface Params {\n  id: number; // 点评ID\n  intSchoolId: number; // 国际学校ID\n  pinned: boolean; // 是否置顶\n}\n```\n\n### 2.4. 国际学校优秀毕业生管理\n\n#### 2.4.1. 后台获取优秀毕业生列表\n\n```http\nGET /intschool/admin/student/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      title: string; // 点评内容\n      enabled: boolean;\n      reviewStatus: number;\n      updateTime: Date;\n    }[];\n  };\n}\n```\n\n#### 2.4.2. 后台获取优秀毕业生详情\n\n```http\nGET /intschool/admin/student\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 国际学校ID;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    intSchoolId: number;\n\n    title: string;\n    coverUrl: string;\n    content: string;\n\n    enabled: boolean;\n    reviewStatus: number;\n    reviewData: {\n      title: string;\n      coverUrl: string;\n      content: string;\n    };\n    updateTime: Date;\n  };\n}\n```\n\n#### 2.4.3. 后台添加优秀毕业生\n\n```http\nPOST /intschool/admin/student\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  coverUrl: string;\n  title: string;\n  content: string;\n}\n```\n\n#### 2.4.4. 后台编辑优秀毕业生\n\n```http\nPUT /intschool/admin/student\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  coverUrl: string;\n  title: string;\n  content: string;\n}\n```\n\n#### 2.4.5. 后台提审优秀毕业生\n\n```http\nPOST /intschool/admin/student/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.4.6. 后台审核优秀毕业生\n\n```http\nPOST /intschool/admin/student/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.4.7. 后台上下线优秀毕业生\n\n```http\nPUT /intschool/admin/student/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.4.8. 后台删除优秀毕业生\n\n```http\nDELETE /intschool/admin/student\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n### 2.5. 国际学校社团管理\n\n#### 2.5.1. 后台获取社团列表\n\n```http\nGET /intschool/admin/community/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      name: string; // 社团名称\n      title: string; // 社团介绍标题\n      enabled: boolean;\n      reviewStatus: number;\n      updateTime: Date;\n    }[];\n  };\n}\n```\n\n#### 2.5.2. 后台获取社团详情\n\n```http\nGET /intschool/admin/community\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 国际学校ID;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    intSchoolId: number;\n\n    name: string;\n    title: string;\n    coverUrl: string;\n    content: string;\n\n    enabled: boolean;\n    reviewStatus: number;\n    reviewData: {\n      name: string;\n      title: string;\n      coverUrl: string;\n      content: string;\n    };\n    updateTime: Date;\n  };\n}\n```\n\n#### 2.5.3. 后台添加社团\n\n```http\nPOST /intschool/admin/community\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  name: string;\n  coverUrl: string;\n  title: string;\n  content: string;\n}\n```\n\n#### 2.5.4. 后台编辑社团\n\n```http\nPUT /intschool/admin/community\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n  name: string;\n  coverUrl: string;\n  title: string;\n  content: string;\n}\n```\n\n#### 2.5.5. 后台提审社团\n\n```http\nPOST /intschool/admin/community/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.5.6. 后台审核社团\n\n```http\nPOST /intschool/admin/community/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.5.7. 后台上下线社团\n\n```http\nPUT /intschool/admin/community/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.5.8. 后台删除社团\n\n```http\nDELETE /intschool/admin/community\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n### 2.6. 国际学校招生项目管理\n\n#### 2.6.1. 后台获取招生项目列表\n\n```http\nGET /intschool/admin/program/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      name: string; // 招生项目名称\n      departmentId: integer; // 开设年级\n      departmentName: string;\n      enabled: boolean;\n      reviewStatus: number;\n      updateTime: Date;\n      order: number;\n    }[];\n  };\n}\n```\n\n#### 2.6.2. 后台调整招生项目顺序\n\n```http\nPUT /intschool/admin/program/list/order\n```\n\n注：\n\n- 数据库里有，但是这里没有提到的项目会按照 ID 顺序接在后面\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  order: number[]; // 按照顺序排列的招生项目ID数组\n}\n```\n\n#### 2.6.3. 后台获取招生项目详情\n\n```http\nGET /intschool/admin/program\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 国际学校ID;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    intSchoolId: number;\n\n    name: string; // 项目名称\n    coverUrl: string; // 项目封面\n    departmentId: number; // 开设年级（需要整数化）\n    enrollmentTarget: string; // 招生对象\n    enrollmentRequirement: string; // 入学要求\n    courseSystemIds: number[]; // 课程体系（需要整数化）\n    boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校）\n    targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致）\n    advantages: string[]; // 优势\n    feeTuitionId: number; // 学费（枚举选择）\n    feeApplication: string; // 报名费\n    feeAccommodation: string; // 住宿费\n    feeOther: string; // 其他费用\n    admissionBrochure: string; // 招生简章（HTML） 招生简章（HTML）\n    entranceTime: string; // 开学时间\n    classSize: string; // 班级大小\n    teachingForm: string; // 授课形式\n    acceptTransfer: boolean; // 是否接受转学（枚举）\n\n    order: number; // 排序（小在前，新建的最大）\n    enabled: boolean; // 是否展示在客户端\n    reviewStatus: number; // 是否需要审核\n    reviewData: {\n      name: string; // 项目名称\n      coverUrl: string; // 项目封面\n      departmentId: number; // 开设年级（需要整数化）\n      enrollmentTarget: string; // 招生对象\n      enrollmentRequirement: string; // 入学要求\n      courseSystemIds: number[]; // 课程体系（需要整数化）\n      boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校）\n      targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致）\n      advantages: string[]; // 优势\n      feeTuitionId: number; // 学费（枚举选择）\n      feeApplication: string; // 报名费\n      feeAccommodation: string; // 住宿费\n      feeOther: string; // 其他费用\n      admissionBrochure: string; // 招生简章（HTML）\n      entranceTime: string; // 开学时间\n      classSize: string; // 班级大小\n      teachingForm: string; // 授课形式\n      acceptTransfer: boolean; // 是否接受转学（枚举）\n    }; // 审核数据\n    createTime: Date;\n    updateTime: Date;\n  };\n}\n```\n\n#### 2.6.4. 后台获取招生项目选项\n\n```http\nGET /intschool/admin/program/options\n```\n\n```ts\ninterface Response {\n  departments: { id: number; name: string }[];\n  courseSystems: { id: number; name: string }[];\n  boarderTypes: { id: number; name: string }[];\n  targetRegions: { id: number; name: string }[];\n  feeTuitions: { id: number; name: string }[];\n}\n```\n\n#### 2.6.5. 后台添加招生项目\n\n```http\nPOST /intschool/admin/program\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n\n  name: string; // 项目名称\n  coverUrl: string; // 项目封面\n  departmentId: number; // 开设年级（需要整数化）\n  enrollmentTarget: string; // 招生对象\n  enrollmentRequirement: string; // 入学要求\n  courseSystemIds: number[]; // 课程体系（需要整数化）\n  boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校）\n  targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致）\n  advantages: string[]; // 优势\n  feeTuitionId: number; // 学费（枚举选择）\n  feeApplication: string; // 报名费\n  feeAccommodation: string; // 住宿费\n  feeOther: string; // 其他费用\n  admissionBrochure: string; // 招生简章（HTML）\n  entranceTime: string; // 开学时间\n  classSize: string; // 班级大小\n  teachingForm: string; // 授课形式\n  acceptTransfer: boolean; // 是否接受转学（枚举）\n}\n```\n\n#### 2.6.6. 后台编辑招生项目\n\n```http\nPUT /intschool/admin/program\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n\n  name: string; // 项目名称\n  coverUrl: string; // 项目封面\n  departmentId: number; // 开设年级（需要整数化）\n  enrollmentTarget: string; // 招生对象\n  enrollmentRequirement: string; // 入学要求\n  courseSystemIds: number[]; // 课程体系（需要整数化）\n  boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校）\n  targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致）\n  advantages: string[]; // 优势\n  feeTuitionId: number; // 学费（枚举选择）\n  feeApplication: string; // 报名费\n  feeAccommodation: string; // 住宿费\n  feeOther: string; // 其他费用\n  admissionBrochure: string; // 招生简章（HTML）\n  entranceTime: string; // 开学时间\n  classSize: string; // 班级大小\n  teachingForm: string; // 授课形式\n  acceptTransfer: boolean; // 是否接受转学（枚举）\n}\n```\n\n#### 2.6.7. 后台提审招生项目\n\n```http\nPOST /intschool/admin/program/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.6.8. 后台审核招生项目\n\n```http\nPOST /intschool/admin/program/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.6.9. 后台上下线招生项目\n\n```http\nPUT /intschool/admin/program/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.6.10. 后台删除招生项目\n\n```http\nDELETE /intschool/admin/program\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n### 2.7. 国际学校师资力量管理\n\n#### 2.7.1. 后台获取教师列表\n\n```http\nGET /intschool/admin/teacher/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      name: string;\n      avatarUrl: string;\n      introduction: string; // 纯文本简介\n      enabled: boolean;\n      reviewStatus: number;\n      reviewData: {\n        name: string;\n        avatarUrl: string;\n        introduction: string;\n      }; // 审核数据\n      updateTime: Date;\n      order: number;\n    }[];\n  };\n}\n```\n\n#### 2.7.2. 后台添加教师\n\n```http\nPOST /intschool/admin/teacher\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n\n  name: string;\n  avatarUrl: string;\n  introduction: string; // 纯文本简介\n}\n```\n\n#### 2.7.3. 后台编辑教师\n\n```http\nPUT /intschool/admin/teacher\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n\n  name: string;\n  avatarUrl: string;\n  introduction: string; // 纯文本简介\n}\n```\n\n#### 2.7.4. 后台提审教师\n\n```http\nPOST /intschool/admin/teacher/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.7.5. 后台审核教师\n\n```http\nPOST /intschool/admin/teacher/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.7.6. 后台上下线教师\n\n```http\nPUT /intschool/admin/teacher/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.7.7. 后台删除教师\n\n```http\nDELETE /intschool/admin/teacher\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n### 2.8. 国际学校文章管理\n\n#### 2.8.1. 后台获取文章列表\n\n```http\nGET /intschool/admin/article/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      title: string; // 文章标题\n      enabled: boolean;\n      reviewStatus: number;\n      updateTime: Date;\n    }[];\n  };\n}\n```\n\n#### 2.8.2. 后台获取文章详情\n\n```http\nGET /intschool/admin/article\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 国际学校ID;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    intSchoolId: number;\n\n    coverUrl: string;\n    title: string;\n    content: string; // HTML内容\n\n    enabled: boolean;\n    reviewStatus: number;\n    reviewData: {\n      coverUrl: string;\n      title: string;\n      content: string; // HTML内容\n    };\n    updateTime: Date;\n  };\n}\n```\n\n#### 2.8.3. 后台添加文章\n\n```http\nPOST /intschool/admin/article\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  coverUrl: string;\n  title: string;\n  content: string; // HTML内容\n}\n```\n\n#### 2.8.4. 后台编辑文章\n\n```http\nPUT /intschool/admin/article\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n  coverUrl: string;\n  title: string;\n  content: string; // HTML内容\n}\n```\n\n#### 2.8.5. 后台提审文章\n\n```http\nPOST /intschool/admin/article/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.8.6. 后台审核文章\n\n```http\nPOST /intschool/admin/article/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.8.7. 后台上下线文章\n\n```http\nPUT /intschool/admin/article/enabled\n```\n\n注：\n\n- 上线文章时，同时产生一条动态\n- 下线文章时，同时删除该动态\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.8.8. 后台删除文章\n\n```http\nDELETE /intschool/admin/article\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n### 2.9. 国际学校常见问答管理\n\n#### 2.9.1. 后台获取常见问答列表\n\n```http\nGET /intschool/admin/faq/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      question: string;\n      answer: string;\n      enabled: boolean;\n      reviewStatus: number;\n      reviewData: {\n        question: string;\n        answer: string;\n      }; // 审核数据\n      updateTime: Date;\n      order: number;\n    }[];\n  };\n}\n```\n\n#### 2.9.2. 后台添加常见问答\n\n```http\nPOST /intschool/admin/faq\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n\n  question: string;\n  answer: string;\n}\n```\n\n#### 2.9.3. 后台编辑常见问答\n\n```http\nPUT /intschool/admin/faq\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n\n  question: string;\n  answer: string;\n}\n```\n\n#### 2.9.4. 后台提审常见问答\n\n```http\nPOST /intschool/admin/faq/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.9.5. 后台审核常见问答\n\n```http\nPOST /intschool/admin/faq/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.9.6. 后台上下线常见问答\n\n```http\nPUT /intschool/admin/faq/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.9.7. 后台删除常见问答\n\n```http\nDELETE /intschool/admin/faq\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n### 2.10. 国际学校开放日管理\n\n#### 2.10.1. 后台获取开放日列表\n\n```http\nGET /intschool/admin/openday/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      date: string; // 仅日期\n      time: string; // 时间（全天/半天）\n      tags: integer[]; // 活动TAG（参观校园，招生问答，等等）\n      enabled: boolean;\n      reviewStatus: number;\n      reviewData: {\n        date: string; // 仅日期\n        time: string; // 时间（全天/半天）\n        tags: integer[]; // 活动TAG（参观校园，招生问答，等等）\n      }; // 审核数据\n      updateTime: Date;\n      order: number;\n    }[];\n  };\n}\n```\n\n#### 2.10.2. 后台添加开放日\n\n```http\nPOST /intschool/admin/openday\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n\n  date: string; // 仅日期\n  time: string; // 时间（全天/半天）\n  tags: integer[]; // 活动TAG（参观校园，招生问答，等等）\n}\n```\n\n#### 2.10.3. 后台编辑开放日\n\n```http\nPUT /intschool/admin/openday\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n\n  date: string; // 仅日期\n  time: string; // 时间（全天/半天）\n  tags: integer[]; // 活动TAG（参观校园，招生问答，等等）\n}\n```\n\n#### 2.10.4. 后台提审开放日\n\n```http\nPOST /intschool/admin/openday/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.10.5. 后台审核开放日\n\n```http\nPOST /intschool/admin/openday/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.10.6. 后台上下线开放日\n\n```http\nPUT /intschool/admin/openday/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.10.7. 后台删除开放日\n\n```http\nDELETE /intschool/admin/openday\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.10.8. 后台获取开放日选项\n\n```http\nGET /intschool/admin/openday/options\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    time: { id: string; name: string }[];\n    tags: { id: number; name: string }[];\n  };\n}\n```\n\n### 2.11. 国际学校照片管理\n\n#### 2.11.1. 后台获取照片列表\n\n```http\nGET /intschool/admin/photo/list\n```\n\n注：\n\n- intSchoolId 为必传参数\n\n```ts\ninterface Params {\n  intSchoolId: number; // 国际学校ID\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      // ...\n    };\n    data: {\n      id: number;\n      intSchoolId: number;\n      imageUrl: string;\n      text: string;\n      enabled: boolean;\n      reviewStatus: number;\n      reviewData: {\n        imageUrl: string;\n        text: string;\n      }; // 审核数据\n      updateTime: Date;\n      order: number;\n    }[];\n  };\n}\n```\n\n#### 2.11.2. 后台添加照片\n\n```http\nPOST /intschool/admin/photo\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n\n  imageUrl: string;\n  width: number;\n  height: number;\n  text: string;\n}\n```\n\n#### 2.11.3. 后台编辑照片\n\n```http\nPUT /intschool/admin/photo\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number;\n\n  imageUrl: string;\n  width: number;\n  height: number;\n  text: string;\n}\n```\n\n#### 2.11.4. 后台提审照片\n\n```http\nPOST /intschool/admin/photo/sumbit\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n#### 2.11.5. 后台审核照片\n\n```http\nPOST /intschool/admin/photo/review\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  accept: boolean; // 是否接受数据（是：通过，否：不通过）\n}\n```\n\n#### 2.11.6. 后台上下线照片\n\n```http\nPUT /intschool/admin/photo/enabled\n```\n\n```ts\ninterface Params {\n  id: number;\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n  enabled: boolean;\n}\n```\n\n#### 2.11.7. 后台删除照片\n\n```http\nDELETE /intschool/admin/photo\n```\n\n```ts\ninterface Params {\n  ids: number[];\n  intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分\n}\n```\n\n## 3. 前台接口设计\n\n### 3.1. 国际学校列表接口\n\n```http\nGET /intschool/list\n```\n\n```ts\ninterface Params {\n  page: number;\n  pageSize: number;\n\n  // 筛选参数\n  keyword: string;\n  provinceId: string;\n  cityId: string;\n  courseSystemId: number;\n  targetRegionIds: number[];\n  departmentIds: number[];\n  typeIds: string[];\n  feeTuitionIds: number[];\n  boarderTypeIds: number[];\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: PaginationObject;\n    data: {\n      id: number;\n      chineseName: string;\n      englishName: string;\n      coverUrl: string;\n      logo: string;\n      courseSystemNames: string[];\n      departmentNames: string[];\n      advantageNames: string[];\n      cityPath: string;\n      programs: null | { id: number; name: string; feeTuitionName: string }[];\n    }[];\n    meta: {\n      options: {\n        provinces: {\n          id: string;\n          name: string;\n          count: number;\n          selected: boolean;\n          cities: {\n            id: string;\n            name: string;\n            count: number;\n            selected: boolean;\n          }[];\n        }[];\n        courseSystems: { id: number; name: string; selected: boolean }[];\n        targetRegions: { id: number; name: string; selected: boolean }[];\n        departments: { id: number; name: string; selected: boolean }[];\n        boarderTypes: { id: number; name: string; selected: boolean }[];\n        types: { id: string; name: string; selected: boolean }[];\n        feeTuitions: { id: number; name: string; selected: boolean }[];\n      };\n    };\n  };\n}\n```\n\n### 3.2. 国际学校详情接口\n\n```http\nGET /intschool/item\n```\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    chineseName: string;\n    englishName: string;\n    typeId: string; // 学校类型（公立/私立）\n    typeName: string;\n    boarderTypeName: string;\n\n    provinceId: string; // 有单独接口可以获取中国所有省市\n    cityId: string;\n    provinceName: string;\n    cityName: string;\n    cityPath: string;\n\n    coverUrl: string; // 封面图\n    coverWidth: number;\n    coverHeight: number;\n    coverIsVideo: boolean;\n    logo: string;\n    website: string; // 学校官网\n    establishmentYear: number; // 建校年份\n    address: string; // 详细地址（可能用于地图定位）\n    position: null | {\n      lng: number;\n      lat: number;\n    };\n    area: string; // 占地面积\n    acceptForeign: boolean; // 是否接收外籍学生\n    introduction: string; // HTML学校简介\n    introductionPreview: string; // 纯文本学校简介预览\n    advantages: { title: string; description: string; image: string }[]; // 学校优势\n    honors: { title: string; description: string; image: string }[]; // 荣誉资质\n    totalStudentCount: number; // 学生总数\n    foreignTeacherRatio: string; // 外教比\n    facultyStudentRatio: string; // 师生比\n    graduatedSessionCount: number; // 毕业届数\n    graduateAdmissionRate: number; // 成功申请率\n    graduateAdmissionRateTop100: number; // 世界TOP100录取率\n    graduateAdmissionCountries: {\n      // 毕业国家饼图\n      svg: string;\n      data: {\n        // 毕业国家比例\n        countryId: string;\n        countryName: string;\n        ratio: string; // 格式为：XX%\n      }[];\n    };\n    graduateAdmissionSchoolsByCountries: {\n      // 毕业学校统计（按国家分组）\n      countryId: string;\n      countryName: string;\n      schools: {\n        id: number;\n        chineseName: string;\n        englishName: string;\n        logo: string;\n        localRank: number;\n        count: number;\n      }[];\n    }[];\n    courseSystemNames: string[]; // 课程体系\n    targetRegions: { id: number; name: string }[]; // 对应留学国家\n    departments: { id: number; name: string; color: string; image: string }[]; // 开设年级\n    comments: {\n      // 学校点评（限制数量）\n      id: number;\n      content: string;\n      author: {\n        id: number; // 这字段暂时是空的\n        type: number; // 这字段暂时是空的\n        name: string;\n        avatar: string;\n      };\n    }[];\n    students: {\n      // 优秀毕业生（限制数量）\n      id: number;\n      title: string;\n      coverUrl: string;\n    }[];\n    communities: {\n      // 社团（限制数量）\n      id: number;\n      name: string;\n      coverUrl: string;\n    }[];\n    upcomingOpenDay: {\n      // 最近开放日（限制数量）\n      date: string;\n      time: string;\n      tags: string[];\n    };\n    appointmentCount: number; // 预约咨询次数\n    visitAppointmentCount: number; // 预约探校次数\n    consultantId: number; // 预约老师ID\n    // 预约老师信息\n    consultant: {\n      id: number;\n      realName: string;\n    };\n\n    hasPrograms: boolean; // 是否有招生项目数据\n    hasTeachers: boolean; // 是否有教师数据\n    hasFeeds: boolean; // 是否有相关动态数据\n  };\n}\n```\n\n### 3.3. 国际学校招生项目列表\n\n```http\nGET /intschool/program/list\n```\n\n注：\n\n- 不分页，一次性获取该学校的所有招生项目\n\n```ts\ninterface Params {\n  intSchoolId: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    data: {\n      id: number;\n      name: string;\n      coverUrl: string;\n      advantages: string[];\n      departmentId: number; // 用这个做筛选\n      departmentName: string; // 这个仅用于展示\n      courseSystemNames: string[];\n      enrollmentRequirement: string; // 入学要求（录取方式）\n      targetRegionNames: string[]; // 留学国家\n    }[];\n    meta: {\n      options: {\n        departments: { id: number; name: string }[]; // 开设年级\n      };\n    };\n  };\n}\n```\n\n### 3.4. 国际学校招生项目详情\n\n```http\nGET /intschool/program/item\n```\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    name: string;\n    coverUrl: string;\n    advantages: string[];\n    departmentId: number; // 用这个做筛选\n    departmentName: string; // 这个仅用于展示\n    courseSystemNames: string[];\n    enrollmentTarget: string; // 招生对象\n    enrollmentRequirement: string; // 入学要求（录取方式）\n    targetRegionNames: string[]; // 留学国家\n    feeTuitionName: string;\n    feeApplication: string;\n    feeAccommodation: string;\n    feeOther: string;\n    admissionBrochure: string; // 招生简章（HTML）\n    entranceTime: string; // 开学时间\n    classSize: string; // 班级大小\n    teachingForm: string; // 授课形式\n    acceptTransfer: boolean; // 是否接受转学（枚举）\n    consultantId: number; // 预约老师ID\n    consultant: { id: number; realName: string }; // 预约老师信息\n    intSchool: { id: number; chineseName: string; englishName: string }; // 学校\n  };\n}\n```\n\n### 3.5. 国际学校相关动态列表\n\n```http\nGET /intschool/feed/list\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  // 和动态列表一样\n}\n```\n\n### 3.6. 国际学校常见问题\n\n```http\nGET /intschool/faq\n```\n\n注：不分页\n\n```ts\ninterface Params {\n  intSchoolId: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    question: string;\n    answer: string;\n  }[];\n}\n```\n\n### 3.7. 国际学校师资力量\n\n```http\nGET /intschool/teacher/list\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    name: string;\n    introduction: string;\n    avatarUrl: string;\n  }[];\n}\n```\n\n### 3.8. 国际学校点评列表\n\n```http\nGET /intschool/comment/list\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    name: string; // 分类名称\n\n    // 该分类下的点评\n    data: {\n      id: number;\n      content: string;\n      author: {\n        id: number; // 这字段暂时是空的\n        type: number; // 这字段暂时是空的\n        name: string;\n        avatar: string;\n      };\n    }[];\n  }[];\n}\n```\n\n### 3.9. 国际学校优秀毕业生列表\n\n```http\nGET /intschool/student/list\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: PaginationObject;\n    data: {\n      id: number;\n      title: string;\n      coverUrl: string;\n    }[];\n  };\n}\n```\n\n### 3.10. 国际学校优秀毕业生详情\n\n```http\nGET /intschool/student/item\n```\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    title: string;\n    coverUrl: string;\n    content: string;\n    visitCount: number;\n    createTimeText: string;\n\n    moreStudents: {\n      id: number;\n      title: string;\n      coverUrl: string;\n    }[];\n  };\n}\n```\n\n### 3.11. 国际学校社团列表\n\n```http\nGET /intschool/community/list\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n  page: number;\n  pageSize: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: PaginationObject;\n    data: {\n      id: number;\n      name: string;\n      title: string;\n      coverUrl: string;\n    }[];\n  };\n}\n```\n\n### 3.12. 国际学校社团详情\n\n```http\nGET /intschool/community/item\n```\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    name: string;\n    title: string;\n    coverUrl: string;\n    content: string;\n    visitCount: number;\n    createTimeText: string;\n\n    moreCommunities: {\n      id: number;\n      name: string;\n      title: string;\n      coverUrl: string;\n    }[];\n  };\n}\n```\n\n### 3.13. 国际学校照片视频接口\n\n```http\nGET /intschool/gallery\n```\n\n```ts\ninterface Params {\n  intSchoolId: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    photos: [\n      {\n        id: number;\n        imageUrl: string;\n        text: string;\n        width: number;\n        height: number;\n        createTime: Date;\n        createTimeText: string;\n      }\n    ];\n    videos: [\n      {\n        id: number;\n        name: string;\n        introduction: string;\n        coverUrl: string;\n        watchCount: number;\n        videoDuration: number;\n        videoDurationText: string;\n      }\n    ];\n  };\n}\n```\n\n### 3.12. 国际学校文章详情\n\n```http\nGET /intschool/article/item\n```\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    title: string;\n    coverUrl: string;\n    content: string;\n    visitCount: number;\n    createTimeText: string;\n  };\n}\n```\n\n## 4. 其他改动\n\n### 4.1. 大学点评改动\n\n大学点评去掉教师账号关联关系，改动数据结构，同时旧版本 APP 访问时，保持旧的数据结构。\n\n- APP 版本 2.52.0 之前，保留 `consultant` 字段\n- APP 版本 2.52.0 及之后（包括 APP 以外的请求），删除 `consultant` 字段，在相同对象中新增 `author` 字段，类型如下：\n\n  ```ts\n  interface Author {\n    id: number | null;\n    type: number | null;\n    name: string;\n    avatar: string;\n  }\n  ```\n\n### 4.2. 预约接口新增统计相关参数\n\n```http\nPOST /thirdparty/consultant/appointment/appoint\n```\n\n新增参数：\n\n- **sourceType**: _string_ 来源类型\n- **sourceContext**: _json_ 来源上下文参数\n\n与国际项目相关的来源：\n\n```ts\n// 预约咨询\ninterface Params {\n  // ...\n  sourceType: "intschool-contact";\n  sourceContext: {\n    intSchoolId: number;\n  };\n}\n\n// 预约探校\ninterface Params {\n  // ...\n  sourceType: "intschool-visit";\n  sourceContext: {\n    intSchoolId: number;\n  };\n}\n```\n\n### 4.3. 后台视频编辑接口改动\n\n新增视频接口与修改视频接口新增 intSchoolId 参数，用于指定国际学校，传入空字符串（`""`）可以清除该字段。\n',children:[{link:"/articles/drafts/2.52.0.md#1-国际学校数据结构变更",title:"1. 国际学校数据结构变更",content:["1.1. 旧的结构","主表：","interface InternationalSchool { id: integer.autoIncrement.primaryKey; name: text.notNull; // 学校名称 countryId: text.notNull; // 国家ID provinceId: text.notNull; // 省份ID cityId: text; // 城市ID logo: text; // 校徽 schoolTypeId: text; // 学校类型（公立/私立） hasPreSchool: boolean.notNull; // 是否有学前教育（幼儿园） hasPrimarySchool: boolean.notNull; // 是否有小学 hasJuniorSchool: boolean.notNull; // 是否有初中 hasSeniorSchool: boolean.notNull; // 是否有高中 introduction: text; // HTML学校简介 targetCountries: text; // 目标国家列表（国家名称） schoolAdmission: text; // HTML学校招生简章 advantages: json<{ title: string; description: string; image: string }[]>; // 学校优势 foreignTeacherRatio: text; // 外教比例（百分比） facultyStudentRatio: text; // 师生比例（比例） teachers: json<{ title: string; description: string; image: string }[]>; // 教师 photos: json<{ title: string; image: string }[]>; // 学校照片 students: json< { title: string; name: string; photo: string; graduateSchool: string; admissionSchool: string; introduction: string; }[] >; // 优秀学生 degrees: text[]; // 开设年级，用于筛选（多个：学前教育，小学，初中，高中，其他？）= 学校中所有课程的年级集合 feeRanges: text[]; // 学费范围，用于筛选（多个：5万一下，5-10万，等）= 学校中所有课程的费用集合 courseSystems: text[]; // 课程体系，用于筛选（多个：IB课程，A-Level课程等）= 学校中所有课程的课程体系集合 }","interface InternationalSchoolCourse { id: integer.autoIncrement.primaryKey; schoolId: integer.notNull; // 所属国际学校ID name: text.notNull; // 课程名称 departmentId: text; // 开设年级（一个） enrollmentTarget: text; // 招生对象 admissionTime: text; // 开学时间？招生时间？ requirement: text; // 录取要求 classSize: text; // 班级大小 teachingForm: text; // 授课形式 withAccommodation: boolean; // 包含住宿？住校？ entranceExams: text; // 入学考试 acceptTransfer: text; // 是否接受转学 advantages: text[]; // 优势 coverImage: text; // 封面图 photos: json; // 照片（之前都没用到） price: text; // 学费 introduction: text; // HTML课程介绍 courseSystem: text; // 课程体系（中文名称） }","1.2. 新的结构",'// 国际学校主表 interface IntSchoolInfo { id: integer.autoIncrement.primaryKey; chineseName: text.notNull; englishName: text.notNull; typeId: text; // 学校类型（公立/私立） provinceId: text; cityId: text; logo: text; coverUrl: text; coverWidth: integer; coverHeight: integer; website: text; establishmentYear: integer; address: text; // 详细地址 area: text; // 占地面积 acceptForeign: boolean; // 是否接收外籍学生（null=未知） introduction: text; // HTML学校简介 advantages: json<{ title: string; description: string; image: string }[]>; // 学校优势 honors: json<{ title: string; description: string; image: string }[]>; // 荣誉资质 totalStudentCount: integer; // 学生总数 foreignTeacherRatio: text; // 外教比 facultyStudentRatio: text; // 师生比 graduatedSessionCount: integer; // 毕业届数 graduateAdmissionRate: float; // 成功申请率 graduateAdmissionRateTop100: float; // 世界TOP100录取率 graduateAdmissionCountries: json<{ countryId: string; ratio: number }[]>; // 非审核数据（通过审核数据计算而来，每次学校通过审核时刷新） introductionPreview: string; // 混合内容（可编辑，但一定会包含所有申请项目的对应属性，编辑时会检查是否满足约束，每次学校下的申请项目审核通过时会刷新） departmentIds: integer[]; // 开设年级（需要整数化） courseSystemIds: integer[]; // 课程体系（需要整数化） targetRegionIds: integer[]; // 留学国家（枚举与教师模块中一致） feeTuitionIds: integer[]; // 学费（枚举选择） boarderTypeIds: integer[]; // 住校类型（整数枚举：强制住校/提供住校/不提供住校） // 计数属性 appointmentCount: integer.notNull.default<0>; // 咨询预约计数 visitAppointmentCount: integer.notNull.default<0>; // 探校预约计数 // 管理属性 inCoop: boolean.notNull.default<false>; // 是否合作 consultantId: integer; // 学校代表教师ID adminId: integer; // 学校管理员ID order: integer.notNull; // 顺序 pending: boolean.notNull.default<false>; // 是否存在待审核状态的数据（包括自身和从属数据） enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校照片 interface IntSchoolPhoto { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; imageUrl: text.notNull; width: integer; height: integer; text: text.notNull; enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际高中申请大学录取情况（属于基本信息的一部分，故无需单独维护审核状态） interface IntSchoolAdmissionSchool { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; schoolId: integer.notNull; count: integer.notNull; // 录取人数 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校点评 interface IntSchoolComment { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; category: text.notNull; // 点评分类 content: text.notNull; // 点评内容 pinned: boolean.notNull.default<false>; // 是否置顶 enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校优秀毕业生 interface IntSchoolStudent { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; coverUrl: text.notNull; title: text.notNull; content: text.notNull; // HTML内容 visitCount: integer.notNull.default<0>; enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校教师 interface IntSchoolTeacher { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; name: text.notNull; avatarUrl: text.notNull; introduction: text.notNull; // 纯文本简介 enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校社团 interface IntSchoolCommunity { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; name: text.notNull; // 社团名称 coverUrl: text.notNull; // 社团封面 title: text.notNull; // 文章标题 content: text.notNull; // HTML内容 visitCount: integer.notNull.default<0>; enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校招生项目（等同于旧版本中的课程） interface IntSchoolProgram { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; name: text.notNull; // 项目名称 coverUrl: text; // 项目封面 departmentId: integer; // 开设年级（需要整数化） enrollmentTarget: text; // 招生对象 enrollmentRequirement: text; // 入学要求 courseSystemIds: integer[]; // 课程体系（需要整数化） boarderTypeId: integer; // 住校类型（整数枚举：强制住校/提供住校/不提供住校） targetRegionIds: integer[]; // 留学国家（枚举与教师模块中一致） advantages: text[]; // 优势 feeTuitionId: integer; // 学费（枚举选择） feeApplication: text; // 报名费 feeAccommodation: text; // 住宿费 feeOther: text; // 其他费用 admissionBrochure: text; // 招生简章（HTML） entranceTime: text; // 开学时间 classSize: text; // 班级大小 teachingForm: text; // 授课形式 acceptTransfer: boolean; // 是否接受转学 order: integer.notNull; // 排序（小在前，新建的最大） enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校文章 interface IntSchoolArticle { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; coverUrl: text.notNull; title: text.notNull; content: text.notNull; // HTML内容 visitCount: integer.notNull.default<0>; feedId: integer; // 对应的动态ID enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校常见问题 interface IntSchoolFrequentQuestion { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; question: text.notNull; answer: text.notNull; enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; } // 国际学校开放日 interface IntSchoolOpenDay { id: integer.autoIncrement.primaryKey; intSchoolId: integer.notNull; date: date.notNull; // 仅日期（用数据库的DATE类型） time: text; // 时间（全天/半天） tags: integer[]; // 活动TAG（参观校园，招生问答，等等） enabled: boolean.notNull.default<false>; // 是否展示在客户端 reviewStatus: integer.notNull; // 是否需要审核 reviewData: json; // 审核数据 createTime: timestamptz.notNull.default<"now">; updateTime: timestamptz.notNull.default<"now">; }',"视频项目新增字段：","interface VideoItem { // ... intSchoolIds: integer[]; }","1.3. 状态说明","审核状态列表：","未提审 = reviewStatus = CREATED 待审核 = reviewStatus = PENDING 审核通过 = reviewStatus = ACCEPTED 审核不通过 = reviewStatus = REJECTED","上下线状态：","未上线 = enabled = false 已上线 = enabled = true","stateDiagram [*] --\x3e 未提审: 创建 未提审 --\x3e 待审核: 提审 待审核 --\x3e 审核不通过: 不通过 待审核 --\x3e 审核通过: 通过 审核通过 --\x3e 待审核: 更新提审 审核不通过 --\x3e 待审核: 重新提审 state 未提审 { 未上线 } state 待审核 { 已上线 --\x3e 未上线: 下线 } state 审核不通过 { 已上线 --\x3e 未上线: 下线 } state 审核通过 { 未上线 --\x3e 已上线: 上线 已上线 --\x3e 未上线: 下线 }","注：","上下线状态与审核状态是独立保存的 只能在审核通过时可以上线（变为已上线状态） 任何状态下都可以下线（变为未上线状态） 任何状态下编辑都只改变 reviewData 提交审核需要检测 reviewData 是否符合上线条件 上线操作时，需要检测正式数据是否符合上线条件"]},{link:"/articles/drafts/2.52.0.md#2-后台接口设计",title:"2. 后台接口设计",content:["2.1. 权限设计","新增两种权限：","国际学校校方编辑权限（intschool.edit），由校方担任，可以编辑绑定学校的信息，提交审核，删除未上线且未审核通过的内容 此权限的判断需要结合数据库数据判断是否编辑的是绑定学校 国际学校完全管理权限（intschool.admin），由平台担任，可以行使国际学校管理板块的所有功能（包括校方编辑功能）","2.2. 学校基本信息管理接口","2.2.1. 编辑审核数据模型","interface IntSchoolReviewData { chineseName: string; englishName: string; typeId: string; // 学校类型（公立/私立） provinceId: string; // 有单独接口可以获取中国所有省市 cityId: string; coverUrl: string; logo: string; coverWidth: number; coverHeight: number; website: string; establishmentYear: number; address: string; // 详细地址 area: string; // 占地面积 acceptForeign: boolean; // 是否接收外籍学生 introduction: string; // HTML学校简介 advantages: { title: string; description: string; image: string; }[]; // 学校优势 honors: { title: string; description: string; image: string; }[]; // 荣誉资质 totalStudentCount: number; // 学生总数 foreignTeacherRatio: string; // 外教比 facultyStudentRatio: string; // 师生比 graduatedSessionCount: number; // 毕业届数 graduateAdmissionRate: number; // 成功申请率 graduateAdmissionRateTop100: number; // 世界TOP100录取率 graduateAdmissionCountries: { countryId: string; ratio: number; }[]; graduateAdmissionSchools: { schoolId: number; school: { id: number; chineseName: string; englishName: string; }; count: number; }[]; }","2.2.2. 后台获取国际学校列表","GET /intschool/admin/list","interface Params { page: number; pageSize: number; keyword?: string; inCoop?: boolean; enabled?: boolean; reviewStatus?: number; pending?: boolean; }","interface Response { data: 0; data: { pagination: PaginationObject; data: { id: number; chineseName: string; englishName: string; enabled: boolean; reviewStatus: number; inCoop: boolean; order: number; pending: boolean; consultant: { id: number; realName: string; }; admin: { id: number; name: string; }; }[]; }; }","2.2.3. 后台修改国际学校绑定人员","PUT /intschool/admin/item/bindings","interface Params { id: number; // 国际学校ID inCoop: boolean; // 是否合作（不合作的话，会忽略下面两个参数，并设置为null） consultantId: number; // 绑定教师ID adminId: number; // 绑定管理员ID }","2.2.3.1. 后台获取可绑定管理员列表","GET /intschool/admin/item/bindings/admins","注：","即获取所有拥有「国际学校绑定编辑权限（intschool.edit.bound）」的管理员","interface Response { code: 0; data: { id: number; name: string; }[]; }","2.2.4. 后台设置国际学校上下线","PUT /intschool/admin/item/enabled","注：","只能在 reviewStatus 为 ACCEPTED 的情况下上线 任何时候都可以下线","interface Params { id: number; // 国际学校ID enabled: boolean; // 是否上线 }","2.2.5. 后台获取国际学校基本数据","GET /intschool/admin/item","注：","待审核数据放在 reviewData 里面，如果要查看待审数据，需要使用 reviewData 的版本","interface Params { id: number; // 国际学校ID }","interface Response { code: 0; data: IntSchoolReviewData & { id: number; reviewData?: IntSchoolReviewData; }; }","2.2.6. 后台获取国际学校基本信息相关选项数据","GET /intschool/admin/item/options","interface Response { code: 0; data: { types: { id: string; name: string }[]; boarderTypes: { id: string; name: string }[]; countries: { id: string; name: string }[]; }; }","2.2.7. 后台创建国际学校","POST /intschool/admin/item","注：","接口需要检查中文名重名，英文名重名","type Params = IntSchoolReviewData;","2.2.8. 后台编辑国际学校","PUT /intschool/admin/item","注：","接口需要检查中文名重名，英文名重名（查询时注意排除自身） 数据仅存入 reviewData","type Params = IntSchoolReviewData & { id: number };","2.2.9. 后台提审国际学校基本信息","POST /intschool/admin/item/submit","注：","处于任何 reviewStatus 都能够提交，将 reviewStatus 设为 PENDING","interface Params { id: number; // 国际学校ID }","2.2.10. 后台审核国际学校基本数据","POST /intschool/admin/item/review","注：","只能在 reviewStatus 为 PENDING 时处理 通过，则将 reviewStatus 设为 ACCEPTED，并将 reviewData 中的数据写入到正式数据（注意字段使用白名单过滤一下） 不通过，仅将 reviewStatus 设为 REJECTED，不处理 reviewData 本接口不自动上下线学校，审核过后，需要手动上线学校","interface Params { id: number; // 国际学校ID accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.2.11. 后台调整国际学校顺序","PUT /intschool/admin/item/order","注：","顺序值必须是现存的值 顺序值越小排越前面，1 在最前面，2 其次，依此类推","interface Params { id: number; // 国际学校ID order: number; // 顺序值 }","2.3. 国际学校点评管理","2.3.1. 后台获取国际学校点评列表","GET /intschool/admin/comment/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; category: string; // 点评分类 content: string; // 点评内容 pinned: boolean; enabled: boolean; reviewStatus: number; reviewData: { category: string; // 点评分类 content: string; // 点评内容 }; updateTime: Date; }[]; }; }","2.3.2. 后台添加国际学校点评","POST /intschool/admin/comment","interface Params { intSchoolId: number; // 国际学校ID category: string; // 点评分类 content: string; // 点评内容 }","2.3.3. 后台修改国际学校点评","PUT /intschool/admin/comment","interface Params { id: number; intSchoolId: number; // 仅作验证，不参与修改 category: string; // 点评分类 content: string; // 点评内容 }","2.3.4. 后台提审国际学校点评","POST /intschool/admin/comment/submit","interface Params { ids: number[]; intSchoolId: number; // 仅作验证，不参与修改 }","2.3.5. 后台审核国际学校点评","POST /intschool/admin/comment/review","interface Params { ids: number[]; intSchoolId: number; // 国际学校ID accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.3.6. 后台上下线国际学校点评","PUT /intschool/admin/comment/enabled","注：","只能在 reviewStatus 为 ACCEPTED 的情况下上线 任何时候都可以下线","interface Params { id: number; intSchoolId: number; // 国际学校ID enabled: boolean; // 是否上线 }","2.3.7. 后台删除国际学校点评","DELETE /intschool/admin/comment","interface Params { ids: number[]; intSchoolId: number; // 国际学校ID }","2.3.8. 后台置顶国际学校点评","PUT /intschool/admin/comment/pinned","注：","将同一个学校下的其他点评都设置为不置顶","interface Params { id: number; // 点评ID intSchoolId: number; // 国际学校ID pinned: boolean; // 是否置顶 }","2.4. 国际学校优秀毕业生管理","2.4.1. 后台获取优秀毕业生列表","GET /intschool/admin/student/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; title: string; // 点评内容 enabled: boolean; reviewStatus: number; updateTime: Date; }[]; }; }","2.4.2. 后台获取优秀毕业生详情","GET /intschool/admin/student","注：","intSchoolId 为必传参数","interface Params { id: number; intSchoolId: number; // 国际学校ID; }","interface Response { code: 0; data: { id: number; intSchoolId: number; title: string; coverUrl: string; content: string; enabled: boolean; reviewStatus: number; reviewData: { title: string; coverUrl: string; content: string; }; updateTime: Date; }; }","2.4.3. 后台添加优秀毕业生","POST /intschool/admin/student","interface Params { intSchoolId: number; coverUrl: string; title: string; content: string; }","2.4.4. 后台编辑优秀毕业生","PUT /intschool/admin/student","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 coverUrl: string; title: string; content: string; }","2.4.5. 后台提审优秀毕业生","POST /intschool/admin/student/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.4.6. 后台审核优秀毕业生","POST /intschool/admin/student/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.4.7. 后台上下线优秀毕业生","PUT /intschool/admin/student/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.4.8. 后台删除优秀毕业生","DELETE /intschool/admin/student","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.5. 国际学校社团管理","2.5.1. 后台获取社团列表","GET /intschool/admin/community/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; name: string; // 社团名称 title: string; // 社团介绍标题 enabled: boolean; reviewStatus: number; updateTime: Date; }[]; }; }","2.5.2. 后台获取社团详情","GET /intschool/admin/community","注：","intSchoolId 为必传参数","interface Params { id: number; intSchoolId: number; // 国际学校ID; }","interface Response { code: 0; data: { id: number; intSchoolId: number; name: string; title: string; coverUrl: string; content: string; enabled: boolean; reviewStatus: number; reviewData: { name: string; title: string; coverUrl: string; content: string; }; updateTime: Date; }; }","2.5.3. 后台添加社团","POST /intschool/admin/community","interface Params { intSchoolId: number; name: string; coverUrl: string; title: string; content: string; }","2.5.4. 后台编辑社团","PUT /intschool/admin/community","interface Params { id: number; intSchoolId: number; name: string; coverUrl: string; title: string; content: string; }","2.5.5. 后台提审社团","POST /intschool/admin/community/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.5.6. 后台审核社团","POST /intschool/admin/community/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.5.7. 后台上下线社团","PUT /intschool/admin/community/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.5.8. 后台删除社团","DELETE /intschool/admin/community","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.6. 国际学校招生项目管理","2.6.1. 后台获取招生项目列表","GET /intschool/admin/program/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; name: string; // 招生项目名称 departmentId: integer; // 开设年级 departmentName: string; enabled: boolean; reviewStatus: number; updateTime: Date; order: number; }[]; }; }","2.6.2. 后台调整招生项目顺序","PUT /intschool/admin/program/list/order","注：","数据库里有，但是这里没有提到的项目会按照 ID 顺序接在后面","interface Params { intSchoolId: number; order: number[]; // 按照顺序排列的招生项目ID数组 }","2.6.3. 后台获取招生项目详情","GET /intschool/admin/program","注：","intSchoolId 为必传参数","interface Params { id: number; intSchoolId: number; // 国际学校ID; }","interface Response { code: 0; data: { id: number; intSchoolId: number; name: string; // 项目名称 coverUrl: string; // 项目封面 departmentId: number; // 开设年级（需要整数化） enrollmentTarget: string; // 招生对象 enrollmentRequirement: string; // 入学要求 courseSystemIds: number[]; // 课程体系（需要整数化） boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校） targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致） advantages: string[]; // 优势 feeTuitionId: number; // 学费（枚举选择） feeApplication: string; // 报名费 feeAccommodation: string; // 住宿费 feeOther: string; // 其他费用 admissionBrochure: string; // 招生简章（HTML） 招生简章（HTML） entranceTime: string; // 开学时间 classSize: string; // 班级大小 teachingForm: string; // 授课形式 acceptTransfer: boolean; // 是否接受转学（枚举） order: number; // 排序（小在前，新建的最大） enabled: boolean; // 是否展示在客户端 reviewStatus: number; // 是否需要审核 reviewData: { name: string; // 项目名称 coverUrl: string; // 项目封面 departmentId: number; // 开设年级（需要整数化） enrollmentTarget: string; // 招生对象 enrollmentRequirement: string; // 入学要求 courseSystemIds: number[]; // 课程体系（需要整数化） boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校） targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致） advantages: string[]; // 优势 feeTuitionId: number; // 学费（枚举选择） feeApplication: string; // 报名费 feeAccommodation: string; // 住宿费 feeOther: string; // 其他费用 admissionBrochure: string; // 招生简章（HTML） entranceTime: string; // 开学时间 classSize: string; // 班级大小 teachingForm: string; // 授课形式 acceptTransfer: boolean; // 是否接受转学（枚举） }; // 审核数据 createTime: Date; updateTime: Date; }; }","2.6.4. 后台获取招生项目选项","GET /intschool/admin/program/options","interface Response { departments: { id: number; name: string }[]; courseSystems: { id: number; name: string }[]; boarderTypes: { id: number; name: string }[]; targetRegions: { id: number; name: string }[]; feeTuitions: { id: number; name: string }[]; }","2.6.5. 后台添加招生项目","POST /intschool/admin/program","interface Params { intSchoolId: number; name: string; // 项目名称 coverUrl: string; // 项目封面 departmentId: number; // 开设年级（需要整数化） enrollmentTarget: string; // 招生对象 enrollmentRequirement: string; // 入学要求 courseSystemIds: number[]; // 课程体系（需要整数化） boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校） targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致） advantages: string[]; // 优势 feeTuitionId: number; // 学费（枚举选择） feeApplication: string; // 报名费 feeAccommodation: string; // 住宿费 feeOther: string; // 其他费用 admissionBrochure: string; // 招生简章（HTML） entranceTime: string; // 开学时间 classSize: string; // 班级大小 teachingForm: string; // 授课形式 acceptTransfer: boolean; // 是否接受转学（枚举） }","2.6.6. 后台编辑招生项目","PUT /intschool/admin/program","interface Params { id: number; intSchoolId: number; name: string; // 项目名称 coverUrl: string; // 项目封面 departmentId: number; // 开设年级（需要整数化） enrollmentTarget: string; // 招生对象 enrollmentRequirement: string; // 入学要求 courseSystemIds: number[]; // 课程体系（需要整数化） boarderTypeId: number; // 住校类型（整数枚举：强制住校/提供住校/不提供住校） targetRegionIds: number[]; // 留学国家（枚举与教师模块中一致） advantages: string[]; // 优势 feeTuitionId: number; // 学费（枚举选择） feeApplication: string; // 报名费 feeAccommodation: string; // 住宿费 feeOther: string; // 其他费用 admissionBrochure: string; // 招生简章（HTML） entranceTime: string; // 开学时间 classSize: string; // 班级大小 teachingForm: string; // 授课形式 acceptTransfer: boolean; // 是否接受转学（枚举） }","2.6.7. 后台提审招生项目","POST /intschool/admin/program/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.6.8. 后台审核招生项目","POST /intschool/admin/program/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.6.9. 后台上下线招生项目","PUT /intschool/admin/program/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.6.10. 后台删除招生项目","DELETE /intschool/admin/program","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.7. 国际学校师资力量管理","2.7.1. 后台获取教师列表","GET /intschool/admin/teacher/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; name: string; avatarUrl: string; introduction: string; // 纯文本简介 enabled: boolean; reviewStatus: number; reviewData: { name: string; avatarUrl: string; introduction: string; }; // 审核数据 updateTime: Date; order: number; }[]; }; }","2.7.2. 后台添加教师","POST /intschool/admin/teacher","interface Params { intSchoolId: number; name: string; avatarUrl: string; introduction: string; // 纯文本简介 }","2.7.3. 后台编辑教师","PUT /intschool/admin/teacher","interface Params { id: number; intSchoolId: number; name: string; avatarUrl: string; introduction: string; // 纯文本简介 }","2.7.4. 后台提审教师","POST /intschool/admin/teacher/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.7.5. 后台审核教师","POST /intschool/admin/teacher/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.7.6. 后台上下线教师","PUT /intschool/admin/teacher/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.7.7. 后台删除教师","DELETE /intschool/admin/teacher","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.8. 国际学校文章管理","2.8.1. 后台获取文章列表","GET /intschool/admin/article/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; title: string; // 文章标题 enabled: boolean; reviewStatus: number; updateTime: Date; }[]; }; }","2.8.2. 后台获取文章详情","GET /intschool/admin/article","注：","intSchoolId 为必传参数","interface Params { id: number; intSchoolId: number; // 国际学校ID; }","interface Response { code: 0; data: { id: number; intSchoolId: number; coverUrl: string; title: string; content: string; // HTML内容 enabled: boolean; reviewStatus: number; reviewData: { coverUrl: string; title: string; content: string; // HTML内容 }; updateTime: Date; }; }","2.8.3. 后台添加文章","POST /intschool/admin/article","interface Params { intSchoolId: number; coverUrl: string; title: string; content: string; // HTML内容 }","2.8.4. 后台编辑文章","PUT /intschool/admin/article","interface Params { id: number; intSchoolId: number; coverUrl: string; title: string; content: string; // HTML内容 }","2.8.5. 后台提审文章","POST /intschool/admin/article/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.8.6. 后台审核文章","POST /intschool/admin/article/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.8.7. 后台上下线文章","PUT /intschool/admin/article/enabled","注：","上线文章时，同时产生一条动态 下线文章时，同时删除该动态","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.8.8. 后台删除文章","DELETE /intschool/admin/article","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.9. 国际学校常见问答管理","2.9.1. 后台获取常见问答列表","GET /intschool/admin/faq/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; question: string; answer: string; enabled: boolean; reviewStatus: number; reviewData: { question: string; answer: string; }; // 审核数据 updateTime: Date; order: number; }[]; }; }","2.9.2. 后台添加常见问答","POST /intschool/admin/faq","interface Params { intSchoolId: number; question: string; answer: string; }","2.9.3. 后台编辑常见问答","PUT /intschool/admin/faq","interface Params { id: number; intSchoolId: number; question: string; answer: string; }","2.9.4. 后台提审常见问答","POST /intschool/admin/faq/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.9.5. 后台审核常见问答","POST /intschool/admin/faq/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.9.6. 后台上下线常见问答","PUT /intschool/admin/faq/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.9.7. 后台删除常见问答","DELETE /intschool/admin/faq","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.10. 国际学校开放日管理","2.10.1. 后台获取开放日列表","GET /intschool/admin/openday/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; date: string; // 仅日期 time: string; // 时间（全天/半天） tags: integer[]; // 活动TAG（参观校园，招生问答，等等） enabled: boolean; reviewStatus: number; reviewData: { date: string; // 仅日期 time: string; // 时间（全天/半天） tags: integer[]; // 活动TAG（参观校园，招生问答，等等） }; // 审核数据 updateTime: Date; order: number; }[]; }; }","2.10.2. 后台添加开放日","POST /intschool/admin/openday","interface Params { intSchoolId: number; date: string; // 仅日期 time: string; // 时间（全天/半天） tags: integer[]; // 活动TAG（参观校园，招生问答，等等） }","2.10.3. 后台编辑开放日","PUT /intschool/admin/openday","interface Params { id: number; intSchoolId: number; date: string; // 仅日期 time: string; // 时间（全天/半天） tags: integer[]; // 活动TAG（参观校园，招生问答，等等） }","2.10.4. 后台提审开放日","POST /intschool/admin/openday/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.10.5. 后台审核开放日","POST /intschool/admin/openday/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.10.6. 后台上下线开放日","PUT /intschool/admin/openday/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.10.7. 后台删除开放日","DELETE /intschool/admin/openday","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.10.8. 后台获取开放日选项","GET /intschool/admin/openday/options","interface Response { code: 0; data: { time: { id: string; name: string }[]; tags: { id: number; name: string }[]; }; }","2.11. 国际学校照片管理","2.11.1. 后台获取照片列表","GET /intschool/admin/photo/list","注：","intSchoolId 为必传参数","interface Params { intSchoolId: number; // 国际学校ID page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: { // ... }; data: { id: number; intSchoolId: number; imageUrl: string; text: string; enabled: boolean; reviewStatus: number; reviewData: { imageUrl: string; text: string; }; // 审核数据 updateTime: Date; order: number; }[]; }; }","2.11.2. 后台添加照片","POST /intschool/admin/photo","interface Params { intSchoolId: number; imageUrl: string; width: number; height: number; text: string; }","2.11.3. 后台编辑照片","PUT /intschool/admin/photo","interface Params { id: number; intSchoolId: number; imageUrl: string; width: number; height: number; text: string; }","2.11.4. 后台提审照片","POST /intschool/admin/photo/sumbit","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }","2.11.5. 后台审核照片","POST /intschool/admin/photo/review","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 accept: boolean; // 是否接受数据（是：通过，否：不通过） }","2.11.6. 后台上下线照片","PUT /intschool/admin/photo/enabled","interface Params { id: number; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 enabled: boolean; }","2.11.7. 后台删除照片","DELETE /intschool/admin/photo","interface Params { ids: number[]; intSchoolId: number; // 仅用于验证ID，不是更新数据的一部分 }"]},{link:"/articles/drafts/2.52.0.md#3-前台接口设计",title:"3. 前台接口设计",content:["3.1. 国际学校列表接口","GET /intschool/list","interface Params { page: number; pageSize: number; // 筛选参数 keyword: string; provinceId: string; cityId: string; courseSystemId: number; targetRegionIds: number[]; departmentIds: number[]; typeIds: string[]; feeTuitionIds: number[]; boarderTypeIds: number[]; }","interface Response { code: 0; data: { pagination: PaginationObject; data: { id: number; chineseName: string; englishName: string; coverUrl: string; logo: string; courseSystemNames: string[]; departmentNames: string[]; advantageNames: string[]; cityPath: string; programs: null | { id: number; name: string; feeTuitionName: string }[]; }[]; meta: { options: { provinces: { id: string; name: string; count: number; selected: boolean; cities: { id: string; name: string; count: number; selected: boolean; }[]; }[]; courseSystems: { id: number; name: string; selected: boolean }[]; targetRegions: { id: number; name: string; selected: boolean }[]; departments: { id: number; name: string; selected: boolean }[]; boarderTypes: { id: number; name: string; selected: boolean }[]; types: { id: string; name: string; selected: boolean }[]; feeTuitions: { id: number; name: string; selected: boolean }[]; }; }; }; }","3.2. 国际学校详情接口","GET /intschool/item","interface Params { id: number; }","interface Response { code: 0; data: { id: number; chineseName: string; englishName: string; typeId: string; // 学校类型（公立/私立） typeName: string; boarderTypeName: string; provinceId: string; // 有单独接口可以获取中国所有省市 cityId: string; provinceName: string; cityName: string; cityPath: string; coverUrl: string; // 封面图 coverWidth: number; coverHeight: number; coverIsVideo: boolean; logo: string; website: string; // 学校官网 establishmentYear: number; // 建校年份 address: string; // 详细地址（可能用于地图定位） position: null | { lng: number; lat: number; }; area: string; // 占地面积 acceptForeign: boolean; // 是否接收外籍学生 introduction: string; // HTML学校简介 introductionPreview: string; // 纯文本学校简介预览 advantages: { title: string; description: string; image: string }[]; // 学校优势 honors: { title: string; description: string; image: string }[]; // 荣誉资质 totalStudentCount: number; // 学生总数 foreignTeacherRatio: string; // 外教比 facultyStudentRatio: string; // 师生比 graduatedSessionCount: number; // 毕业届数 graduateAdmissionRate: number; // 成功申请率 graduateAdmissionRateTop100: number; // 世界TOP100录取率 graduateAdmissionCountries: { // 毕业国家饼图 svg: string; data: { // 毕业国家比例 countryId: string; countryName: string; ratio: string; // 格式为：XX% }[]; }; graduateAdmissionSchoolsByCountries: { // 毕业学校统计（按国家分组） countryId: string; countryName: string; schools: { id: number; chineseName: string; englishName: string; logo: string; localRank: number; count: number; }[]; }[]; courseSystemNames: string[]; // 课程体系 targetRegions: { id: number; name: string }[]; // 对应留学国家 departments: { id: number; name: string; color: string; image: string }[]; // 开设年级 comments: { // 学校点评（限制数量） id: number; content: string; author: { id: number; // 这字段暂时是空的 type: number; // 这字段暂时是空的 name: string; avatar: string; }; }[]; students: { // 优秀毕业生（限制数量） id: number; title: string; coverUrl: string; }[]; communities: { // 社团（限制数量） id: number; name: string; coverUrl: string; }[]; upcomingOpenDay: { // 最近开放日（限制数量） date: string; time: string; tags: string[]; }; appointmentCount: number; // 预约咨询次数 visitAppointmentCount: number; // 预约探校次数 consultantId: number; // 预约老师ID // 预约老师信息 consultant: { id: number; realName: string; }; hasPrograms: boolean; // 是否有招生项目数据 hasTeachers: boolean; // 是否有教师数据 hasFeeds: boolean; // 是否有相关动态数据 }; }","3.3. 国际学校招生项目列表","GET /intschool/program/list","注：","不分页，一次性获取该学校的所有招生项目","interface Params { intSchoolId: number; }","interface Response { code: 0; data: { data: { id: number; name: string; coverUrl: string; advantages: string[]; departmentId: number; // 用这个做筛选 departmentName: string; // 这个仅用于展示 courseSystemNames: string[]; enrollmentRequirement: string; // 入学要求（录取方式） targetRegionNames: string[]; // 留学国家 }[]; meta: { options: { departments: { id: number; name: string }[]; // 开设年级 }; }; }; }","3.4. 国际学校招生项目详情","GET /intschool/program/item","interface Params { id: number; }","interface Response { code: 0; data: { id: number; name: string; coverUrl: string; advantages: string[]; departmentId: number; // 用这个做筛选 departmentName: string; // 这个仅用于展示 courseSystemNames: string[]; enrollmentTarget: string; // 招生对象 enrollmentRequirement: string; // 入学要求（录取方式） targetRegionNames: string[]; // 留学国家 feeTuitionName: string; feeApplication: string; feeAccommodation: string; feeOther: string; admissionBrochure: string; // 招生简章（HTML） entranceTime: string; // 开学时间 classSize: string; // 班级大小 teachingForm: string; // 授课形式 acceptTransfer: boolean; // 是否接受转学（枚举） consultantId: number; // 预约老师ID consultant: { id: number; realName: string }; // 预约老师信息 intSchool: { id: number; chineseName: string; englishName: string }; // 学校 }; }","3.5. 国际学校相关动态列表","GET /intschool/feed/list","interface Params { intSchoolId: number; page: number; pageSize: number; }","interface Response { // 和动态列表一样 }","3.6. 国际学校常见问题","GET /intschool/faq","注：不分页","interface Params { intSchoolId: number; }","interface Response { code: 0; data: { question: string; answer: string; }[]; }","3.7. 国际学校师资力量","GET /intschool/teacher/list","interface Params { intSchoolId: number; }","interface Response { code: 0; data: { id: number; name: string; introduction: string; avatarUrl: string; }[]; }","3.8. 国际学校点评列表","GET /intschool/comment/list","interface Params { intSchoolId: number; }","interface Response { code: 0; data: { name: string; // 分类名称 // 该分类下的点评 data: { id: number; content: string; author: { id: number; // 这字段暂时是空的 type: number; // 这字段暂时是空的 name: string; avatar: string; }; }[]; }[]; }","3.9. 国际学校优秀毕业生列表","GET /intschool/student/list","interface Params { intSchoolId: number; page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: PaginationObject; data: { id: number; title: string; coverUrl: string; }[]; }; }","3.10. 国际学校优秀毕业生详情","GET /intschool/student/item","interface Params { id: number; }","interface Response { code: 0; data: { id: number; title: string; coverUrl: string; content: string; visitCount: number; createTimeText: string; moreStudents: { id: number; title: string; coverUrl: string; }[]; }; }","3.11. 国际学校社团列表","GET /intschool/community/list","interface Params { intSchoolId: number; page: number; pageSize: number; }","interface Response { code: 0; data: { pagination: PaginationObject; data: { id: number; name: string; title: string; coverUrl: string; }[]; }; }","3.12. 国际学校社团详情","GET /intschool/community/item","interface Params { id: number; }","interface Response { code: 0; data: { id: number; name: string; title: string; coverUrl: string; content: string; visitCount: number; createTimeText: string; moreCommunities: { id: number; name: string; title: string; coverUrl: string; }[]; }; }","3.13. 国际学校照片视频接口","GET /intschool/gallery","interface Params { intSchoolId: number; }","interface Response { code: 0; data: { photos: [ { id: number; imageUrl: string; text: string; width: number; height: number; createTime: Date; createTimeText: string; } ]; videos: [ { id: number; name: string; introduction: string; coverUrl: string; watchCount: number; videoDuration: number; videoDurationText: string; } ]; }; }","3.12. 国际学校文章详情","GET /intschool/article/item","interface Params { id: number; }","interface Response { code: 0; data: { id: number; title: string; coverUrl: string; content: string; visitCount: number; createTimeText: string; }; }"]},{link:"/articles/drafts/2.52.0.md#4-其他改动",title:"4. 其他改动",content:["4.1. 大学点评改动","大学点评去掉教师账号关联关系，改动数据结构，同时旧版本 APP 访问时，保持旧的数据结构。","APP 版本 2.52.0 之前，保留 consultant 字段 APP 版本 2.52.0 及之后（包括 APP 以外的请求），删除 consultant 字段，在相同对象中新增 author 字段，类型如下： interface Author { id: number | null; type: number | null; name: string; avatar: string; }","4.2. 预约接口新增统计相关参数","POST /thirdparty/consultant/appointment/appoint","新增参数：","sourceType: string 来源类型 sourceContext: json 来源上下文参数","与国际项目相关的来源：",'// 预约咨询 interface Params { // ... sourceType: "intschool-contact"; sourceContext: { intSchoolId: number; }; } // 预约探校 interface Params { // ... sourceType: "intschool-visit"; sourceContext: { intSchoolId: number; }; }',"4.3. 后台视频编辑接口改动",'新增视频接口与修改视频接口新增 intSchoolId 参数，用于指定国际学校，传入空字符串（""）可以清除该字段。']}]},{link:"/articles/drafts/2.53.0.md",title:"2.53.0 接口与逻辑设计",content:["2.53.0 接口与逻辑设计 1. 预约重新评价 1.1. 重新评价接口 1.2. 我的预约接口 2. 教师端学生列表增加按照预约状态 2.1. 获取我的学生列表接口 3. 老师隐藏教育背景的开关 3.1. 获取教师个人信息接口 3.2. 新增修改教师个人选项接口 4. 动态水印图片 4.1. 发布动态接口 5. APP 跳转与交互调整 5.1. APP 跳转 5.2. APP 与 WEB 交互 5.2.1. 实现细节概述 5.2.2. iOS 实现细节描述 5.2.3. 安卓实现细节描述 5.2.4. APP 需要提供的函数 5.2.5. 备选的 Schema 调用方式 5.2.6. 兼容性考虑 5.3. 路由配置结构 5.3.1. 获取路由配置接口 6. 攻略文章管理 6.1. 表结构 6.2. 后台接口 6.2.1. 获取单层节点 6.2.2. 添加节点 6.2.3. 编辑节点 6.2.4. 移动节点 6.2.5. 删除节点 6.2.6. 获取文章列表 6.2.7. 获取文章详情 6.2.8. 添加文章 6.2.9. 修改文章 6.2.10. 删除文章 6.3. 前台接口 6.3.1. 获取文章详情 6.3.1. 获取目录树 7. 国际学校聚合页 7.1. 获取国际学校聚合页数据 7.2. 获取开放日列表 8. 其他变更 8.1. 国际学校预约相关修改"],markdown:'# 2.53.0 接口与逻辑设计\n\n- [2.53.0 接口与逻辑设计](#2530-%e6%8e%a5%e5%8f%a3%e4%b8%8e%e9%80%bb%e8%be%91%e8%ae%be%e8%ae%a1)\n  - [1. 预约重新评价](#1-%e9%a2%84%e7%ba%a6%e9%87%8d%e6%96%b0%e8%af%84%e4%bb%b7)\n    - [1.1. 重新评价接口](#11-%e9%87%8d%e6%96%b0%e8%af%84%e4%bb%b7%e6%8e%a5%e5%8f%a3)\n    - [1.2. 我的预约接口](#12-%e6%88%91%e7%9a%84%e9%a2%84%e7%ba%a6%e6%8e%a5%e5%8f%a3)\n  - [2. 教师端学生列表增加按照预约状态](#2-%e6%95%99%e5%b8%88%e7%ab%af%e5%ad%a6%e7%94%9f%e5%88%97%e8%a1%a8%e5%a2%9e%e5%8a%a0%e6%8c%89%e7%85%a7%e9%a2%84%e7%ba%a6%e7%8a%b6%e6%80%81)\n    - [2.1. 获取我的学生列表接口](#21-%e8%8e%b7%e5%8f%96%e6%88%91%e7%9a%84%e5%ad%a6%e7%94%9f%e5%88%97%e8%a1%a8%e6%8e%a5%e5%8f%a3)\n  - [3. 老师隐藏教育背景的开关](#3-%e8%80%81%e5%b8%88%e9%9a%90%e8%97%8f%e6%95%99%e8%82%b2%e8%83%8c%e6%99%af%e7%9a%84%e5%bc%80%e5%85%b3)\n    - [3.1. 获取教师个人信息接口](#31-%e8%8e%b7%e5%8f%96%e6%95%99%e5%b8%88%e4%b8%aa%e4%ba%ba%e4%bf%a1%e6%81%af%e6%8e%a5%e5%8f%a3)\n    - [3.2. 新增修改教师个人选项接口](#32-%e6%96%b0%e5%a2%9e%e4%bf%ae%e6%94%b9%e6%95%99%e5%b8%88%e4%b8%aa%e4%ba%ba%e9%80%89%e9%a1%b9%e6%8e%a5%e5%8f%a3)\n  - [4. 动态水印图片](#4-%e5%8a%a8%e6%80%81%e6%b0%b4%e5%8d%b0%e5%9b%be%e7%89%87)\n    - [4.1. 发布动态接口](#41-%e5%8f%91%e5%b8%83%e5%8a%a8%e6%80%81%e6%8e%a5%e5%8f%a3)\n  - [5. APP 跳转与交互调整](#5-app-%e8%b7%b3%e8%bd%ac%e4%b8%8e%e4%ba%a4%e4%ba%92%e8%b0%83%e6%95%b4)\n    - [5.1. APP 跳转](#51-app-%e8%b7%b3%e8%bd%ac)\n    - [5.2. APP 与 WEB 交互](#52-app-%e4%b8%8e-web-%e4%ba%a4%e4%ba%92)\n      - [5.2.1. 实现细节概述](#521-%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82%e6%a6%82%e8%bf%b0)\n      - [5.2.2. iOS 实现细节描述](#522-ios-%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82%e6%8f%8f%e8%bf%b0)\n      - [5.2.3. 安卓实现细节描述](#523-%e5%ae%89%e5%8d%93%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82%e6%8f%8f%e8%bf%b0)\n      - [5.2.4. APP 需要提供的函数](#524-app-%e9%9c%80%e8%a6%81%e6%8f%90%e4%be%9b%e7%9a%84%e5%87%bd%e6%95%b0)\n      - [5.2.5. 备选的 Schema 调用方式](#525-%e5%a4%87%e9%80%89%e7%9a%84-schema-%e8%b0%83%e7%94%a8%e6%96%b9%e5%bc%8f)\n      - [5.2.6. 兼容性考虑](#526-%e5%85%bc%e5%ae%b9%e6%80%a7%e8%80%83%e8%99%91)\n    - [5.3. 路由配置结构](#53-%e8%b7%af%e7%94%b1%e9%85%8d%e7%bd%ae%e7%bb%93%e6%9e%84)\n      - [5.3.1. 获取路由配置接口](#531-%e8%8e%b7%e5%8f%96%e8%b7%af%e7%94%b1%e9%85%8d%e7%bd%ae%e6%8e%a5%e5%8f%a3)\n  - [6. 攻略文章管理](#6-%e6%94%bb%e7%95%a5%e6%96%87%e7%ab%a0%e7%ae%a1%e7%90%86)\n    - [6.1. 表结构](#61-%e8%a1%a8%e7%bb%93%e6%9e%84)\n    - [6.2. 后台接口](#62-%e5%90%8e%e5%8f%b0%e6%8e%a5%e5%8f%a3)\n      - [6.2.1. 获取单层节点](#621-%e8%8e%b7%e5%8f%96%e5%8d%95%e5%b1%82%e8%8a%82%e7%82%b9)\n      - [6.2.2. 添加节点](#622-%e6%b7%bb%e5%8a%a0%e8%8a%82%e7%82%b9)\n      - [6.2.3. 编辑节点](#623-%e7%bc%96%e8%be%91%e8%8a%82%e7%82%b9)\n      - [6.2.4. 移动节点](#624-%e7%a7%bb%e5%8a%a8%e8%8a%82%e7%82%b9)\n      - [6.2.5. 删除节点](#625-%e5%88%a0%e9%99%a4%e8%8a%82%e7%82%b9)\n      - [6.2.6. 获取文章列表](#626-%e8%8e%b7%e5%8f%96%e6%96%87%e7%ab%a0%e5%88%97%e8%a1%a8)\n      - [6.2.7. 获取文章详情](#627-%e8%8e%b7%e5%8f%96%e6%96%87%e7%ab%a0%e8%af%a6%e6%83%85)\n      - [6.2.8. 添加文章](#628-%e6%b7%bb%e5%8a%a0%e6%96%87%e7%ab%a0)\n      - [6.2.9. 修改文章](#629-%e4%bf%ae%e6%94%b9%e6%96%87%e7%ab%a0)\n      - [6.2.10. 删除文章](#6210-%e5%88%a0%e9%99%a4%e6%96%87%e7%ab%a0)\n    - [6.3. 前台接口](#63-%e5%89%8d%e5%8f%b0%e6%8e%a5%e5%8f%a3)\n      - [6.3.1. 获取文章详情](#631-%e8%8e%b7%e5%8f%96%e6%96%87%e7%ab%a0%e8%af%a6%e6%83%85)\n      - [6.3.1. 获取目录树](#631-%e8%8e%b7%e5%8f%96%e7%9b%ae%e5%bd%95%e6%a0%91)\n  - [7. 国际学校聚合页](#7-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e8%81%9a%e5%90%88%e9%a1%b5)\n    - [7.1. 获取国际学校聚合页数据](#71-%e8%8e%b7%e5%8f%96%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e8%81%9a%e5%90%88%e9%a1%b5%e6%95%b0%e6%8d%ae)\n    - [7.2. 获取开放日列表](#72-%e8%8e%b7%e5%8f%96%e5%bc%80%e6%94%be%e6%97%a5%e5%88%97%e8%a1%a8)\n  - [8. 其他变更](#8-%e5%85%b6%e4%bb%96%e5%8f%98%e6%9b%b4)\n    - [8.1. 国际学校预约相关修改](#81-%e5%9b%bd%e9%99%85%e5%ad%a6%e6%a0%a1%e9%a2%84%e7%ba%a6%e7%9b%b8%e5%85%b3%e4%bf%ae%e6%94%b9)\n\n## 1. 预约重新评价\n\n### 1.1. 重新评价接口\n\n```http\nPUT /thirdparty/consultant/appointment/item/review\n```\n\n- 只能重新评价一次\n\n```ts\ninterface Params {\n  id: number; // 预约ID\n  score: number; // 评分 1-5 整数\n  content: string; // 评价，不填则代表清空\n}\n```\n\n### 1.2. 我的预约接口\n\n- 增加字段 `canEditReview` 表示是否可以重新评价\n\n## 2. 教师端学生列表增加按照预约状态\n\n### 2.1. 获取我的学生列表接口\n\n修改接口，增加筛选项。\n\n```http\nGET /thirdparty/interaction/list/all\n```\n\n```ts\ninterface Params {\n  page: number;\n  pageSize: number;\n  appointmentStatus: number; // 新增参数，按照预约状态筛选\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: {\n      /* ... */\n    };\n    data: [/* ... */];\n    meta: {\n      totalPendingCount: number;\n      options: {\n        // 预约状态筛选项数据\n        appointmentStatus: {\n          id: number;\n          name: string;\n        }[];\n      };\n    };\n  };\n}\n```\n\n## 3. 老师隐藏教育背景的开关\n\n### 3.1. 获取教师个人信息接口\n\n新增是否隐藏教育背景的字段\n\n```http\nGET /thirdparty/consultant/profile/app/self\nGET /thirdparty/consultant/profile/app?id={self.id}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    // ...\n    fromSchoolsVisible: boolean;\n  };\n}\n```\n\n### 3.2. 新增修改教师个人选项接口\n\n新增设置是否隐藏教育背景的字段\n\n```http\nPUT /thirdparty/consultant/profile/options\n```\n\n```ts\ninterface Params {\n  fromSchoolsVisible?: boolean;\n}\n```\n\n## 4. 动态水印图片\n\n### 4.1. 发布动态接口\n\n新增图片处理参数\n\n```http\nPOST /feed\n```\n\n```ts\ninterface Params {\n  // ...\n  imageWatermark?: "small-watermark" | "large-watermark";\n}\n```\n\n## 5. APP 跳转与交互调整\n\n### 5.1. APP 跳转\n\n- 路由可以由后端配置，前端服务需要定期请求路由配置（可提供接口用于手动刷新路由）\n- 前端跳转时，可根据系统版本/APP 版本使用不同的跳转逻辑\n\n跳转链接如下：\n\n```http\nhttps://oia.xuanxiaodi.com/school?view=ViewClassName&...\n\nxuanxiaodi://jump/school?view=ViewClassName&...\n\ninvokeAppFunction(\'jump\', { url: \'xuanxiaodi://jump/school?view=ViewClassName&...\' });\n```\n\n新的跳转链接判断逻辑：\n\n- 协议为 `http` 或 `https`，且域名为 `oia.xuanxiaodi.com`\n- 协议为 `xuanxiaodi`，且域名为 `jump`\n- `jump` 函数调用\n\nAPP 处理步骤：\n\n- 判读是否为上述跳转链接，不是则直接忽略跳转逻辑（即仅打开 APP）\n- 使用标准的 URL 解析器解析 URL，pathname 作为路由地址，query 解析为对象，作为路由参数\n- 根据路由参数判断跳转\n  - 默认学生与老师都可以跳转，如果提供了 ut 参数，则只有 ut 指定的类型可以打开（ut 与之前定义的用户类型的数值一致：1 代表学生，2 代表老师）\n  - 如果当前为老师身份，在路由参数中取出 cview 或 view 参数，判断出需要打开的视图，其他参数传给该视图处理\n    - 优先级为 cview > view\n  - 如果当前为学生身份，在路由参数中取出 view 参数，判断出需要打开的视图，其他参数传给该视图处理\n\nWEB 处理步骤：\n\n- 判断是否位于 APP 中\n\n  - 如果不在 APP 中，根据系统版本，判断使用 Universal Link 还是 App Scheme，并处理好路由参数\n  - 如果在 APP 中，根据 APP 版本，判断是否能够跳转该路由\n    - 如果能够跳转\n      - 如果 app 提供了 jump 函数，调起 jump 函数（需要 JS 完成加载，可以获取调用结果）\n      - 否则使用 App Scheme 跳转（无法执行备选方案，但是无需等待 JS 完成加载）\n    - 如果不能跳转，执行备选方案\n      - 可以跳转到对应的 WEB 页面\n      - 或者进行提示\n\n- 处理路由参数：\n  - 根据系统类型和路由映射，判断要跳转页面的 view，并附加到链接中\n\n### 5.2. APP 与 WEB 交互\n\n定义一套基于消息的异步函数调用机制：\n\n```js\nfunction call(name, data, callback = (err, data) => {}) {\n  const id = generateUniqueMessageId(); // id 使用 UUIDv4 生成\n\n  // manager封装了底层的消息传递逻辑\n  // 设置消息回调，当接收到对应的响应消息或者超时时，会调用并删除callback\n  manager.setCallback(id, callback);\n\n  // 发送调用消息\n  manager.sendMessage({ type: "call", id, name, data });\n}\n```\n\n发起调用的一方需要发送如下数据：\n\n```json\n{\n  "type": "call", // 固定为call\n  "id": "...", // 任意字符串，这次调用的唯一标识\n  "name": "函数名称",\n  "data": {\n    // 函数参数，固定为一个JSON对象\n  }\n}\n```\n\n完成调用的一方需要发送如下数据：\n\n```json\n// 成功时\n{\n  "type": "response",\n  "id": "...", // 和被调用时的id一致\n  "success": true,\n  "data": {\n    // 函数返回值，固定为一个JSON对象\n  }\n}\n\n// 失败时\n{\n  "type": "response",\n  "id": "...", // 和被调用时的id一致\n  "success": false,\n  "data": {\n    "message": "用于展示的错误信息",\n    "detail": "用于调试的错误信息（非必填）"\n  }\n}\n```\n\nAPP 可直接发起函数的调用，WEB 需要在发起调用前，根据 APP 版本判断是否支持该函数，不支持可以给出提示或者发起旧版本的交互方式。\n\n#### 5.2.1. 实现细节概述\n\n- iOS 向 JS 中注入一个新的 MessagePort，名字叫 `appFuncCall`，旧的 MessagePort 和 Scheme 处理机制保留。\n- 安卓向 JS 注入的全局对象 `app` 中增加新的方法 `appFuncCall`，旧的方法和 Scheme 处理机制保留。\n- Web 定义新的 JS 全局函数 `invokeWebFunction`\n\n用法如下：\n\n```js\n// JS向APP发送消息时\nwindow.appFuncCall(payload);\nwindow.webkit.messageHandlers.appFuncCall.postMessage(payload);\n\n// APP向JS发送消息时\njsContext.evaluateExpression("invokeWebFunction(" + payloadJsonString + ")");\n```\n\n#### 5.2.2. iOS 实现细节描述\n\n1. iOS 向 JS 中注入一个新的 MessagePort，名字叫 `appFuncCall`，旧的 MessagePort 和 Scheme 处理机制保留。\n2. 通过此消息管道接收到的消息用上面描述的结构解析，判断是函数调用还是函数响应\n3. 函数调用的情况下，APP 执行对应函数，并在结束时返回给 JS 结果（调用 JS 的全局函数 `invokeWebFunction()`）\n   1. 可以首先判断 APP 是否支持执行所指定的函数，如果不能执行，返回错误响应，message 为「当前版本不支持该功能」\n   2. 如果可以执行，执行对应函数，函数执行成功时，返回成功响应，data 根据每个函数有所不同\n   3. 函数执行失败时，返回错误响应，message 应为用户友好的错误提示，detail 可以携带对调试有帮助的细节信息\n4. 函数响应的情况下，APP 根据消息的 id 寻找之前由 APP 发起的调用请求\n   1. 如果之前有发起对应的调用，则使用消息内容，处理之前调用的结果，并发起回调\n   2. 如果之前没有发起对应的调用，则忽略此条消息\n\n#### 5.2.3. 安卓实现细节描述\n\n1. 安卓向 JS 注入的全局对象 `app` 中增加新的方法 `appFuncCall`，旧的方法和 Scheme 处理机制保留。\n2. 通过此新的方法接收到的消息用上面描述的结构解析，判断是函数调用还是函数响应\n3. 函数调用的情况下，APP 执行对应函数，并在结束时返回给 JS 结果（调用 JS 的全局函数 `invokeWebFunction()`）\n   1. 可以首先判断 APP 是否支持执行所指定的函数，如果不能执行，返回错误响应，message 为「当前版本不支持该功能」\n   2. 如果可以执行，执行对应函数，函数执行成功时，返回成功响应，data 根据每个函数有所不同\n   3. 函数执行失败时，返回错误响应，message 应为用户友好的错误提示，detail 可以携带对调试有帮助的细节信息\n4. 函数响应的情况下，APP 根据消息的 id 寻找之前由 APP 发起的调用请求\n   1. 如果之前有发起对应的调用，则使用消息内容，处理之前调用的结果，并发起回调\n   2. 如果之前没有发起对应的调用，则忽略此条消息\n\n#### 5.2.4. APP 需要提供的函数\n\n```ts\n// 跳转APP页面\nfunction jump(data: { url: string }): Response<{}>;\n\n// 未登录的情况下，弹出登录界面\nfunction showLogin(data: {}): Response<{}>;\n\n// 弹出Toast\nfunction showToast(data: { message: string }): Response<{}>;\n\n// 弹出攻略目录\nfunction showGuidebookMenu(data: { tree: TreeNode }): Response<{}>;\n\n// 调起分享\nfunction showShare({\n  title: string,\n  desc: string,\n  link: string,\n  imgUrl: string\n}): Response<{}>;\n\n// 设置分享行为\nfunction setupShare({\n  isShow: boolean, // 是否展示分享按钮\n  title: string,\n  desc: string,\n  link: string,\n  imgUrl: string\n}): Response<{}>;\n```\n\n#### 5.2.5. 备选的 Schema 调用方式\n\n可能 JS 未加载完成时就想要调用 APP 的功能，此时提供一个不需要返回值的备选方案\n\n```plain\nxuanxiaodi://call/{funcName}?data={data}\n\n// 例如：\nxuanxiaodi://call/jump?data=%7B%22path%22%3A%22%2Fschool%3Fid%3D8%26view%3DSchoolIndexVC%22%7D\n// 解析URL可以得到query参数data = "{"path":"/school?id=8&view=SchoolIndexVC"}"，与函数调用时的data内容一致\n```\n\n#### 5.2.6. 兼容性考虑\n\nAPP 端：\n\n1. APP 可能打开智课的其他 H5 页面，所以要保留智课通用的 `mobile://` 协议\n2. APP 可能打开的选校帝页面 JS 没有加载完成，所以要支持新的 `xuanxiaodi://call/*` 方式调用函数\n3. APP 打开的选校帝页面 JS 加载完成了，这时候会通过新的消息管道进行函数调用\n\nWEB 端：\n\n1. WEB 页面的 JS 未加载完成，这时候可以通过 UA 判断是否位于选校帝 APP 中\n   1. 如果位于选校帝 APP 中，使用新的 `xuanxiaodi://call/*` 方式调用函数\n   2. 如果不位于选校帝 APP 中，可以通过 query 判断是否在智课 APP 中\n      1. 如果在智课其他 APP 中，且对应的智课调用方式，使用该方式调用\n      2. 否则不进行调用（甚至可以隐藏按钮）\n2. WEB 页面的 JS 加载完成了，这时候可以通过 UA 判断是否位于选校帝 APP 中\n   1. 如果位于选校帝 APP 中，且 APP 支持新的函数调用机制，则使用新的机制进行调用\n   2. 如果位于选校帝 APP 中，且 APP 不支持新的函数调用机制，则使用对应的旧的机制进行调用\n   3. 根据 query 判断，如果位于智课其他 APP 中，且对应的智课调用方式，使用该方式调用\n   4. 如果不位于智课其他 APP 中，则不进行调用（甚至可以隐藏按钮）\n\n### 5.3. 路由配置结构\n\nWEB 前端可根据这个配置，判断具体一个路径具体渲染出的地址\n\n```ts\ntype AppRouteConfig = {\n  // 路径\n  path: string;\n\n  // 一个路径对应多个目标\n  targets: {\n    platform: "ios" | "android" | "wap" | "pc";\n    version: string;\n    target: string;\n    options: Record<string, any>;\n  }[];\n}[];\n```\n\n#### 5.3.1. 获取路由配置接口\n\n```http\nGET /app/routes\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    [path: string]: {\n      platform:\n        | "ios"\n        | "android"\n        | "web-mobile"\n        | "web-pc"\n        | ("ios" | "android" | "web-mobile" | "web-pc")[];\n      version: string;\n      target: string;\n      options?: {\n        params?: Record<\n          string,\n          {\n            required?: boolean;\n            defaultValue?: string;\n            mapping?: Record<string, string>;\n            prefix?: string;\n            suffix?: string;\n          }\n        >;\n        extra?: Record<string, string>;\n      };\n    }[];\n  };\n}\n```\n\n## 6. 攻略文章管理\n\n### 6.1. 表结构\n\n```ts\n@Index(["parentId", "order"])\ninterface GuidebookNode {\n  id: integer.autoIncrement.primaryKey;\n  name: text.notNull;\n  type: integer.notNull;\n  parentId: integer;\n  articleId: integer;\n  order: integer.notNull;\n  createTime: date.notNull.defaultValue<"now">;\n}\n\ninterface GuidebookArticle {\n  id: integer.autoIncrement.primaryKey;\n  title: text.notNull;\n  content: text.notNull;\n  visitCount: integer.notNull.defaultValue<0>;\n  createTime: date.notNull.defaultValue<"now">;\n}\n```\n\n### 6.2. 后台接口\n\n- 获取某个节点下的所有节点（或者所有根结点）\n- 添加节点（目录节点，文章节点）\n- 移动节点（移动到某个节点下的几号位置）\n- 删除节点（目录节点下有子节点时不能删除）\n- 添加文章，修改文章，删除文章（同时删除关联节点）\n\n#### 6.2.1. 获取单层节点\n\n```http\nGET /guidebook/admin/list\n```\n\n```ts\ninterface Params {\n  parentId: number | null;\n}\n```\n\n```ts\ninterface Resposne {\n  code: 0;\n  data: {\n    id: number;\n    name: string;\n    type: number;\n    parentId: number;\n    articleId: number;\n    order: number;\n    createTime: Date;\n  }[];\n}\n```\n\n#### 6.2.2. 添加节点\n\n```http\nPOST /guidebook/admin/node\n```\n\n- 检查 parentId：\n  - 必须是目录节点\n\n```ts\ninterface Params {\n  parentId: number | null;\n  name: string;\n  type: number;\n  articleId?: number;\n  order: number;\n}\n```\n\n#### 6.2.3. 编辑节点\n\n```http\nPUT /guidebook/admin/node\n```\n\n- 要同步修改文章标题\n\n```ts\ninterface Params {\n  id: number;\n  name: string;\n}\n```\n\n#### 6.2.4. 移动节点\n\n```http\nPUT /guidebook/admin/node/position\n```\n\n- 检查 parentId：\n  - 必须是目录节点\n  - 不能是自己或者自己的子节点\n\n```ts\ninterface Params {\n  id: number;\n  parentId: number | null;\n  order: number;\n}\n```\n\n#### 6.2.5. 删除节点\n\n```http\nDELETE /guidebook/admin/node\n```\n\n- 不能有子节点\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n#### 6.2.6. 获取文章列表\n\n```http\nGET /guidebook/admin/article/list\n```\n\n```ts\ninterface Params {\n  page: number;\n  pageSize: number;\n  keywords: string;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: PaginationObject;\n    data: {\n      id: number;\n      title: string;\n      visitCount: number;\n      createTime: Date;\n    }[];\n  };\n}\n```\n\n#### 6.2.7. 获取文章详情\n\n```http\nGET /guidebook/admin/article/item\n```\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    title: string;\n    content: string;\n    visitCount: number;\n    createTime: Date;\n  };\n}\n```\n\n#### 6.2.8. 添加文章\n\n```http\nPOST /guidebook/admin/article\n```\n\n```ts\ninterface Params {\n  title: string;\n  content: string;\n}\n```\n\n#### 6.2.9. 修改文章\n\n```http\nPUT /guidebook/admin/article\n```\n\n- 同时修改对应的节点的名称\n\n```ts\ninterface Params {\n  id: number;\n  title: string;\n  content: string;\n}\n```\n\n#### 6.2.10. 删除文章\n\n```http\nDELETE /guidebook/admin/article\n```\n\n- 同时删除对应的节点\n\n```ts\ninterface Params {\n  id: number;\n}\n```\n\n### 6.3. 前台接口\n\n- 获取文章（同时获取第一次出现时所属根结点下所有子节点结构）\n- 获取目录（某个节点下的所有子节点结构）\n\n目录节点类型：\n\n```ts\nenum GuidebookNodeType {\n  FOLDER = 1, // 目录节点\n  ARTICLE = 2 // 文章节点\n}\n```\n\n节点处理方式：\n\n- 目录节点：可展开收起，不能跳转\n- 文章节点：不能展开收起，能跳转\n- 未知类型：不能展开收起，不能跳转（目前版本应该没有）\n\n#### 6.3.1. 获取文章详情\n\n```http\nGET /guidebook/article/item\n```\n\n```ts\ninterface Params {\n  id: number; // 节点ID\n}\n```\n\n```ts\ntype Node = {\n  id: number;\n  type: number;\n  name: string;\n  children?: Node[];\n};\ninterface Response {\n  code: 0;\n  data: {\n    id: number;\n    title: string;\n    content: string;\n    visitCount: number;\n    createTime: Date;\n    tree: Node;\n  };\n}\n```\n\n#### 6.3.1. 获取目录树\n\n```http\nGET /guidebook/article/tree\n```\n\n```ts\ninterface Params {\n  id: number; // 根节点ID\n}\n```\n\n```ts\ntype Node = {\n  id: number;\n  type: number;\n  name: string;\n  children?: Node[];\n};\ninterface Response {\n  code: 0;\n  data: Node;\n}\n```\n\n## 7. 国际学校聚合页\n\n### 7.1. 获取国际学校聚合页数据\n\n```http\nGET /view/app/intschool\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    opendays: {\n      date: string;\n      time: string;\n      intSchool: {\n        id: number;\n        chineseName: string;\n        englishName: string;\n      };\n    }[];\n    navbar: {\n      title: string;\n      image: string;\n      route: string;\n    }[];\n    choosing: {\n      title: string;\n      image: string;\n      route: string;\n    }[];\n    choosingMore: {\n      route: string;\n    };\n    flow: {\n      title: string;\n      image: string;\n      route: string;\n    }[];\n    flowMore: {\n      route: string;\n    };\n    courseSystems: {\n      title: string;\n      subtitle: string;\n      image: string;\n      route: string;\n    }[];\n    courseSystemsMore: {\n      route: string;\n    };\n    enrollmentGuide: {\n      title: string;\n      image: string;\n      route: string;\n    }[];\n    enrollmentGuideMore: {\n      route: string;\n    };\n    bestIntSchools: {\n      // 学校列表视图数据\n      id: number;\n      chineseName: string;\n      englishName: string;\n      coverUrl: string;\n      logo: string;\n      courseSystemNames: string[];\n      departmentNames: string[];\n      advantageNames: string[];\n      cityPath: string;\n    }[];\n  };\n}\n```\n\n### 7.2. 获取开放日列表\n\n```http\nGET /intschool/openday/list\n```\n\n注意：\n\n- startTime 参数取拉取第一页的时间：\n  - 拉取第一页时，取该参数为当前时间\n  - 拉取第二页及之后的页面时，保持该参数和获取第一页时相同\n\n```ts\ninterface Params {\n  page: number;\n  pageSize: number;\n  provinceId: string;\n  cityId: string;\n  startTime: Date;\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    pagination: PaginationObject;\n    data: {\n      // 学校列表视图数据\n      id: number;\n      chineseName: string;\n      englishName: string;\n      coverUrl: string;\n      logo: string;\n      courseSystemNames: string[];\n      departmentNames: string[];\n      advantageNames: string[];\n      cityPath: string;\n      visitAppointmentCount: number;\n\n      // 开放日信息\n      openday: {\n        date: string;\n        time: string;\n        tags: string[];\n      };\n\n      // 预约老师信息\n      consultant: {\n        id: number;\n        realName: string;\n        enabled: boolean;\n        appointmentEnabled: boolean;\n      };\n\n      // 用户今日剩余预约次数\n      userTodayRemainingCount: number;\n    }[];\n    meta: {\n      options: {\n        provinces: {\n          id: string;\n          name: string;\n          selected: boolean;\n          cities: {\n            id: string;\n            name: string;\n            selected: boolean;\n          }[];\n        }[];\n      };\n    };\n  };\n}\n```\n\n## 8. 其他变更\n\n### 8.1. 国际学校预约相关修改\n\n国际学校一期的接口中，涉及到预约的页面，要增加教师可预约状态以及用户今日预约剩余数量数据。\n\n```http\nGET /intschool/item\nGET /intschool/program/item\n```\n\n```ts\ninterface SomeData {\n  // 预约老师信息\n  consultant: {\n    id: number;\n    realName: string;\n    enabled: boolean; // 新增数据\n    appointmentEnabled: boolean; // 新增数据\n  };\n\n  // 用户今日剩余预约次数\n  userTodayRemainingCount: number; // 新增数据\n}\n```\n',children:[{link:"/articles/drafts/2.53.0.md#1-预约重新评价",title:"1. 预约重新评价",content:["1.1. 重新评价接口","PUT /thirdparty/consultant/appointment/item/review","只能重新评价一次","interface Params { id: number; // 预约ID score: number; // 评分 1-5 整数 content: string; // 评价，不填则代表清空 }","1.2. 我的预约接口","增加字段 canEditReview 表示是否可以重新评价"]},{link:"/articles/drafts/2.53.0.md#2-教师端学生列表增加按照预约状态",title:"2. 教师端学生列表增加按照预约状态",content:["2.1. 获取我的学生列表接口","修改接口，增加筛选项。","GET /thirdparty/interaction/list/all","interface Params { page: number; pageSize: number; appointmentStatus: number; // 新增参数，按照预约状态筛选 }","interface Response { code: 0; data: { pagination: { /* ... */ }; data: [/* ... */]; meta: { totalPendingCount: number; options: { // 预约状态筛选项数据 appointmentStatus: { id: number; name: string; }[]; }; }; }; }"]},{link:"/articles/drafts/2.53.0.md#3-老师隐藏教育背景的开关",title:"3. 老师隐藏教育背景的开关",content:["3.1. 获取教师个人信息接口","新增是否隐藏教育背景的字段","GET /thirdparty/consultant/profile/app/self GET /thirdparty/consultant/profile/app?id={self.id}","interface Response { code: 0; data: { // ... fromSchoolsVisible: boolean; }; }","3.2. 新增修改教师个人选项接口","新增设置是否隐藏教育背景的字段","PUT /thirdparty/consultant/profile/options","interface Params { fromSchoolsVisible?: boolean; }"]},{link:"/articles/drafts/2.53.0.md#4-动态水印图片",title:"4. 动态水印图片",content:["4.1. 发布动态接口","新增图片处理参数","POST /feed",'interface Params { // ... imageWatermark?: "small-watermark" | "large-watermark"; }']},{link:"/articles/drafts/2.53.0.md#5-app-跳转与交互调整",title:"5. APP 跳转与交互调整",content:["5.1. APP 跳转","路由可以由后端配置，前端服务需要定期请求路由配置（可提供接口用于手动刷新路由） 前端跳转时，可根据系统版本/APP 版本使用不同的跳转逻辑","跳转链接如下：","https://oia.xuanxiaodi.com/school?view=ViewClassName&... xuanxiaodi://jump/school?view=ViewClassName&... invokeAppFunction('jump', { url: 'xuanxiaodi://jump/school?view=ViewClassName&...' });","新的跳转链接判断逻辑：","协议为 http 或 https，且域名为 oia.xuanxiaodi.com 协议为 xuanxiaodi，且域名为 jump jump 函数调用","APP 处理步骤：","判读是否为上述跳转链接，不是则直接忽略跳转逻辑（即仅打开 APP） 使用标准的 URL 解析器解析 URL，pathname 作为路由地址，query 解析为对象，作为路由参数 根据路由参数判断跳转 默认学生与老师都可以跳转，如果提供了 ut 参数，则只有 ut 指定的类型可以打开（ut 与之前定义的用户类型的数值一致：1 代表学生，2 代表老师） 如果当前为老师身份，在路由参数中取出 cview 或 view 参数，判断出需要打开的视图，其他参数传给该视图处理 优先级为 cview > view 如果当前为学生身份，在路由参数中取出 view 参数，判断出需要打开的视图，其他参数传给该视图处理","WEB 处理步骤：","判断是否位于 APP 中 如果不在 APP 中，根据系统版本，判断使用 Universal Link 还是 App Scheme，并处理好路由参数 如果在 APP 中，根据 APP 版本，判断是否能够跳转该路由 如果能够跳转 如果 app 提供了 jump 函数，调起 jump 函数（需要 JS 完成加载，可以获取调用结果） 否则使用 App Scheme 跳转（无法执行备选方案，但是无需等待 JS 完成加载） 如果不能跳转，执行备选方案 可以跳转到对应的 WEB 页面 或者进行提示 处理路由参数： 根据系统类型和路由映射，判断要跳转页面的 view，并附加到链接中","5.2. APP 与 WEB 交互","定义一套基于消息的异步函数调用机制：",'function call(name, data, callback = (err, data) => {}) { const id = generateUniqueMessageId(); // id 使用 UUIDv4 生成 // manager封装了底层的消息传递逻辑 // 设置消息回调，当接收到对应的响应消息或者超时时，会调用并删除callback manager.setCallback(id, callback); // 发送调用消息 manager.sendMessage({ type: "call", id, name, data }); }',"发起调用的一方需要发送如下数据：",'{ "type": "call", // 固定为call "id": "...", // 任意字符串，这次调用的唯一标识 "name": "函数名称", "data": { // 函数参数，固定为一个JSON对象 } }',"完成调用的一方需要发送如下数据：",'// 成功时 { "type": "response", "id": "...", // 和被调用时的id一致 "success": true, "data": { // 函数返回值，固定为一个JSON对象 } } // 失败时 { "type": "response", "id": "...", // 和被调用时的id一致 "success": false, "data": { "message": "用于展示的错误信息", "detail": "用于调试的错误信息（非必填）" } }',"APP 可直接发起函数的调用，WEB 需要在发起调用前，根据 APP 版本判断是否支持该函数，不支持可以给出提示或者发起旧版本的交互方式。","5.2.1. 实现细节概述","iOS 向 JS 中注入一个新的 MessagePort，名字叫 appFuncCall，旧的 MessagePort 和 Scheme 处理机制保留。 安卓向 JS 注入的全局对象 app 中增加新的方法 appFuncCall，旧的方法和 Scheme 处理机制保留。 Web 定义新的 JS 全局函数 invokeWebFunction","用法如下：",'// JS向APP发送消息时 window.appFuncCall(payload); window.webkit.messageHandlers.appFuncCall.postMessage(payload); // APP向JS发送消息时 jsContext.evaluateExpression("invokeWebFunction(" + payloadJsonString + ")");',"5.2.2. iOS 实现细节描述","iOS 向 JS 中注入一个新的 MessagePort，名字叫 appFuncCall，旧的 MessagePort 和 Scheme 处理机制保留。 通过此消息管道接收到的消息用上面描述的结构解析，判断是函数调用还是函数响应 函数调用的情况下，APP 执行对应函数，并在结束时返回给 JS 结果（调用 JS 的全局函数 invokeWebFunction()） 可以首先判断 APP 是否支持执行所指定的函数，如果不能执行，返回错误响应，message 为「当前版本不支持该功能」 如果可以执行，执行对应函数，函数执行成功时，返回成功响应，data 根据每个函数有所不同 函数执行失败时，返回错误响应，message 应为用户友好的错误提示，detail 可以携带对调试有帮助的细节信息 函数响应的情况下，APP 根据消息的 id 寻找之前由 APP 发起的调用请求 如果之前有发起对应的调用，则使用消息内容，处理之前调用的结果，并发起回调 如果之前没有发起对应的调用，则忽略此条消息","5.2.3. 安卓实现细节描述","安卓向 JS 注入的全局对象 app 中增加新的方法 appFuncCall，旧的方法和 Scheme 处理机制保留。 通过此新的方法接收到的消息用上面描述的结构解析，判断是函数调用还是函数响应 函数调用的情况下，APP 执行对应函数，并在结束时返回给 JS 结果（调用 JS 的全局函数 invokeWebFunction()） 可以首先判断 APP 是否支持执行所指定的函数，如果不能执行，返回错误响应，message 为「当前版本不支持该功能」 如果可以执行，执行对应函数，函数执行成功时，返回成功响应，data 根据每个函数有所不同 函数执行失败时，返回错误响应，message 应为用户友好的错误提示，detail 可以携带对调试有帮助的细节信息 函数响应的情况下，APP 根据消息的 id 寻找之前由 APP 发起的调用请求 如果之前有发起对应的调用，则使用消息内容，处理之前调用的结果，并发起回调 如果之前没有发起对应的调用，则忽略此条消息","5.2.4. APP 需要提供的函数","// 跳转APP页面 function jump(data: { url: string }): Response<{}>; // 未登录的情况下，弹出登录界面 function showLogin(data: {}): Response<{}>; // 弹出Toast function showToast(data: { message: string }): Response<{}>; // 弹出攻略目录 function showGuidebookMenu(data: { tree: TreeNode }): Response<{}>; // 调起分享 function showShare({ title: string, desc: string, link: string, imgUrl: string }): Response<{}>; // 设置分享行为 function setupShare({ isShow: boolean, // 是否展示分享按钮 title: string, desc: string, link: string, imgUrl: string }): Response<{}>;","5.2.5. 备选的 Schema 调用方式","可能 JS 未加载完成时就想要调用 APP 的功能，此时提供一个不需要返回值的备选方案",'xuanxiaodi://call/{funcName}?data={data} // 例如： xuanxiaodi://call/jump?data=%7B%22path%22%3A%22%2Fschool%3Fid%3D8%26view%3DSchoolIndexVC%22%7D // 解析URL可以得到query参数data = "{"path":"/school?id=8&view=SchoolIndexVC"}"，与函数调用时的data内容一致',"5.2.6. 兼容性考虑","APP 端：","APP 可能打开智课的其他 H5 页面，所以要保留智课通用的 mobile:// 协议 APP 可能打开的选校帝页面 JS 没有加载完成，所以要支持新的 xuanxiaodi://call/* 方式调用函数 APP 打开的选校帝页面 JS 加载完成了，这时候会通过新的消息管道进行函数调用","WEB 端：","WEB 页面的 JS 未加载完成，这时候可以通过 UA 判断是否位于选校帝 APP 中 如果位于选校帝 APP 中，使用新的 xuanxiaodi://call/* 方式调用函数 如果不位于选校帝 APP 中，可以通过 query 判断是否在智课 APP 中 如果在智课其他 APP 中，且对应的智课调用方式，使用该方式调用 否则不进行调用（甚至可以隐藏按钮） WEB 页面的 JS 加载完成了，这时候可以通过 UA 判断是否位于选校帝 APP 中 如果位于选校帝 APP 中，且 APP 支持新的函数调用机制，则使用新的机制进行调用 如果位于选校帝 APP 中，且 APP 不支持新的函数调用机制，则使用对应的旧的机制进行调用 根据 query 判断，如果位于智课其他 APP 中，且对应的智课调用方式，使用该方式调用 如果不位于智课其他 APP 中，则不进行调用（甚至可以隐藏按钮）","5.3. 路由配置结构","WEB 前端可根据这个配置，判断具体一个路径具体渲染出的地址",'type AppRouteConfig = { // 路径 path: string; // 一个路径对应多个目标 targets: { platform: "ios" | "android" | "wap" | "pc"; version: string; target: string; options: Record<string, any>; }[]; }[];',"5.3.1. 获取路由配置接口","GET /app/routes",'interface Response { code: 0; data: { [path: string]: { platform: | "ios" | "android" | "web-mobile" | "web-pc" | ("ios" | "android" | "web-mobile" | "web-pc")[]; version: string; target: string; options?: { params?: Record< string, { required?: boolean; defaultValue?: string; mapping?: Record<string, string>; prefix?: string; suffix?: string; } >; extra?: Record<string, string>; }; }[]; }; }']},{link:"/articles/drafts/2.53.0.md#6-攻略文章管理",title:"6. 攻略文章管理",content:["6.1. 表结构",'@Index(["parentId", "order"]) interface GuidebookNode { id: integer.autoIncrement.primaryKey; name: text.notNull; type: integer.notNull; parentId: integer; articleId: integer; order: integer.notNull; createTime: date.notNull.defaultValue<"now">; } interface GuidebookArticle { id: integer.autoIncrement.primaryKey; title: text.notNull; content: text.notNull; visitCount: integer.notNull.defaultValue<0>; createTime: date.notNull.defaultValue<"now">; }',"6.2. 后台接口","获取某个节点下的所有节点（或者所有根结点） 添加节点（目录节点，文章节点） 移动节点（移动到某个节点下的几号位置） 删除节点（目录节点下有子节点时不能删除） 添加文章，修改文章，删除文章（同时删除关联节点）","6.2.1. 获取单层节点","GET /guidebook/admin/list","interface Params { parentId: number | null; }","interface Resposne { code: 0; data: { id: number; name: string; type: number; parentId: number; articleId: number; order: number; createTime: Date; }[]; }","6.2.2. 添加节点","POST /guidebook/admin/node","检查 parentId： 必须是目录节点","interface Params { parentId: number | null; name: string; type: number; articleId?: number; order: number; }","6.2.3. 编辑节点","PUT /guidebook/admin/node","要同步修改文章标题","interface Params { id: number; name: string; }","6.2.4. 移动节点","PUT /guidebook/admin/node/position","检查 parentId： 必须是目录节点 不能是自己或者自己的子节点","interface Params { id: number; parentId: number | null; order: number; }","6.2.5. 删除节点","DELETE /guidebook/admin/node","不能有子节点","interface Params { id: number; }","6.2.6. 获取文章列表","GET /guidebook/admin/article/list","interface Params { page: number; pageSize: number; keywords: string; }","interface Response { code: 0; data: { pagination: PaginationObject; data: { id: number; title: string; visitCount: number; createTime: Date; }[]; }; }","6.2.7. 获取文章详情","GET /guidebook/admin/article/item","interface Params { id: number; }","interface Response { code: 0; data: { id: number; title: string; content: string; visitCount: number; createTime: Date; }; }","6.2.8. 添加文章","POST /guidebook/admin/article","interface Params { title: string; content: string; }","6.2.9. 修改文章","PUT /guidebook/admin/article","同时修改对应的节点的名称","interface Params { id: number; title: string; content: string; }","6.2.10. 删除文章","DELETE /guidebook/admin/article","同时删除对应的节点","interface Params { id: number; }","6.3. 前台接口","获取文章（同时获取第一次出现时所属根结点下所有子节点结构） 获取目录（某个节点下的所有子节点结构）","目录节点类型：","enum GuidebookNodeType { FOLDER = 1, // 目录节点 ARTICLE = 2 // 文章节点 }","节点处理方式：","目录节点：可展开收起，不能跳转 文章节点：不能展开收起，能跳转 未知类型：不能展开收起，不能跳转（目前版本应该没有）","6.3.1. 获取文章详情","GET /guidebook/article/item","interface Params { id: number; // 节点ID }","type Node = { id: number; type: number; name: string; children?: Node[]; }; interface Response { code: 0; data: { id: number; title: string; content: string; visitCount: number; createTime: Date; tree: Node; }; }","6.3.1. 获取目录树","GET /guidebook/article/tree","interface Params { id: number; // 根节点ID }","type Node = { id: number; type: number; name: string; children?: Node[]; }; interface Response { code: 0; data: Node; }"]},{link:"/articles/drafts/2.53.0.md#7-国际学校聚合页",title:"7. 国际学校聚合页",content:["7.1. 获取国际学校聚合页数据","GET /view/app/intschool","interface Response { code: 0; data: { opendays: { date: string; time: string; intSchool: { id: number; chineseName: string; englishName: string; }; }[]; navbar: { title: string; image: string; route: string; }[]; choosing: { title: string; image: string; route: string; }[]; choosingMore: { route: string; }; flow: { title: string; image: string; route: string; }[]; flowMore: { route: string; }; courseSystems: { title: string; subtitle: string; image: string; route: string; }[]; courseSystemsMore: { route: string; }; enrollmentGuide: { title: string; image: string; route: string; }[]; enrollmentGuideMore: { route: string; }; bestIntSchools: { // 学校列表视图数据 id: number; chineseName: string; englishName: string; coverUrl: string; logo: string; courseSystemNames: string[]; departmentNames: string[]; advantageNames: string[]; cityPath: string; }[]; }; }","7.2. 获取开放日列表","GET /intschool/openday/list","注意：","startTime 参数取拉取第一页的时间： 拉取第一页时，取该参数为当前时间 拉取第二页及之后的页面时，保持该参数和获取第一页时相同","interface Params { page: number; pageSize: number; provinceId: string; cityId: string; startTime: Date; }","interface Response { code: 0; data: { pagination: PaginationObject; data: { // 学校列表视图数据 id: number; chineseName: string; englishName: string; coverUrl: string; logo: string; courseSystemNames: string[]; departmentNames: string[]; advantageNames: string[]; cityPath: string; visitAppointmentCount: number; // 开放日信息 openday: { date: string; time: string; tags: string[]; }; // 预约老师信息 consultant: { id: number; realName: string; enabled: boolean; appointmentEnabled: boolean; }; // 用户今日剩余预约次数 userTodayRemainingCount: number; }[]; meta: { options: { provinces: { id: string; name: string; selected: boolean; cities: { id: string; name: string; selected: boolean; }[]; }[]; }; }; }; }"]},{link:"/articles/drafts/2.53.0.md#8-其他变更",title:"8. 其他变更",content:["8.1. 国际学校预约相关修改","国际学校一期的接口中，涉及到预约的页面，要增加教师可预约状态以及用户今日预约剩余数量数据。","GET /intschool/item GET /intschool/program/item","interface SomeData { // 预约老师信息 consultant: { id: number; realName: string; enabled: boolean; // 新增数据 appointmentEnabled: boolean; // 新增数据 }; // 用户今日剩余预约次数 userTodayRemainingCount: number; // 新增数据 }"]}]},{link:"/articles/drafts/2.54.0.md",title:"2.54.0 接口与逻辑设计",content:["2.54.0 接口与逻辑设计 1. 预约评价功能优化 1.1. 评价时增加标签参数 1.2. 教师获取预约详情时增加字段 1.3. 增加教师回复评价的接口 1.4. 重新评价时清空教师回复 1.5. 评价详情增加回复数据字段 2. 预约功能支持老师暂时关闭预约 2.1. 教师个人信息增加字段 2.2. 教师修改接受预约状态接口 2.3. 可预约状态判断逻辑修改 3. 预约填写微信 3.1. 提交预约接口增加微信号参数 3.2. 查看预约时给出微信号 4. 预约改为动态表单 4.1. 获取预约表单 4.2. 验证预约表单数据 4.3. 提交预约 4.4. 预约信息展示"],markdown:'# 2.54.0 接口与逻辑设计\n\n- [2.54.0 接口与逻辑设计](#2540-接口与逻辑设计)\n  - [1. 预约评价功能优化](#1-预约评价功能优化)\n    - [1.1. 评价时增加标签参数](#11-评价时增加标签参数)\n    - [1.2. 教师获取预约详情时增加字段](#12-教师获取预约详情时增加字段)\n    - [1.3. 增加教师回复评价的接口](#13-增加教师回复评价的接口)\n    - [1.4. 重新评价时清空教师回复](#14-重新评价时清空教师回复)\n    - [1.5. 评价详情增加回复数据字段](#15-评价详情增加回复数据字段)\n  - [2. 预约功能支持老师暂时关闭预约](#2-预约功能支持老师暂时关闭预约)\n    - [2.1. 教师个人信息增加字段](#21-教师个人信息增加字段)\n    - [2.2. 教师修改接受预约状态接口](#22-教师修改接受预约状态接口)\n    - [2.3. 可预约状态判断逻辑修改](#23-可预约状态判断逻辑修改)\n  - [3. 预约填写微信](#3-预约填写微信)\n    - [3.1. 提交预约接口增加微信号参数](#31-提交预约接口增加微信号参数)\n    - [3.2. 查看预约时给出微信号](#32-查看预约时给出微信号)\n  - [4. 预约改为动态表单](#4-预约改为动态表单)\n    - [4.1. 获取预约表单](#41-获取预约表单)\n    - [4.2. 验证预约表单数据](#42-验证预约表单数据)\n    - [4.3. 提交预约](#43-提交预约)\n    - [4.4. 预约信息展示](#44-预约信息展示)\n\n## 1. 预约评价功能优化\n\n- 预约评价功能支持快速评价（选择标签）\n- 预约评价功能支持老师回复评价\n\n### 1.1. 评价时增加标签参数\n\n```http\nPOST /thirdparty/consultant/appointment/item/review\nPUT /thirdparty/consultant/appointment/item/review\n```\n\n```ts\ninterface Params {\n  // ...\n  tags?: string[]; // 标签\n}\n```\n\n### 1.2. 教师获取预约详情时增加字段\n\n```http\nGET /thirdparty/consultant/appointment/tome/item\n```\n\n- 预约详情增加字段 `canReplyReview: boolean` 表示教师可否回复评价，条件为：用户已经进行了评价且教师尚未回复\n- 预约详情增加字段 `review.reply: string` 表示教师发布的评价\n\n### 1.3. 增加教师回复评价的接口\n\n```http\nPOST /thirdparty/consultant/appointment/item/review/reply\n```\n\n```ts\ninterface Params {\n  id: number; // 预约ID\n  reply: string; // 回复的文本内容\n}\n```\n\n### 1.4. 重新评价时清空教师回复\n\n```http\nPUT /thirdparty/consultant/appointment/item/review\n```\n\n- 重新评价时会清空评价下的教师回复\n\n### 1.5. 评价详情增加回复数据字段\n\n```http\nGET /thirdparty/consultant/appointment/item/mine\nGET /thirdparty/consultant/appointment/tome/item\nGET /thirdparty/consultant/reviews\n```\n\n- 增加的字段为 `reply: string`，与 `content` 处于同一层\n- 另外有增加字段 `tags: string`，与 `content` 处于同一层\n\n## 2. 预约功能支持老师暂时关闭预约\n\n- 增加接口控制老师的预约开关\n- 判断老师的预约状态时，加上这个字段综合考虑\n\n### 2.1. 教师个人信息增加字段\n\n- 教师个人信息增加 `appointmentAcceptable: boolean` 字段，表示教师现在是否接受预约\n\n### 2.2. 教师修改接受预约状态接口\n\n```http\nPUT /thirdparty/consultant/profile/options\n```\n\n- 此接口增加参数 `appointmentAcceptable: boolean` 字段，控制教师现在是否接受预约\n\n- 此接口的参数均可单独提供（改哪个传哪个）\n\n### 2.3. 可预约状态判断逻辑修改\n\n- 前端判断教师能否进行预约逻辑改为用 `consultant.appointmentAvailable: boolean` 判断（仍然需要配合 `userTodayRemainingCount`）\n\n- 之前使用 `consultantAvailable` 字段的地方只需要修改读取的字段即可\n- 之前使用 `appointmentEnabled` 等字段判断的地方，需要修改成用这个字段判断\n\n涉及接口：\n\n```http\nGET /activity/project/:id\nGET /cis/project/item\nGET /intschool/item\nGET /intschool/program/item\nGET /openday/list\nGET /thirdparty/service/plan/item\n```\n\n## 3. 预约填写微信\n\n- 预约最后一步，如果联系手机号填写国外号码，则出现<u>可选</u>的微信输入项\n\n### 3.1. 提交预约接口增加微信号参数\n\n```http\nPOST /thirdparty/consultant/appointment/appoint\n```\n\n```ts\ninterface Params {\n  // ...\n  contactWechat?: string; // 联系人微信号\n}\n```\n\n### 3.2. 查看预约时给出微信号\n\n```http\nGET /thirdparty/consultant/appointment/item/mine\nGET /thirdparty/consultant/appointment/tome/item\n```\n\n- 增加 `contactWechat` 字段，表示获取到的微信号\n- 教师身份查看时，如果用户填写了微信号，且教师尚未获取过资源时，会有一个字段 `contactWechatAvailable = true` 表示可以获取微信号，这种情况下，在获取过资源后需要刷新一下数据以获取 `contactWechat` 字段\n\n## 4. 预约改为动态表单\n\n- 增加接口获取某个老师的表单\n- 增加接口进行表单中单屏输入项的验证\n\n### 4.1. 获取预约表单\n\n```http\nGET /thirdparty/consultant/appointment/appoint/form\n```\n\n```ts\ninterface Params {\n  consultantId: number; // 导师ID\n}\n```\n\n```ts\ninterface Response {\n  code: 0;\n  data: {\n    consultant: {\n      id: number;\n      realName: string;\n      avatar: string;\n    };\n    form: {\n      key: string;\n      name: string;\n      sections: Input[][];\n    };\n  };\n}\n\ntype Input =\n  | {\n      type: "text"; // 文本输入框\n      name: string; // 字段名称\n      key: string; // 字段在对象中的名称\n      required: boolean; // 是否必填\n      placeholder?: string; // 未填写时显示的提示文本\n      tips?: string; // 额外提示文本\n    }\n  | {\n      type: "number"; // 数字输入框\n      name: string;\n      key: string;\n      required: boolean;\n      placeholder?: string;\n      tips?: string;\n      min?: number; // 最小值\n      max?: number; // 最大值\n    }\n  | {\n      type: "select"; // 选择框\n      name: string;\n      key: string;\n      required: boolean;\n      placeholder?: string;\n      tips?: string;\n      multiple: boolean; // 是否多选\n      style: "select" | "button"; // 控件样式：select=常规选择控件；button=按钮型选择控件\n\n      // 选项数据\n      options: {\n        id: number | string;\n        name: string;\n      };\n    }\n  | {\n      type: "nested"; // 嵌套输入框（子表单）\n      name: string;\n      key: string;\n      required: boolean; // 是否必填（子表单组件至少填写一个）\n      allowEmpty: boolean; // 在必填的情况下是否允许选择 “暂无”\n      allowEmptyText?: string; // 选择 “暂无” 的按钮的文本\n      emptyText?: string; // 选择 “暂无” 的情况下展示的数据\n      placeholder?: string;\n      tips?: string;\n      inputs: Input[];\n    };\n```\n\n### 4.2. 验证预约表单数据\n\n```http\nPOST /thirdparty/consultant/appointment/appoint/form/check\n```\n\n```ts\ntype Params = {\n  formKey: string;\n\n  // 表单数据\n  [key: string]: any;\n};\n```\n\n表单验证不通过会抛出错误，展示 toast 即可，没有抛出错误的情况下可直接进入下一步。\n\n### 4.3. 提交预约\n\n```http\nPOST /thirdparty/consultant/appointment/appoint\n```\n\n```ts\ntype Params = {\n  // 其他参数保持不变\n\n  // 将原本第一屏的固定参数 改为 表单数据，并增加表单key\n  formKey: string;\n  [key: string]: any;\n};\n```\n\n- formKey如果不传，则会使用留学类的表单进行验证\n\n### 4.4. 预约信息展示\n\n```http\nGET /thirdparty/consultant/appointment/item/mine\nGET /thirdparty/consultant/appointment/tome/item\nGET /thirdparty/consultant/admin/appointment\n```\n\n```ts\ninterface AppointmentItem {\n  // 其他原有字段\n\n  // 表单信息\n  userBackgroundInfo: InfoPair[][];\n}\n\ntype InfoPair = {\n  name: string; // 数据名称\n  value: string; // 数据内容\n};\n```\n',children:[{link:"/articles/drafts/2.54.0.md#1-预约评价功能优化",title:"1. 预约评价功能优化",content:["预约评价功能支持快速评价（选择标签） 预约评价功能支持老师回复评价","1.1. 评价时增加标签参数","POST /thirdparty/consultant/appointment/item/review PUT /thirdparty/consultant/appointment/item/review","interface Params { // ... tags?: string[]; // 标签 }","1.2. 教师获取预约详情时增加字段","GET /thirdparty/consultant/appointment/tome/item","预约详情增加字段 canReplyReview: boolean 表示教师可否回复评价，条件为：用户已经进行了评价且教师尚未回复 预约详情增加字段 review.reply: string 表示教师发布的评价","1.3. 增加教师回复评价的接口","POST /thirdparty/consultant/appointment/item/review/reply","interface Params { id: number; // 预约ID reply: string; // 回复的文本内容 }","1.4. 重新评价时清空教师回复","PUT /thirdparty/consultant/appointment/item/review","重新评价时会清空评价下的教师回复","1.5. 评价详情增加回复数据字段","GET /thirdparty/consultant/appointment/item/mine GET /thirdparty/consultant/appointment/tome/item GET /thirdparty/consultant/reviews","增加的字段为 reply: string，与 content 处于同一层 另外有增加字段 tags: string，与 content 处于同一层"]},{link:"/articles/drafts/2.54.0.md#2-预约功能支持老师暂时关闭预约",title:"2. 预约功能支持老师暂时关闭预约",content:["增加接口控制老师的预约开关 判断老师的预约状态时，加上这个字段综合考虑","2.1. 教师个人信息增加字段","教师个人信息增加 appointmentAcceptable: boolean 字段，表示教师现在是否接受预约","2.2. 教师修改接受预约状态接口","PUT /thirdparty/consultant/profile/options","此接口增加参数 appointmentAcceptable: boolean 字段，控制教师现在是否接受预约 此接口的参数均可单独提供（改哪个传哪个）","2.3. 可预约状态判断逻辑修改","前端判断教师能否进行预约逻辑改为用 consultant.appointmentAvailable: boolean 判断（仍然需要配合 userTodayRemainingCount） 之前使用 consultantAvailable 字段的地方只需要修改读取的字段即可 之前使用 appointmentEnabled 等字段判断的地方，需要修改成用这个字段判断","涉及接口：","GET /activity/project/:id GET /cis/project/item GET /intschool/item GET /intschool/program/item GET /openday/list GET /thirdparty/service/plan/item"]},{link:"/articles/drafts/2.54.0.md#3-预约填写微信",title:"3. 预约填写微信",content:["预约最后一步，如果联系手机号填写国外号码，则出现可选的微信输入项","3.1. 提交预约接口增加微信号参数","POST /thirdparty/consultant/appointment/appoint","interface Params { // ... contactWechat?: string; // 联系人微信号 }","3.2. 查看预约时给出微信号","GET /thirdparty/consultant/appointment/item/mine GET /thirdparty/consultant/appointment/tome/item","增加 contactWechat 字段，表示获取到的微信号 教师身份查看时，如果用户填写了微信号，且教师尚未获取过资源时，会有一个字段 contactWechatAvailable = true 表示可以获取微信号，这种情况下，在获取过资源后需要刷新一下数据以获取 contactWechat 字段"]},{link:"/articles/drafts/2.54.0.md#4-预约改为动态表单",title:"4. 预约改为动态表单",content:["增加接口获取某个老师的表单 增加接口进行表单中单屏输入项的验证","4.1. 获取预约表单","GET /thirdparty/consultant/appointment/appoint/form","interface Params { consultantId: number; // 导师ID }",'interface Response { code: 0; data: { consultant: { id: number; realName: string; avatar: string; }; form: { key: string; name: string; sections: Input[][]; }; }; } type Input = | { type: "text"; // 文本输入框 name: string; // 字段名称 key: string; // 字段在对象中的名称 required: boolean; // 是否必填 placeholder?: string; // 未填写时显示的提示文本 tips?: string; // 额外提示文本 } | { type: "number"; // 数字输入框 name: string; key: string; required: boolean; placeholder?: string; tips?: string; min?: number; // 最小值 max?: number; // 最大值 } | { type: "select"; // 选择框 name: string; key: string; required: boolean; placeholder?: string; tips?: string; multiple: boolean; // 是否多选 style: "select" | "button"; // 控件样式：select=常规选择控件；button=按钮型选择控件 // 选项数据 options: { id: number | string; name: string; }; } | { type: "nested"; // 嵌套输入框（子表单） name: string; key: string; required: boolean; // 是否必填（子表单组件至少填写一个） allowEmpty: boolean; // 在必填的情况下是否允许选择 “暂无” allowEmptyText?: string; // 选择 “暂无” 的按钮的文本 emptyText?: string; // 选择 “暂无” 的情况下展示的数据 placeholder?: string; tips?: string; inputs: Input[]; };',"4.2. 验证预约表单数据","POST /thirdparty/consultant/appointment/appoint/form/check","type Params = { formKey: string; // 表单数据 [key: string]: any; };","表单验证不通过会抛出错误，展示 toast 即可，没有抛出错误的情况下可直接进入下一步。","4.3. 提交预约","POST /thirdparty/consultant/appointment/appoint","type Params = { // 其他参数保持不变 // 将原本第一屏的固定参数 改为 表单数据，并增加表单key formKey: string; [key: string]: any; };","formKey如果不传，则会使用留学类的表单进行验证","4.4. 预约信息展示","GET /thirdparty/consultant/appointment/item/mine GET /thirdparty/consultant/appointment/tome/item GET /thirdparty/consultant/admin/appointment","interface AppointmentItem { // 其他原有字段 // 表单信息 userBackgroundInfo: InfoPair[][]; } type InfoPair = { name: string; // 数据名称 value: string; // 数据内容 };"]}]}]},{prefix:"tmp",list:[{link:"/articles/tmp/validate.md",title:"参数验证",content:[],markdown:'# 参数验证\n\n## 例 1\n\n```js\nconst v = require("valid8");\nv.validate(8, v.Int);\nv.validate(8, "int");\nv.validate(8, "int.neg");\nv.validate([1, 2], [Number, Number]);\n\nconst validate = v.compile([Number, Number]);\n```\n\n## 例 2\n\n```ts\n@V.Query("name", V.String)\n@V.Query({\n  name: V.String()\n})\nasync function hello() {\n  return test;\n}\n```\n',children:[{link:"/articles/tmp/validate.md#例-1",title:"例 1",content:['const v = require("valid8"); v.validate(8, v.Int); v.validate(8, "int"); v.validate(8, "int.neg"); v.validate([1, 2], [Number, Number]); const validate = v.compile([Number, Number]);']},{link:"/articles/tmp/validate.md#例-2",title:"例 2",content:['@V.Query("name", V.String) @V.Query({ name: V.String() }) async function hello() { return test; }']}]}]}]}};</script> <script id="inject"></script> <script src="src.0ba5c062.js"></script> </body></html>